import{k as getAugmentedNamespace,l as requireReact,m as requireReactDom,j as jsxRuntimeExports,r as reactExports,T as Toaster}from"./index-DQULxk8q.js";import{H as Header,F as Footer,C as CookieConsent}from"./CookieConsent-yMxG7oJh.js";var lib$h={exports:{}},defaultLayout_min={},lib$g={exports:{}},core_min={};function commonjsRequire(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports){(function(d,i){module.exports=d.pdfjsLib=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,((r,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.VerbosityLevel=d.Util=d.UnknownErrorException=d.UnexpectedResponseException=d.TextRenderingMode=d.RenderingIntentFlag=d.PromiseCapability=d.PermissionFlag=d.PasswordResponses=d.PasswordException=d.PageActionEventType=d.OPS=d.MissingPDFException=d.MAX_IMAGE_SIZE_TO_CACHE=d.LINE_FACTOR=d.LINE_DESCENT_FACTOR=d.InvalidPDFException=d.ImageKind=d.IDENTITY_MATRIX=d.FormatError=d.FeatureTest=d.FONT_IDENTITY_MATRIX=d.DocumentActionEventType=d.CMapCompressionType=d.BaseException=d.BASELINE_FACTOR=d.AnnotationType=d.AnnotationReplyType=d.AnnotationPrefix=d.AnnotationMode=d.AnnotationFlag=d.AnnotationFieldFlag=d.AnnotationEditorType=d.AnnotationEditorPrefix=d.AnnotationEditorParamsType=d.AnnotationBorderStyleType=d.AnnotationActionEventType=d.AbortException=void 0,d.assert=p,d.bytesToString=Y,d.createValidAbsoluteUrl=M,d.getModificationDate=Ze,d.getUuid=jt,d.getVerbosityLevel=$,d.info=W,d.isArrayBuffer=We,d.isArrayEqual=tt,d.isNodeJS=void 0,d.normalizeUnicode=st,d.objectFromMap=de,d.objectSize=_e,d.setVerbosityLevel=G,d.shadow=F,d.string32=le,d.stringToBytes=Q,d.stringToPDFString=be,d.stringToUTF8String=ke,d.unreachable=_,d.utf8StringToString=Le,d.warn=k;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");d.isNodeJS=i;const m=[1,0,0,1,0,0];d.IDENTITY_MATRIX=m;const E=[.001,0,0,.001,0,0];d.FONT_IDENTITY_MATRIX=E;const o=1e7;d.MAX_IMAGE_SIZE_TO_CACHE=o;const x=1.35;d.LINE_FACTOR=x;const z=.35;d.LINE_DESCENT_FACTOR=z;const X=z/x;d.BASELINE_FACTOR=X;const h={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};d.RenderingIntentFlag=h;const n={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};d.AnnotationMode=n;const a="pdfjs_internal_editor_";d.AnnotationEditorPrefix=a;const u={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};d.AnnotationEditorType=u;const c={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};d.AnnotationEditorParamsType=c;const e={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};d.PermissionFlag=e;const t={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};d.TextRenderingMode=t;const l={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};d.ImageKind=l;const s={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};d.AnnotationType=s;const f={GROUP:"Group",REPLY:"R"};d.AnnotationReplyType=f;const T={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};d.AnnotationFlag=T;const y={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};d.AnnotationFieldFlag=y;const g={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};d.AnnotationBorderStyleType=g;const A={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};d.AnnotationActionEventType=A;const D={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};d.DocumentActionEventType=D;const P={O:"PageOpen",C:"PageClose"};d.PageActionEventType=P;const R={ERRORS:0,WARNINGS:1,INFOS:5};d.VerbosityLevel=R;const j={NONE:0,BINARY:1};d.CMapCompressionType=j;const w={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};d.OPS=w;const N={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};d.PasswordResponses=N;let H=R.WARNINGS;function G(Ee){Number.isInteger(Ee)&&(H=Ee)}function $(){return H}function W(Ee){H>=R.INFOS&&console.log(`Info: ${Ee}`)}function k(Ee){H>=R.WARNINGS&&console.log(`Warning: ${Ee}`)}function _(Ee){throw new Error(Ee)}function p(Ee,ue){Ee||_(ue)}function b(Ee){switch(Ee?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function M(Ee,ue=null,se=null){if(!Ee)return null;try{if(se&&typeof Ee=="string"&&(se.addDefaultProtocol&&Ee.startsWith("www.")&&Ee.match(/\./g)?.length>=2&&(Ee=`http://${Ee}`),se.tryConvertEncoding))try{Ee=ke(Ee)}catch{}const Pe=ue?new URL(Ee,ue):new URL(Ee);if(b(Pe))return Pe}catch{}return null}function F(Ee,ue,se,Pe=!1){return Object.defineProperty(Ee,ue,{value:se,enumerable:!Pe,configurable:!0,writable:!1}),se}const I=(function(){function ue(se,Pe){this.constructor===ue&&_("Cannot initialize BaseException."),this.message=se,this.name=Pe}return ue.prototype=new Error,ue.constructor=ue,ue})();d.BaseException=I;class q extends I{constructor(ue,se){super(ue,"PasswordException"),this.code=se}}d.PasswordException=q;class B extends I{constructor(ue,se){super(ue,"UnknownErrorException"),this.details=se}}d.UnknownErrorException=B;class v extends I{constructor(ue){super(ue,"InvalidPDFException")}}d.InvalidPDFException=v;class C extends I{constructor(ue){super(ue,"MissingPDFException")}}d.MissingPDFException=C;class L extends I{constructor(ue,se){super(ue,"UnexpectedResponseException"),this.status=se}}d.UnexpectedResponseException=L;class V extends I{constructor(ue){super(ue,"FormatError")}}d.FormatError=V;class U extends I{constructor(ue){super(ue,"AbortException")}}d.AbortException=U;function Y(Ee){(typeof Ee!="object"||Ee?.length===void 0)&&_("Invalid argument for bytesToString");const ue=Ee.length,se=8192;if(ue<se)return String.fromCharCode.apply(null,Ee);const Pe=[];for(let it=0;it<ue;it+=se){const He=Math.min(it+se,ue),Je=Ee.subarray(it,He);Pe.push(String.fromCharCode.apply(null,Je))}return Pe.join("")}function Q(Ee){typeof Ee!="string"&&_("Invalid argument for stringToBytes");const ue=Ee.length,se=new Uint8Array(ue);for(let Pe=0;Pe<ue;++Pe)se[Pe]=Ee.charCodeAt(Pe)&255;return se}function le(Ee){return String.fromCharCode(Ee>>24&255,Ee>>16&255,Ee>>8&255,Ee&255)}function _e(Ee){return Object.keys(Ee).length}function de(Ee){const ue=Object.create(null);for(const[se,Pe]of Ee)ue[se]=Pe;return ue}function he(){const Ee=new Uint8Array(4);return Ee[0]=1,new Uint32Array(Ee.buffer,0,1)[0]===1}function fe(){try{return new Function(""),!0}catch{return!1}}class re{static get isLittleEndian(){return F(this,"isLittleEndian",he())}static get isEvalSupported(){return F(this,"isEvalSupported",fe())}static get isOffscreenCanvasSupported(){return F(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?F(this,"platform",{isWin:!1,isMac:!1}):F(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return F(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}d.FeatureTest=re;const ce=[...Array(256).keys()].map(Ee=>Ee.toString(16).padStart(2,"0"));class Se{static makeHexColor(ue,se,Pe){return`#${ce[ue]}${ce[se]}${ce[Pe]}`}static scaleMinMax(ue,se){let Pe;ue[0]?(ue[0]<0&&(Pe=se[0],se[0]=se[1],se[1]=Pe),se[0]*=ue[0],se[1]*=ue[0],ue[3]<0&&(Pe=se[2],se[2]=se[3],se[3]=Pe),se[2]*=ue[3],se[3]*=ue[3]):(Pe=se[0],se[0]=se[2],se[2]=Pe,Pe=se[1],se[1]=se[3],se[3]=Pe,ue[1]<0&&(Pe=se[2],se[2]=se[3],se[3]=Pe),se[2]*=ue[1],se[3]*=ue[1],ue[2]<0&&(Pe=se[0],se[0]=se[1],se[1]=Pe),se[0]*=ue[2],se[1]*=ue[2]),se[0]+=ue[4],se[1]+=ue[4],se[2]+=ue[5],se[3]+=ue[5]}static transform(ue,se){return[ue[0]*se[0]+ue[2]*se[1],ue[1]*se[0]+ue[3]*se[1],ue[0]*se[2]+ue[2]*se[3],ue[1]*se[2]+ue[3]*se[3],ue[0]*se[4]+ue[2]*se[5]+ue[4],ue[1]*se[4]+ue[3]*se[5]+ue[5]]}static applyTransform(ue,se){const Pe=ue[0]*se[0]+ue[1]*se[2]+se[4],it=ue[0]*se[1]+ue[1]*se[3]+se[5];return[Pe,it]}static applyInverseTransform(ue,se){const Pe=se[0]*se[3]-se[1]*se[2],it=(ue[0]*se[3]-ue[1]*se[2]+se[2]*se[5]-se[4]*se[3])/Pe,He=(-ue[0]*se[1]+ue[1]*se[0]+se[4]*se[1]-se[5]*se[0])/Pe;return[it,He]}static getAxialAlignedBoundingBox(ue,se){const Pe=this.applyTransform(ue,se),it=this.applyTransform(ue.slice(2,4),se),He=this.applyTransform([ue[0],ue[3]],se),Je=this.applyTransform([ue[2],ue[1]],se);return[Math.min(Pe[0],it[0],He[0],Je[0]),Math.min(Pe[1],it[1],He[1],Je[1]),Math.max(Pe[0],it[0],He[0],Je[0]),Math.max(Pe[1],it[1],He[1],Je[1])]}static inverseTransform(ue){const se=ue[0]*ue[3]-ue[1]*ue[2];return[ue[3]/se,-ue[1]/se,-ue[2]/se,ue[0]/se,(ue[2]*ue[5]-ue[4]*ue[3])/se,(ue[4]*ue[1]-ue[5]*ue[0])/se]}static singularValueDecompose2dScale(ue){const se=[ue[0],ue[2],ue[1],ue[3]],Pe=ue[0]*se[0]+ue[1]*se[2],it=ue[0]*se[1]+ue[1]*se[3],He=ue[2]*se[0]+ue[3]*se[2],Je=ue[2]*se[1]+ue[3]*se[3],zt=(Pe+Je)/2,Nt=Math.sqrt((Pe+Je)**2-4*(Pe*Je-He*it))/2,Ht=zt+Nt||1,xt=zt-Nt||1;return[Math.sqrt(Ht),Math.sqrt(xt)]}static normalizeRect(ue){const se=ue.slice(0);return ue[0]>ue[2]&&(se[0]=ue[2],se[2]=ue[0]),ue[1]>ue[3]&&(se[1]=ue[3],se[3]=ue[1]),se}static intersect(ue,se){const Pe=Math.max(Math.min(ue[0],ue[2]),Math.min(se[0],se[2])),it=Math.min(Math.max(ue[0],ue[2]),Math.max(se[0],se[2]));if(Pe>it)return null;const He=Math.max(Math.min(ue[1],ue[3]),Math.min(se[1],se[3])),Je=Math.min(Math.max(ue[1],ue[3]),Math.max(se[1],se[3]));return He>Je?null:[Pe,He,it,Je]}static bezierBoundingBox(ue,se,Pe,it,He,Je,zt,Nt){const Ht=[],xt=[[],[]];let Vt,Bt,$t,St,Xt,Kt,an,on;for(let fn=0;fn<2;++fn){if(fn===0?(Bt=6*ue-12*Pe+6*He,Vt=-3*ue+9*Pe-9*He+3*zt,$t=3*Pe-3*ue):(Bt=6*se-12*it+6*Je,Vt=-3*se+9*it-9*Je+3*Nt,$t=3*it-3*se),Math.abs(Vt)<1e-12){if(Math.abs(Bt)<1e-12)continue;St=-$t/Bt,0<St&&St<1&&Ht.push(St);continue}an=Bt*Bt-4*$t*Vt,on=Math.sqrt(an),!(an<0)&&(Xt=(-Bt+on)/(2*Vt),0<Xt&&Xt<1&&Ht.push(Xt),Kt=(-Bt-on)/(2*Vt),0<Kt&&Kt<1&&Ht.push(Kt))}let Zt=Ht.length,Dt;const sn=Zt;for(;Zt--;)St=Ht[Zt],Dt=1-St,xt[0][Zt]=Dt*Dt*Dt*ue+3*Dt*Dt*St*Pe+3*Dt*St*St*He+St*St*St*zt,xt[1][Zt]=Dt*Dt*Dt*se+3*Dt*Dt*St*it+3*Dt*St*St*Je+St*St*St*Nt;return xt[0][sn]=ue,xt[1][sn]=se,xt[0][sn+1]=zt,xt[1][sn+1]=Nt,xt[0].length=xt[1].length=sn+2,[Math.min(...xt[0]),Math.min(...xt[1]),Math.max(...xt[0]),Math.max(...xt[1])]}}d.Util=Se;const ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function be(Ee){if(Ee[0]>="ï"){let se;if(Ee[0]==="þ"&&Ee[1]==="ÿ"?se="utf-16be":Ee[0]==="ÿ"&&Ee[1]==="þ"?se="utf-16le":Ee[0]==="ï"&&Ee[1]==="»"&&Ee[2]==="¿"&&(se="utf-8"),se)try{const Pe=new TextDecoder(se,{fatal:!0}),it=Q(Ee);return Pe.decode(it)}catch(Pe){k(`stringToPDFString: "${Pe}".`)}}const ue=[];for(let se=0,Pe=Ee.length;se<Pe;se++){const it=ve[Ee.charCodeAt(se)];ue.push(it?String.fromCharCode(it):Ee.charAt(se))}return ue.join("")}function ke(Ee){return decodeURIComponent(escape(Ee))}function Le(Ee){return unescape(encodeURIComponent(Ee))}function We(Ee){return typeof Ee=="object"&&Ee?.byteLength!==void 0}function tt(Ee,ue){if(Ee.length!==ue.length)return!1;for(let se=0,Pe=Ee.length;se<Pe;se++)if(Ee[se]!==ue[se])return!1;return!0}function Ze(Ee=new Date){return[Ee.getUTCFullYear().toString(),(Ee.getUTCMonth()+1).toString().padStart(2,"0"),Ee.getUTCDate().toString().padStart(2,"0"),Ee.getUTCHours().toString().padStart(2,"0"),Ee.getUTCMinutes().toString().padStart(2,"0"),Ee.getUTCSeconds().toString().padStart(2,"0")].join("")}class gt{#e=!1;constructor(){this.promise=new Promise((ue,se)=>{this.resolve=Pe=>{this.#e=!0,ue(Pe)},this.reject=Pe=>{this.#e=!0,se(Pe)}})}get settled(){return this.#e}}d.PromiseCapability=gt;let rt=null,ft=null;function st(Ee){return rt||(rt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ft=new Map([["ﬅ","ſt"]])),Ee.replaceAll(rt,(ue,se,Pe)=>se?se.normalize("NFKC"):ft.get(Pe))}function jt(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const Ee=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(Ee);else for(let ue=0;ue<32;ue++)Ee[ue]=Math.floor(Math.random()*255);return Y(Ee)}const _t="pdfjs_internal_id_";d.AnnotationPrefix=_t}),((__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(r){if(typeof r=="string"||r instanceof URL?r={url:r}:(0,_util.isArrayBuffer)(r)&&(r={data:r}),typeof r!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!r.url&&!r.data&&!r.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const d=new PDFDocumentLoadingTask,{docId:i}=d,m=r.url?getUrlProp(r.url):null,E=r.data?getDataProp(r.data):null,o=r.httpHeaders||null,x=r.withCredentials===!0,z=r.password??null,X=r.range instanceof PDFDataRangeTransport?r.range:null,h=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let n=r.worker instanceof PDFWorker?r.worker:null;const a=r.verbosity,u=typeof r.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(r.docBaseUrl)?r.docBaseUrl:null,c=typeof r.cMapUrl=="string"?r.cMapUrl:null,e=r.cMapPacked!==!1,t=r.CMapReaderFactory||DefaultCMapReaderFactory,l=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,s=r.StandardFontDataFactory||DefaultStandardFontDataFactory,f=r.stopAtErrors!==!0,T=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,y=r.isEvalSupported!==!1,g=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!_util.isNodeJS,A=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,D=typeof r.disableFontFace=="boolean"?r.disableFontFace:_util.isNodeJS,P=r.fontExtraProperties===!0,R=r.enableXfa===!0,j=r.ownerDocument||globalThis.document,w=r.disableRange===!0,N=r.disableStream===!0,H=r.disableAutoFetch===!0,G=r.pdfBug===!0,$=X?X.length:r.length??NaN,W=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!_util.isNodeJS&&!D,k=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:t===_display_utils.DOMCMapReaderFactory&&s===_display_utils.DOMStandardFontDataFactory&&c&&l&&(0,_display_utils.isValidFetchUrl)(c,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(l,document.baseURI),_=r.canvasFactory||new DefaultCanvasFactory({ownerDocument:j}),p=r.filterFactory||new DefaultFilterFactory({docId:i,ownerDocument:j}),b=null;(0,_util.setVerbosityLevel)(a);const M={canvasFactory:_,filterFactory:p};if(k||(M.cMapReaderFactory=new t({baseUrl:c,isCompressed:e}),M.standardFontDataFactory=new s({baseUrl:l})),!n){const q={verbosity:a,port:_worker_options.GlobalWorkerOptions.workerPort};n=q.port?PDFWorker.fromPort(q):new PDFWorker(q),d._worker=n}const F={docId:i,apiVersion:"3.11.174",data:E,password:z,disableAutoFetch:H,rangeChunkSize:h,length:$,docBaseUrl:u,enableXfa:R,evaluatorOptions:{maxImageSize:T,disableFontFace:D,ignoreErrors:f,isEvalSupported:y,isOffscreenCanvasSupported:g,canvasMaxAreaInBytes:A,fontExtraProperties:P,useSystemFonts:W,cMapUrl:k?c:null,standardFontDataUrl:k?l:null}},I={ignoreErrors:f,isEvalSupported:y,disableFontFace:D,fontExtraProperties:P,enableXfa:R,ownerDocument:j,disableAutoFetch:H,pdfBug:G,styleElement:b};return n.promise.then(function(){if(d.destroyed)throw new Error("Loading aborted");const q=_fetchDocument(n,F),B=new Promise(function(v){let C;X?C=new _transport_stream.PDFDataTransportStream({length:$,initialData:X.initialData,progressiveDone:X.progressiveDone,contentDispositionFilename:X.contentDispositionFilename,disableRange:w,disableStream:N},X):E||(C=(V=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(V):(0,_display_utils.isValidFetchUrl)(V.url)?new _displayFetch_stream.PDFFetchStream(V):new _displayNetwork.PDFNetworkStream(V))({url:m,length:$,httpHeaders:o,withCredentials:x,rangeChunkSize:h,disableRange:w,disableStream:N})),v(C)});return Promise.all([q,B]).then(function([v,C]){if(d.destroyed)throw new Error("Loading aborted");const L=new _message_handler.MessageHandler(i,v,n.port),V=new WorkerTransport(L,d,C,I,M);d._transport=V,L.send("Ready",null)})}).catch(d._capability.reject),d}async function _fetchDocument(r,d){if(r.destroyed)throw new Error("Worker was destroyed");const i=await r.messageHandler.sendWithPromise("GetDocRequest",d,d.data?[d.data.buffer]:null);if(r.destroyed)throw new Error("Worker was destroyed");return i}function getUrlProp(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(_util.isNodeJS&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(r){if(_util.isNodeJS&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return(0,_util.stringToBytes)(r);if(typeof r=="object"&&!isNaN(r?.length)||(0,_util.isArrayBuffer)(r))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(d){throw this._worker?.port&&delete this._worker._pendingDestroy,d}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(d,i,m=!1,E=null){this.length=d,this.initialData=i,this.progressiveDone=m,this.contentDispositionFilename=E,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(d){this._rangeListeners.push(d)}addProgressListener(d){this._progressListeners.push(d)}addProgressiveReadListener(d){this._progressiveReadListeners.push(d)}addProgressiveDoneListener(d){this._progressiveDoneListeners.push(d)}onDataRange(d,i){for(const m of this._rangeListeners)m(d,i)}onDataProgress(d,i){this._readyCapability.promise.then(()=>{for(const m of this._progressListeners)m(d,i)})}onDataProgressiveRead(d){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(d)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const d of this._progressiveDoneListeners)d()})}transportReady(){this._readyCapability.resolve()}requestDataRange(d,i){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(d,i){this._pdfInfo=d,this._transport=i,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(m=>{if(!m)return m;const E=[];for(const o in m)E.push(...m[o]);return E}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(d){return this._transport.getPage(d)}getPageIndex(d){return this._transport.getPageIndex(d)}getDestinations(){return this._transport.getDestinations()}getDestination(d){return this._transport.getDestination(d)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(d=!1){return this._transport.startCleanup(d||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(d,i,m,E=!1){this._pageIndex=d,this._pageInfo=i,this._transport=m,this._stats=E?new _display_utils.StatTimer:null,this._pdfBug=E,this.commonObjs=m.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:d,rotation:i=this.rotate,offsetX:m=0,offsetY:E=0,dontFlip:o=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:d,rotation:i,offsetX:m,offsetY:E,dontFlip:o})}getAnnotations({intent:d="display"}={}){const i=this._transport.getRenderingIntent(d);return this._transport.getAnnotations(this._pageIndex,i.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:d,viewport:i,intent:m="display",annotationMode:E=_util.AnnotationMode.ENABLE,transform:o=null,background:x=null,optionalContentConfigPromise:z=null,annotationCanvasMap:X=null,pageColors:h=null,printAnnotationStorage:n=null}){this._stats?.time("Overall");const a=this._transport.getRenderingIntent(m,E,n);this.#t=!1,this.#r(),z||(z=this._transport.getOptionalContentConfig());let u=this._intentStates.get(a.cacheKey);u||(u=Object.create(null),this._intentStates.set(a.cacheKey,u)),u.streamReaderCancelTimeout&&(clearTimeout(u.streamReaderCancelTimeout),u.streamReaderCancelTimeout=null);const c=!!(a.renderingIntent&_util.RenderingIntentFlag.PRINT);u.displayReadyCapability||(u.displayReadyCapability=new _util.PromiseCapability,u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a));const e=s=>{u.renderTasks.delete(t),(this._maybeCleanupAfterRender||c)&&(this.#t=!0),this.#n(!c),s?(t.capability.reject(s),this._abortOperatorList({intentState:u,reason:s instanceof Error?s:new Error(s)})):t.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},t=new InternalRenderTask({callback:e,params:{canvasContext:d,viewport:i,transform:o,background:x},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:X,operatorList:u.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!c,pdfBug:this._pdfBug,pageColors:h});(u.renderTasks||=new Set).add(t);const l=t.task;return Promise.all([u.displayReadyCapability.promise,z]).then(([s,f])=>{if(this.destroyed){e();return}this._stats?.time("Rendering"),t.initializeGraphics({transparency:s,optionalContentConfig:f}),t.operatorListChanged()}).catch(e),l}getOperatorList({intent:d="display",annotationMode:i=_util.AnnotationMode.ENABLE,printAnnotationStorage:m=null}={}){function E(){x.operatorList.lastChunk&&(x.opListReadCapability.resolve(x.operatorList),x.renderTasks.delete(z))}const o=this._transport.getRenderingIntent(d,i,m,!0);let x=this._intentStates.get(o.cacheKey);x||(x=Object.create(null),this._intentStates.set(o.cacheKey,x));let z;return x.opListReadCapability||(z=Object.create(null),z.operatorListChanged=E,x.opListReadCapability=new _util.PromiseCapability,(x.renderTasks||=new Set).add(z),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),x.opListReadCapability.promise}streamTextContent({includeMarkedContent:d=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:d===!0,disableNormalization:i===!0},{highWaterMark:100,size(E){return E.items.length}})}getTextContent(d={}){if(this._transport._htmlForXfa)return this.getXfa().then(m=>_xfa_text.XfaText.textContent(m));const i=this.streamTextContent(d);return new Promise(function(m,E){function o(){x.read().then(function({value:X,done:h}){if(h){m(z);return}Object.assign(z.styles,X.styles),z.items.push(...X.items),o()},E)}const x=i.getReader(),z={items:[],styles:Object.create(null)};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const d=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const m of i.renderTasks)d.push(m.completed),m.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(d)}cleanup(d=!1){this.#t=!0;const i=this.#n(!1);return d&&i&&(this._stats&&=new _display_utils.StatTimer),i}#n(d=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(d)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:i,operatorList:m}of this._intentStates.values())if(i.size>0||!m.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(d,i){const m=this._intentStates.get(i);m&&(this._stats?.timeEnd("Page Request"),m.displayReadyCapability?.resolve(d))}_renderPageChunk(d,i){for(let m=0,E=d.length;m<E;m++)i.operatorList.fnArray.push(d.fnArray[m]),i.operatorList.argsArray.push(d.argsArray[m]);i.operatorList.lastChunk=d.lastChunk,i.operatorList.separateAnnots=d.separateAnnots;for(const m of i.renderTasks)m.operatorListChanged();d.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:d,cacheKey:i,annotationStorageSerializable:m}){const{map:E,transfers:o}=m,z=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:d,cacheKey:i,annotationStorage:E},o).getReader(),X=this._intentStates.get(i);X.streamReader=z;const h=()=>{z.read().then(({value:n,done:a})=>{if(a){X.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(n,X),h())},n=>{if(X.streamReader=null,!this._transport.destroyed){if(X.operatorList){X.operatorList.lastChunk=!0;for(const a of X.renderTasks)a.operatorListChanged();this.#n(!0)}if(X.displayReadyCapability)X.displayReadyCapability.reject(n);else if(X.opListReadCapability)X.opListReadCapability.reject(n);else throw n}})};h()}_abortOperatorList({intentState:d,reason:i,force:m=!1}){if(d.streamReader){if(d.streamReaderCancelTimeout&&(clearTimeout(d.streamReaderCancelTimeout),d.streamReaderCancelTimeout=null),!m){if(d.renderTasks.size>0)return;if(i instanceof _display_utils.RenderingCancelledException){let E=RENDERING_CANCELLED_TIMEOUT;i.extraDelay>0&&i.extraDelay<1e3&&(E+=i.extraDelay),d.streamReaderCancelTimeout=setTimeout(()=>{d.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:d,reason:i,force:!0})},E);return}}if(d.streamReader.cancel(new _util.AbortException(i.message)).catch(()=>{}),d.streamReader=null,!this._transport.destroyed){for(const[E,o]of this._intentStates)if(o===d){this._intentStates.delete(E);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(d,i){const m={data:structuredClone(d,i?{transfer:i}:null)};this.#t.then(()=>{for(const E of this.#e)E.call(this,m)})}addEventListener(d,i){this.#e.add(i)}removeEventListener(d,i){this.#e.delete(i)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const r=document?.currentScript?.src;r&&(PDFWorkerUtil.fallbackWorkerSrc=r.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(r,d){let i;try{if(i=new URL(r),!i.origin||i.origin==="null")return!1}catch{return!1}const m=new URL(d,i);return i.origin===m.origin},PDFWorkerUtil.createCDNWrapper=function(r){const d=`importScripts("${r}");`;return URL.createObjectURL(new Blob([d]))}}class PDFWorker{static#workerPorts;constructor({name:r=null,port:d=null,verbosity:i=(0,_util.getVerbosityLevel)()}={}){if(this.name=r,this.destroyed=!1,this.verbosity=i,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,d){if(PDFWorker.#workerPorts?.has(d))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(d,this),this._initializeFromPort(d);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(r){this._port=r,this._messageHandler=new _message_handler.MessageHandler("main","worker",r),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:r}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,r)||(r=PDFWorkerUtil.createCDNWrapper(new URL(r,window.location).href));const d=new Worker(r),i=new _message_handler.MessageHandler("main","worker",d),m=()=>{d.removeEventListener("error",E),i.destroy(),d.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},E=()=>{this._webWorker||m()};d.addEventListener("error",E),i.on("test",x=>{if(d.removeEventListener("error",E),this.destroyed){m();return}x?(this._messageHandler=i,this._port=d,this._webWorker=d,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),i.destroy(),d.terminate())}),i.on("ready",x=>{if(d.removeEventListener("error",E),this.destroyed){m();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const x=new Uint8Array;i.send("test",x,[x.buffer])};o();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(r=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const d=new LoopbackPort;this._port=d;const i=`fake${PDFWorkerUtil.fakeWorkerId++}`,m=new _message_handler.MessageHandler(i+"_worker",i,d);r.setup(m,d);const E=new _message_handler.MessageHandler(i,i+"_worker",d);this._messageHandler=E,this._readyCapability.resolve(),E.send("configure",{verbosity:this.verbosity})}).catch(r=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${r.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(r){if(!r?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const d=this.#workerPorts?.get(r.port);if(d){if(d._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return d}return new PDFWorker(r)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(d,i,m,E,o){this.messageHandler=d,this.loadingTask=i,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:E.ownerDocument,styleElement:E.styleElement}),this._params=E,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=m,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#s(d,i=null){const m=this.#e.get(d);if(m)return m;const E=this.messageHandler.sendWithPromise(d,i);return this.#e.set(d,E),E}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(d,i=_util.AnnotationMode.ENABLE,m=null,E=!1){let o=_util.RenderingIntentFlag.DISPLAY,x=_annotation_storage.SerializableEmpty;switch(d){case"any":o=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":o=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${d}`)}switch(i){case _util.AnnotationMode.DISABLE:o+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:o+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:o+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,x=(o&_util.RenderingIntentFlag.PRINT&&m instanceof _annotation_storage.PrintAnnotationStorage?m:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${i}`)}return E&&(o+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:o,cacheKey:`${o}_${x.hash}`,annotationStorageSerializable:x}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const d=[];for(const m of this.#t.values())d.push(m._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return d.push(i),Promise.all(d).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:d,loadingTask:i}=this;d.on("GetReader",(m,E)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},E.onPull=()=>{this._fullReader.read().then(function({value:o,done:x}){if(x){E.close();return}(0,_util.assert)(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),E.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{E.error(o)})},E.onCancel=o=>{this._fullReader.cancel(o),E.ready.catch(x=>{if(!this.destroyed)throw x})}}),d.on("ReaderHeadersReady",m=>{const E=new _util.PromiseCapability,o=this._fullReader;return o.headersReady.then(()=>{(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&i.onProgress?.(this._lastProgress),o.onProgress=x=>{i.onProgress?.({loaded:x.loaded,total:x.total})}),E.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},E.reject),E.promise}),d.on("GetRangeReader",(m,E)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(m.begin,m.end);if(!o){E.close();return}E.onPull=()=>{o.read().then(function({value:x,done:z}){if(z){E.close();return}(0,_util.assert)(x instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),E.enqueue(new Uint8Array(x),1,[x])}).catch(x=>{E.error(x)})},E.onCancel=x=>{o.cancel(x),E.ready.catch(z=>{if(!this.destroyed)throw z})}}),d.on("GetDoc",({pdfInfo:m})=>{this._numPages=m.numPages,this._htmlForXfa=m.htmlForXfa,delete m.htmlForXfa,i._capability.resolve(new PDFDocumentProxy(m,this))}),d.on("DocException",function(m){let E;switch(m.name){case"PasswordException":E=new _util.PasswordException(m.message,m.code);break;case"InvalidPDFException":E=new _util.InvalidPDFException(m.message);break;case"MissingPDFException":E=new _util.MissingPDFException(m.message);break;case"UnexpectedResponseException":E=new _util.UnexpectedResponseException(m.message,m.status);break;case"UnknownErrorException":E=new _util.UnknownErrorException(m.message,m.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}i._capability.reject(E)}),d.on("PasswordRequest",m=>{if(this.#r=new _util.PromiseCapability,i.onPassword){const E=o=>{o instanceof Error?this.#r.reject(o):this.#r.resolve({password:o})};try{i.onPassword(E,m.code)}catch(o){this.#r.reject(o)}}else this.#r.reject(new _util.PasswordException(m.message,m.code));return this.#r.promise}),d.on("DataLoaded",m=>{i.onProgress?.({loaded:m.length,total:m.length}),this.downloadInfoCapability.resolve(m)}),d.on("StartRenderPage",m=>{if(this.destroyed)return;this.#t.get(m.pageIndex)._startRenderPage(m.transparency,m.cacheKey)}),d.on("commonobj",([m,E,o])=>{if(!this.destroyed&&!this.commonObjs.has(m))switch(E){case"Font":const x=this._params;if("error"in o){const h=o.error;(0,_util.warn)(`Error during font loading: ${h}`),this.commonObjs.resolve(m,h);break}const z=x.pdfBug&&globalThis.FontInspector?.enabled?(h,n)=>globalThis.FontInspector.fontAdded(h,n):null,X=new _font_loader.FontFaceObject(o,{isEvalSupported:x.isEvalSupported,disableFontFace:x.disableFontFace,ignoreErrors:x.ignoreErrors,inspectFont:z});this.fontLoader.bind(X).catch(h=>d.sendWithPromise("FontFallback",{id:m})).finally(()=>{!x.fontExtraProperties&&X.data&&(X.data=null),this.commonObjs.resolve(m,X)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(m,o);break;default:throw new Error(`Got unknown common object type ${E}`)}}),d.on("obj",([m,E,o,x])=>{if(this.destroyed)return;const z=this.#t.get(E);if(!z.objs.has(m))switch(o){case"Image":if(z.objs.resolve(m,x),x){let X;if(x.bitmap){const{width:h,height:n}=x;X=h*n*4}else X=x.data?.length||0;X>_util.MAX_IMAGE_SIZE_TO_CACHE&&(z._maybeCleanupAfterRender=!0)}break;case"Pattern":z.objs.resolve(m,x);break;default:throw new Error(`Got unknown object type ${o}`)}}),d.on("DocProgress",m=>{this.destroyed||i.onProgress?.({loaded:m.loaded,total:m.total})}),d.on("FetchBuiltInCMap",m=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(m):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),d.on("FetchStandardFontData",m=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(m):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:d,transfers:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:d,filename:this._fullReader?.filename??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(d){if(!Number.isInteger(d)||d<=0||d>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=d-1,m=this.#n.get(i);if(m)return m;const E=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");const x=new PDFPageProxy(i,o,this,this._params.pdfBug);return this.#t.set(i,x),x});return this.#n.set(i,E),E}getPageIndex(d){return typeof d!="object"||d===null||!Number.isInteger(d.num)||d.num<0||!Number.isInteger(d.gen)||d.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:d.num,gen:d.gen})}getAnnotations(d,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:d,intent:i})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(d){return typeof d!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:d})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(d){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:d})}getStructTree(d){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:d})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(d=>new _optional_content_config.OptionalContentConfig(d))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const d="GetMetadata",i=this.#e.get(d);if(i)return i;const m=this.messageHandler.sendWithPromise(d,null).then(E=>({info:E[0],metadata:E[1]?new _metadata.Metadata(E[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(d,m),m}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(d=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of this.#t.values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),d||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:d,enableXfa:i}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:d,enableXfa:i})}}class PDFObjects{#e=Object.create(null);#t(d){return this.#e[d]||={capability:new _util.PromiseCapability,data:null}}get(d,i=null){if(i){const E=this.#t(d);return E.capability.promise.then(()=>i(E.data)),null}const m=this.#e[d];if(!m?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${d}.`);return m.data}has(d){return this.#e[d]?.capability.settled||!1}resolve(d,i=null){const m=this.#t(d);m.data=i,m.capability.resolve()}clear(){for(const d in this.#e){const{data:i}=this.#e[d];i?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(d){this.#e=d,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(d=0){this.#e.cancel(null,d)}get separateAnnots(){const{separateAnnots:d}=this.#e.operatorList;if(!d)return!1;const{annotationCanvasMap:i}=this.#e;return d.form||d.canvas&&i?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:d,params:i,objs:m,commonObjs:E,annotationCanvasMap:o,operatorList:x,pageIndex:z,canvasFactory:X,filterFactory:h,useRequestAnimationFrame:n=!1,pdfBug:a=!1,pageColors:u=null}){this.callback=d,this.params=i,this.objs=m,this.commonObjs=E,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=x,this._pageIndex=z,this.canvasFactory=X,this.filterFactory=h,this._pdfBug=a,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=n===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:d=!1,optionalContentConfig:i}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:m,viewport:E,transform:o,background:x}=this.params;this.gfx=new _canvas.CanvasGraphics(m,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:E,transparency:d,background:x}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(d=null,i=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(d||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SerializableEmpty=d.PrintAnnotationStorage=d.AnnotationStorage=void 0;var m=i(1),E=i(4),o=i(8);const x=Object.freeze({map:null,hash:"",transfers:void 0});d.SerializableEmpty=x;class z{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(n,a){const u=this.#t.get(n);return u===void 0?a:Object.assign(a,u)}getRawValue(n){return this.#t.get(n)}remove(n){if(this.#t.delete(n),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const a of this.#t.values())if(a instanceof E.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(n,a){const u=this.#t.get(n);let c=!1;if(u!==void 0)for(const[e,t]of Object.entries(a))u[e]!==t&&(c=!0,u[e]=t);else c=!0,this.#t.set(n,a);c&&this.#n(),a instanceof E.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(a.constructor._type)}has(n){return this.#t.has(n)}getAll(){return this.#t.size>0?(0,m.objectFromMap)(this.#t):null}setAll(n){for(const[a,u]of Object.entries(n))this.setValue(a,u)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new X(this)}get serializable(){if(this.#t.size===0)return x;const n=new Map,a=new o.MurmurHash3_64,u=[],c=Object.create(null);let e=!1;for(const[t,l]of this.#t){const s=l instanceof E.AnnotationEditor?l.serialize(!1,c):l;s&&(n.set(t,s),a.update(`${t}:${JSON.stringify(s)}`),e||=!!s.bitmap)}if(e)for(const t of n.values())t.bitmap&&u.push(t.bitmap);return n.size>0?{map:n,hash:a.hexdigest(),transfers:u}:x}}d.AnnotationStorage=z;class X extends z{#e;constructor(n){super();const{map:a,hash:u,transfers:c}=n.serializable,e=structuredClone(a,c?{transfer:c}:null);this.#e={map:e,hash:u,transfers:c}}get print(){(0,m.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}d.PrintAnnotationStorage=X}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationEditor=void 0;var m=i(5),E=i(1),o=i(6);class x{#e="";#t=!1;#n=null;#r=null;#s=null;#o=!1;#a=null;#c=this.focusin.bind(this);#l=this.focusout.bind(this);#i=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=x._zIndex++;static _borderLineWidth=-1;static _colorManager=new m.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(h){this.constructor===x&&(0,E.unreachable)("Cannot initialize AnnotationEditor."),this.parent=h.parent,this.id=h.id,this.width=this.height=null,this.pageIndex=h.parent.pageIndex,this.name=h.name,this.div=null,this._uiManager=h.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=h.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:a,pageHeight:u,pageX:c,pageY:e}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,u],this.pageTranslation=[c,e];const[t,l]=this.parentDimensions;this.x=h.x/t,this.y=h.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,E.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(h){const n=new z({id:h.parent.getNextId(),parent:h.parent,uiManager:h._uiManager});n.annotationElementId=h.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(h,n=null){if(x._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(u=>[u,h.get(u)])),n?.strings)for(const u of n.strings)x._l10nPromise.set(u,h.get(u));if(x._borderLineWidth!==-1)return;const a=getComputedStyle(document.documentElement);x._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(h,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(h){return!1}static paste(h,n){(0,E.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(h){this.#h=h,this.div?.classList.toggle("draggable",h)}center(){const[h,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(h*2),this.y+=this.width*h/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(h*2),this.y-=this.width*h/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(h){this._uiManager.addCommands(h)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(h){h!==null&&(this.pageIndex=h.pageIndex,this.pageDimensions=h.pageDimensions),this.parent=h}focusin(h){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(h){!this._focusEventsAllowed||!this.isAttachedToDOM||h.relatedTarget?.closest(`#${this.id}`)||(h.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(h,n,a,u){const[c,e]=this.parentDimensions;[a,u]=this.screenToPageTranslation(a,u),this.x=(h+a)/c,this.y=(n+u)/e,this.fixAndSetPosition()}#v([h,n],a,u){[a,u]=this.screenToPageTranslation(a,u),this.x+=a/h,this.y+=u/n,this.fixAndSetPosition()}translate(h,n){this.#v(this.parentDimensions,h,n)}translateInPage(h,n){this.#v(this.pageDimensions,h,n),this.div.scrollIntoView({block:"nearest"})}drag(h,n){const[a,u]=this.parentDimensions;if(this.x+=h/a,this.y+=n/u,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:s,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,s,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:e}=this;const[t,l]=this.#g();c+=t,e+=l,this.div.style.left=`${(100*c).toFixed(2)}%`,this.div.style.top=`${(100*e).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){const[h,n]=this.parentDimensions,{_borderLineWidth:a}=x,u=a/h,c=a/n;switch(this.rotation){case 90:return[-u,c];case 180:return[u,c];case 270:return[u,-c];default:return[-u,-c]}}fixAndSetPosition(){const[h,n]=this.pageDimensions;let{x:a,y:u,width:c,height:e}=this;switch(c*=h,e*=n,a*=h,u*=n,this.rotation){case 0:a=Math.max(0,Math.min(h-c,a)),u=Math.max(0,Math.min(n-e,u));break;case 90:a=Math.max(0,Math.min(h-e,a)),u=Math.min(n,Math.max(c,u));break;case 180:a=Math.min(h,Math.max(c,a)),u=Math.min(n,Math.max(e,u));break;case 270:a=Math.min(h,Math.max(e,a)),u=Math.max(0,Math.min(n-c,u));break}this.x=a/=h,this.y=u/=n;const[t,l]=this.#g();a+=t,u+=l;const{style:s}=this.div;s.left=`${(100*a).toFixed(2)}%`,s.top=`${(100*u).toFixed(2)}%`,this.moveInDOM()}static#m(h,n,a){switch(a){case 90:return[n,-h];case 180:return[-h,-n];case 270:return[-n,h];default:return[h,n]}}screenToPageTranslation(h,n){return x.#m(h,n,this.parentRotation)}pageTranslationToScreen(h,n){return x.#m(h,n,360-this.parentRotation)}#u(h){switch(h){case 90:{const[n,a]=this.pageDimensions;return[0,-n/a,a/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,a]=this.pageDimensions;return[0,n/a,-a/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:h,pageDimensions:[n,a]}=this,u=n*h,c=a*h;return E.FeatureTest.isCSSRoundSupported?[Math.round(u),Math.round(c)]:[u,c]}setDims(h,n){const[a,u]=this.parentDimensions;this.div.style.width=`${(100*h/a).toFixed(2)}%`,this.#o||(this.div.style.height=`${(100*n/u).toFixed(2)}%`),this.#n?.classList.toggle("small",h<x.SMALL_EDITOR_SIZE||n<x.SMALL_EDITOR_SIZE)}fixDims(){const{style:h}=this.div,{height:n,width:a}=h,u=a.endsWith("%"),c=!this.#o&&n.endsWith("%");if(u&&c)return;const[e,t]=this.parentDimensions;u||(h.width=`${(100*parseFloat(a)/e).toFixed(2)}%`),!this.#o&&!c&&(h.height=`${(100*parseFloat(n)/t).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#b(){if(this.#a)return;this.#a=document.createElement("div"),this.#a.classList.add("resizers");const h=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||h.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const n of h){const a=document.createElement("div");this.#a.append(a),a.classList.add("resizer",n),a.addEventListener("pointerdown",this.#w.bind(this,n)),a.addEventListener("contextmenu",o.noContextMenu)}this.div.prepend(this.#a)}#w(h,n){n.preventDefault();const{isMac:a}=E.FeatureTest.platform;if(n.button!==0||n.ctrlKey&&a)return;const u=this.#S.bind(this,h),c=this._isDraggable;this._isDraggable=!1;const e={passive:!0,capture:!0};window.addEventListener("pointermove",u,e);const t=this.x,l=this.y,s=this.width,f=this.height,T=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const g=()=>{this._isDraggable=c,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",u,e),this.parent.div.style.cursor=T,this.div.style.cursor=y;const A=this.x,D=this.y,P=this.width,R=this.height;A===t&&D===l&&P===s&&R===f||this.addCommands({cmd:()=>{this.width=P,this.height=R,this.x=A,this.y=D;const[j,w]=this.parentDimensions;this.setDims(j*P,w*R),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=f,this.x=t,this.y=l;const[j,w]=this.parentDimensions;this.setDims(j*s,w*f),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",g),window.addEventListener("blur",g)}#S(h,n){const[a,u]=this.parentDimensions,c=this.x,e=this.y,t=this.width,l=this.height,s=x.MIN_SIZE/a,f=x.MIN_SIZE/u,T=B=>Math.round(B*1e4)/1e4,y=this.#u(this.rotation),g=(B,v)=>[y[0]*B+y[2]*v,y[1]*B+y[3]*v],A=this.#u(360-this.rotation),D=(B,v)=>[A[0]*B+A[2]*v,A[1]*B+A[3]*v];let P,R,j=!1,w=!1;switch(h){case"topLeft":j=!0,P=(B,v)=>[0,0],R=(B,v)=>[B,v];break;case"topMiddle":P=(B,v)=>[B/2,0],R=(B,v)=>[B/2,v];break;case"topRight":j=!0,P=(B,v)=>[B,0],R=(B,v)=>[0,v];break;case"middleRight":w=!0,P=(B,v)=>[B,v/2],R=(B,v)=>[0,v/2];break;case"bottomRight":j=!0,P=(B,v)=>[B,v],R=(B,v)=>[0,0];break;case"bottomMiddle":P=(B,v)=>[B/2,v],R=(B,v)=>[B/2,0];break;case"bottomLeft":j=!0,P=(B,v)=>[0,v],R=(B,v)=>[B,0];break;case"middleLeft":w=!0,P=(B,v)=>[0,v/2],R=(B,v)=>[B,v/2];break}const N=P(t,l),H=R(t,l);let G=g(...H);const $=T(c+G[0]),W=T(e+G[1]);let k=1,_=1,[p,b]=this.screenToPageTranslation(n.movementX,n.movementY);if([p,b]=D(p/a,b/u),j){const B=Math.hypot(t,l);k=_=Math.max(Math.min(Math.hypot(H[0]-N[0]-p,H[1]-N[1]-b)/B,1/t,1/l),s/t,f/l)}else w?k=Math.max(s,Math.min(1,Math.abs(H[0]-N[0]-p)))/t:_=Math.max(f,Math.min(1,Math.abs(H[1]-N[1]-b)))/l;const M=T(t*k),F=T(l*_);G=g(...R(M,F));const I=$-G[0],q=W-G[1];this.width=M,this.height=F,this.x=I,this.y=q,this.setDims(a*M,u*F),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const h=this.#n=document.createElement("button");h.className="altText";const n=await x._l10nPromise.get("editor_alt_text_button_label");h.textContent=n,h.setAttribute("aria-label",n),h.tabIndex="0",h.addEventListener("contextmenu",o.noContextMenu),h.addEventListener("pointerdown",a=>a.stopPropagation()),h.addEventListener("click",a=>{a.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),h.addEventListener("keydown",a=>{a.target===h&&a.key==="Enter"&&(a.preventDefault(),this._uiManager.editAltText(this))}),this.#P(),this.div.append(h),x.SMALL_EDITOR_SIZE||(x.SMALL_EDITOR_SIZE=Math.min(128,Math.round(h.getBoundingClientRect().width*1.4)))}async#P(){const h=this.#n;if(!h)return;if(!this.#e&&!this.#t){h.classList.remove("done"),this.#r?.remove();return}x._l10nPromise.get("editor_alt_text_edit_button_label").then(a=>{h.setAttribute("aria-label",a)});let n=this.#r;if(!n){this.#r=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip");const a=n.id=`alt-text-tooltip-${this.id}`;h.setAttribute("aria-describedby",a);const u=100;h.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},u)}),h.addEventListener("mouseleave",()=>{clearTimeout(this.#s),this.#s=null,this.#r?.classList.remove("show")})}h.classList.add("done"),n.innerText=this.#t?await x._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,n.parentNode||h.append(n)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:h,decorative:n}){this.#e===h&&this.#t===n||(this.#e=h,this.#t=n,this.#P())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#c),this.div.addEventListener("focusout",this.#l);const[h,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/h).toFixed(2)}%`,this.div.style.maxHeight=`${(100*h/n).toFixed(2)}%`);const[a,u]=this.getInitialTranslation();return this.translate(a,u),(0,m.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(h){const{isMac:n}=E.FeatureTest.platform;if(h.button!==0||h.ctrlKey&&n){h.preventDefault();return}this.#i=!0,this.#M(h)}#M(h){if(!this._isDraggable)return;const n=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let a,u;n&&(a={passive:!0,capture:!0},u=e=>{const[t,l]=this.screenToPageTranslation(e.movementX,e.movementY);this._uiManager.dragSelectedEditors(t,l)},window.addEventListener("pointermove",u,a));const c=()=>{if(window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),n&&window.removeEventListener("pointermove",u,a),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:e}=E.FeatureTest.platform;h.ctrlKey&&!e||h.shiftKey||h.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",c),window.addEventListener("blur",c)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(h,n,a){h.changeParent(this),this.x=n,this.y=a,this.fixAndSetPosition()}getRect(h,n){const a=this.parentScale,[u,c]=this.pageDimensions,[e,t]=this.pageTranslation,l=h/a,s=n/a,f=this.x*u,T=this.y*c,y=this.width*u,g=this.height*c;switch(this.rotation){case 0:return[f+l+e,c-T-s-g+t,f+l+y+e,c-T-s+t];case 90:return[f+s+e,c-T+l+t,f+s+g+e,c-T+l+y+t];case 180:return[f-l-y+e,c-T+s+t,f-l+e,c-T+s+g+t];case 270:return[f-s-g+e,c-T-l-y+t,f-s+e,c-T-l+t];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(h,n){const[a,u,c,e]=h,t=c-a,l=e-u;switch(this.rotation){case 0:return[a,n-e,t,l];case 90:return[a,n-u,l,t];case 180:return[c,n-u,t,l];case 270:return[c,n-e,l,t];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#c),this.div?.addEventListener("focusout",this.#l)}serialize(h=!1,n=null){(0,E.unreachable)("An editor must be serializable")}static deserialize(h,n,a){const u=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:a});u.rotation=h.rotation;const[c,e]=u.pageDimensions,[t,l,s,f]=u.getRectInCurrentCoords(h.rect,e);return u.x=t/c,u.y=l/e,u.width=s/c,u.height=f/e,u}remove(){this.div.removeEventListener("focusin",this.#c),this.div.removeEventListener("focusout",this.#l),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#b(),this.#a.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#a?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(h,n){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(h){this.#f=h,this.parent&&(h?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(h,n){this.#o=!0;const a=h/n,{style:u}=this.div;u.aspectRatio=a,u.height="auto"}static get MIN_SIZE(){return 16}}d.AnnotationEditor=x;class z extends x{constructor(h){super(h),this.annotationElementId=h.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.KeyboardManager=d.CommandManager=d.ColorManager=d.AnnotationEditorUIManager=void 0,d.bindEvents=o,d.opacityToHex=x;var m=i(1),E=i(6);function o(c,e,t){for(const l of t)e.addEventListener(l,c[l].bind(c))}function x(c){return Math.round(Math.min(255,Math.max(1,255*c))).toString(16).padStart(2,"0")}class z{#e=0;getId(){return`${m.AnnotationEditorPrefix}${this.#e++}`}}class X{#e=(0,m.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',l=new OffscreenCanvas(1,3).getContext("2d"),s=new Image;s.src=e;const f=s.decode().then(()=>(l.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(l.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,m.shadow)(this,"_isSVGFittingCanvas",f)}async#r(e,t){this.#n||=new Map;let l=this.#n.get(e);if(l===null)return null;if(l?.bitmap)return l.refCounter+=1,l;try{l||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let s;if(typeof t=="string"){l.url=t;const f=await fetch(t);if(!f.ok)throw new Error(f.statusText);s=await f.blob()}else s=l.file=t;if(s.type==="image/svg+xml"){const f=X._isSVGFittingCanvas,T=new FileReader,y=new Image,g=new Promise((A,D)=>{y.onload=()=>{l.bitmap=y,l.isSvg=!0,A()},T.onload=async()=>{const P=l.svgUrl=T.result;y.src=await f?`${P}#svgView(preserveAspectRatio(none))`:P},y.onerror=T.onerror=D});T.readAsDataURL(s),await g}else l.bitmap=await createImageBitmap(s);l.refCounter=1}catch(s){console.error(s),l=null}return this.#n.set(e,l),l&&this.#n.set(l.id,l),l}async getFromFile(e){const{lastModified:t,name:l,size:s,type:f}=e;return this.#r(`${t}_${l}_${s}_${f}`,e)}async getFromUrl(e){return this.#r(e,e)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class h{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,mustExec:l,type:s=NaN,overwriteIfSameType:f=!1,keepUndo:T=!1}){if(l&&e(),this.#t)return;const y={cmd:e,undo:t,type:s};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(y);return}if(f&&this.#e[this.#r].type===s){T&&(y.undo=this.#e[this.#r].undo),this.#e[this.#r]=y;return}const g=this.#r+1;g===this.#n?this.#e.splice(0,1):(this.#r=g,g<this.#e.length&&this.#e.splice(g)),this.#e.push(y)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}d.CommandManager=h;class n{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=m.FeatureTest.platform;for(const[l,s,f={}]of e)for(const T of l){const y=T.startsWith("mac+");t&&y?(this.callbacks.set(T.slice(4),{callback:s,options:f}),this.allKeys.add(T.split("+").at(-1))):!t&&!y&&(this.callbacks.set(T,{callback:s,options:f}),this.allKeys.add(T.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const l=this.callbacks.get(this.#e(t));if(!l)return;const{callback:s,options:{bubbles:f=!1,args:T=[],checker:y=null}}=l;y&&!y(e,t)||(s.bind(e,...T)(),f||(t.stopPropagation(),t.preventDefault()))}}d.KeyboardManager=n;class a{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,E.getColorValues)(e),(0,m.shadow)(this,"_colors",e)}convert(e){const t=(0,E.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[l,s]of this._colors)if(s.every((f,T)=>f===t[T]))return a._colorsMapping.get(l);return t}getHexCode(e){const t=this._colors.get(e);return t?m.Util.makeHexColor(...t):e}}d.ColorManager=a;class u{#e=null;#t=new Map;#n=new Map;#r=null;#s=null;#o=new h;#a=0;#c=new Set;#l=null;#i=null;#f=new Set;#d=null;#h=new z;#p=!1;#v=!1;#g=null;#m=m.AnnotationEditorType.NONE;#u=new Set;#b=null;#w=this.blur.bind(this);#S=this.focus.bind(this);#P=this.copy.bind(this);#M=this.cut.bind(this);#I=this.paste.bind(this);#D=this.keydown.bind(this);#O=this.onEditingAction.bind(this);#_=this.onPageChanging.bind(this);#F=this.onScaleChanging.bind(this);#x=this.onRotationChanging.bind(this);#T={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#E=[0,0];#k=null;#A=null;#N=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=u.prototype,t=f=>{const{activeElement:T}=document;return T&&f.#A.contains(T)&&f.hasSomethingToControl()},l=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return(0,m.shadow)(this,"_keyboardManager",new n([[["ctrl+a","mac+meta+a"],e.selectAll],[["ctrl+z","mac+meta+z"],e.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-l,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[l,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-l],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,l],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,l,s,f,T){this.#A=e,this.#N=t,this.#r=l,this._eventBus=s,this._eventBus._on("editingaction",this.#O),this._eventBus._on("pagechanging",this.#_),this._eventBus._on("scalechanging",this.#F),this._eventBus._on("rotationchanging",this.#x),this.#s=f.annotationStorage,this.#d=f.filterFactory,this.#b=T,this.viewParameters={realScale:E.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#R(),this.#j(),this._eventBus._off("editingaction",this.#O),this._eventBus._off("pagechanging",this.#_),this._eventBus._off("scalechanging",this.#F),this._eventBus._off("rotationchanging",this.#x);for(const e of this.#n.values())e.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#u.clear(),this.#o.destroy(),this.#r.destroy()}get hcmFilter(){return(0,m.shadow)(this,"hcmFilter",this.#b?this.#d.addHCMFilter(this.#b.foreground,this.#b.background):"none")}get direction(){return(0,m.shadow)(this,"direction",getComputedStyle(this.#A).direction)}editAltText(e){this.#r?.editAltText(this,e)}onPageChanging({pageNumber:e}){this.#a=e-1}focusMainContainer(){this.#A.focus()}findParent(e,t){for(const l of this.#n.values()){const{x:s,y:f,width:T,height:y}=l.div.getBoundingClientRect();if(e>=s&&e<=s+T&&t>=f&&t<=f+y)return l}return null}disableUserSelect(e=!1){this.#N.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#f.add(e)}removeShouldRescale(e){this.#f.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*E.PixelsPerInch.PDF_TO_CSS_UNITS;for(const t of this.#f)t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}addToAnnotationStorage(e){!e.isEmpty()&&this.#s&&!this.#s.has(e.id)&&this.#s.setValue(e.id,e)}#B(){window.addEventListener("focus",this.#S),window.addEventListener("blur",this.#w)}#j(){window.removeEventListener("focus",this.#S),window.removeEventListener("blur",this.#w)}blur(){if(!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#u)if(t.div.contains(e)){this.#g=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;const[e,t]=this.#g;this.#g=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus()}#z(){window.addEventListener("keydown",this.#D,{capture:!0})}#R(){window.removeEventListener("keydown",this.#D,{capture:!0})}#L(){document.addEventListener("copy",this.#P),document.addEventListener("cut",this.#M),document.addEventListener("paste",this.#I)}#C(){document.removeEventListener("copy",this.#P),document.removeEventListener("cut",this.#M),document.removeEventListener("paste",this.#I)}addEditListeners(){this.#z(),this.#L()}removeEditListeners(){this.#R(),this.#C()}copy(e){if(e.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const l of this.#u){const s=l.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const f of t.items)for(const T of this.#i)if(T.isHandlingMimeForPasting(f.type)){T.paste(f,this.currentLayer);return}let l=t.getData("application/pdfjs");if(!l)return;try{l=JSON.parse(l)}catch(f){(0,m.warn)(`paste: "${f.message}".`);return}if(!Array.isArray(l))return;this.unselectAll();const s=this.currentLayer;try{const f=[];for(const g of l){const A=s.deserialize(g);if(!A)return;f.push(A)}const T=()=>{for(const g of f)this.#V(g);this.#W(f)},y=()=>{for(const g of f)g.remove()};this.addCommands({cmd:T,undo:y,mustExec:!0})}catch(f){(0,m.warn)(`paste: "${f.message}".`)}}keydown(e){this.getActive()?.shouldGetKeyboardEvents()||u._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","delete","selectAll"].includes(e.name)&&this[e.name]()}#y(e){Object.entries(e).some(([l,s])=>this.#T[l]!==s)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#T,e)})}#H(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#B(),this.#z(),this.#L(),this.#y({isEditing:this.#m!==m.AnnotationEditorType.NONE,isEmpty:this.#q(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#j(),this.#R(),this.#C(),this.#y({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#i){this.#i=e;for(const t of this.#i)this.#H(t.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#a)}getLayer(e){return this.#n.get(e)}get currentPageIndex(){return this.#a}addLayer(e){this.#n.set(e.pageIndex,e),this.#p?e.enable():e.disable()}removeLayer(e){this.#n.delete(e.pageIndex)}updateMode(e,t=null){if(this.#m!==e){if(this.#m=e,e===m.AnnotationEditorType.NONE){this.setEditingState(!1),this.#$();return}this.setEditingState(!0),this.#U(),this.unselectAll();for(const l of this.#n.values())l.updateMode(e);if(t){for(const l of this.#t.values())if(l.annotationElementId===t){this.setSelected(l),l.enterInEditMode();break}}}}updateToolbar(e){e!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#i){if(e===m.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(e);return}for(const l of this.#u)l.updateParams(e,t);for(const l of this.#i)l.updateDefaultParams(e,t)}}enableWaiting(e=!1){if(this.#v!==e){this.#v=e;for(const t of this.#n.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}#U(){if(!this.#p){this.#p=!0;for(const e of this.#n.values())e.enable()}}#$(){if(this.unselectAll(),this.#p){this.#p=!1;for(const e of this.#n.values())e.disable()}}getEditors(e){const t=[];for(const l of this.#t.values())l.pageIndex===e&&t.push(l);return t}getEditor(e){return this.#t.get(e)}addEditor(e){this.#t.set(e.id,e)}removeEditor(e){this.#t.delete(e.id),this.unselect(e),(!e.annotationElementId||!this.#c.has(e.annotationElementId))&&this.#s?.remove(e.id)}addDeletedAnnotationElement(e){this.#c.add(e.annotationElementId),e.deleted=!0}isDeletedAnnotationElement(e){return this.#c.has(e)}removeDeletedAnnotationElement(e){this.#c.delete(e.annotationElementId),e.deleted=!1}#V(e){const t=this.#n.get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}setActiveEditor(e){this.#e!==e&&(this.#e=e,e&&this.#H(e.propertiesToUpdate))}toggleSelected(e){if(this.#u.has(e)){this.#u.delete(e),e.unselect(),this.#y({hasSelectedEditor:this.hasSelection});return}this.#u.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#y({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#u)t!==e&&t.unselect();this.#u.clear(),this.#u.add(e),e.select(),this.#H(e.propertiesToUpdate),this.#y({hasSelectedEditor:!0})}isSelected(e){return this.#u.has(e)}unselect(e){e.unselect(),this.#u.delete(e),this.#y({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#o.undo(),this.#y({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#q()})}redo(){this.#o.redo(),this.#y({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#q()})}addCommands(e){this.#o.add(e),this.#y({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#q()})}#q(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const e of this.#t.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#u],t=()=>{for(const s of e)s.remove()},l=()=>{for(const s of e)this.#V(s)};this.addCommands({cmd:t,undo:l,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#W(e){this.#u.clear();for(const t of e)t.isEmpty()||(this.#u.add(t),t.select());this.#y({hasSelectedEditor:!0})}selectAll(){for(const e of this.#u)e.commit();this.#W(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const e of this.#u)e.unselect();this.#u.clear(),this.#y({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,l=!1){if(l||this.commitOrRemove(),!this.hasSelection)return;this.#E[0]+=e,this.#E[1]+=t;const[s,f]=this.#E,T=[...this.#u],y=1e3;this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#E[0]=this.#E[1]=0,this.addCommands({cmd:()=>{for(const g of T)this.#t.has(g.id)&&g.translateInPage(s,f)},undo:()=>{for(const g of T)this.#t.has(g.id)&&g.translateInPage(-s,-f)},mustExec:!1})},y);for(const g of T)g.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#l=new Map;for(const e of this.#u)this.#l.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#l)return!1;this.disableUserSelect(!1);const e=this.#l;this.#l=null;let t=!1;for(const[{x:s,y:f,pageIndex:T},y]of e)y.newX=s,y.newY=f,y.newPageIndex=T,t||=s!==y.savedX||f!==y.savedY||T!==y.savedPageIndex;if(!t)return!1;const l=(s,f,T,y)=>{if(this.#t.has(s.id)){const g=this.#n.get(y);g?s._setParentAndPosition(g,f,T):(s.pageIndex=y,s.x=f,s.y=T)}};return this.addCommands({cmd:()=>{for(const[s,{newX:f,newY:T,newPageIndex:y}]of e)l(s,f,T,y)},undo:()=>{for(const[s,{savedX:f,savedY:T,savedPageIndex:y}]of e)l(s,f,T,y)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#l)for(const l of this.#l.keys())l.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}isActive(e){return this.#e===e}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,m.shadow)(this,"imageManager",new X)}}d.AnnotationEditorUIManager=u}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StatTimer=d.RenderingCancelledException=d.PixelsPerInch=d.PageViewport=d.PDFDateString=d.DOMStandardFontDataFactory=d.DOMSVGFactory=d.DOMFilterFactory=d.DOMCanvasFactory=d.DOMCMapReaderFactory=void 0,d.deprecated=D,d.getColorValues=N,d.getCurrentTransform=H,d.getCurrentTransformInverse=G,d.getFilenameFromUrl=s,d.getPdfFilenameFromUrl=f,d.getRGB=w,d.getXfaPageViewport=j,d.isDataScheme=t,d.isPdfFile=l,d.isValidFetchUrl=y,d.loadScript=A,d.noContextMenu=g,d.setLayerDimensions=$;var m=i(7),E=i(1);const o="http://www.w3.org/2000/svg";class x{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}d.PixelsPerInch=x;class z extends m.BaseFilterFactory{#e;#t;#n;#r;#s;#o;#a;#c;#l;#i;#f=0;constructor({docId:k,ownerDocument:_=globalThis.document}={}){super(),this.#n=k,this.#r=_}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const k=this.#r.createElement("div"),{style:_}=k;_.visibility="hidden",_.contain="strict",_.width=_.height=0,_.position="absolute",_.top=_.left=0,_.zIndex=-1;const p=this.#r.createElementNS(o,"svg");p.setAttribute("width",0),p.setAttribute("height",0),this.#t=this.#r.createElementNS(o,"defs"),k.append(p),p.append(this.#t),this.#r.body.append(k)}return this.#t}addFilter(k){if(!k)return"none";let _=this.#d.get(k);if(_)return _;let p,b,M,F;if(k.length===1){const v=k[0],C=new Array(256);for(let L=0;L<256;L++)C[L]=v[L]/255;F=p=b=M=C.join(",")}else{const[v,C,L]=k,V=new Array(256),U=new Array(256),Y=new Array(256);for(let Q=0;Q<256;Q++)V[Q]=v[Q]/255,U[Q]=C[Q]/255,Y[Q]=L[Q]/255;p=V.join(","),b=U.join(","),M=Y.join(","),F=`${p}${b}${M}`}if(_=this.#d.get(F),_)return this.#d.set(k,_),_;const I=`g_${this.#n}_transfer_map_${this.#f++}`,q=`url(#${I})`;this.#d.set(k,q),this.#d.set(F,q);const B=this.#v(I);return this.#m(p,b,M,B),q}addHCMFilter(k,_){const p=`${k}-${_}`;if(this.#o===p)return this.#a;if(this.#o=p,this.#a="none",this.#s?.remove(),!k||!_)return this.#a;const b=this.#u(k);k=E.Util.makeHexColor(...b);const M=this.#u(_);if(_=E.Util.makeHexColor(...M),this.#h.style.color="",k==="#000000"&&_==="#ffffff"||k===_)return this.#a;const F=new Array(256);for(let C=0;C<=255;C++){const L=C/255;F[C]=L<=.03928?L/12.92:((L+.055)/1.055)**2.4}const I=F.join(","),q=`g_${this.#n}_hcm_filter`,B=this.#c=this.#v(q);this.#m(I,I,I,B),this.#p(B);const v=(C,L)=>{const V=b[C]/255,U=M[C]/255,Y=new Array(L+1);for(let Q=0;Q<=L;Q++)Y[Q]=V+Q/L*(U-V);return Y.join(",")};return this.#m(v(0,5),v(1,5),v(2,5),B),this.#a=`url(#${q})`,this.#a}addHighlightHCMFilter(k,_,p,b){const M=`${k}-${_}-${p}-${b}`;if(this.#l===M)return this.#i;if(this.#l=M,this.#i="none",this.#c?.remove(),!k||!_)return this.#i;const[F,I]=[k,_].map(this.#u.bind(this));let q=Math.round(.2126*F[0]+.7152*F[1]+.0722*F[2]),B=Math.round(.2126*I[0]+.7152*I[1]+.0722*I[2]),[v,C]=[p,b].map(this.#u.bind(this));B<q&&([q,B,v,C]=[B,q,C,v]),this.#h.style.color="";const L=(Y,Q,le)=>{const _e=new Array(256),de=(B-q)/le,he=Y/255,fe=(Q-Y)/(255*le);let re=0;for(let ce=0;ce<=le;ce++){const Se=Math.round(q+ce*de),ve=he+ce*fe;for(let be=re;be<=Se;be++)_e[be]=ve;re=Se+1}for(let ce=re;ce<256;ce++)_e[ce]=_e[re-1];return _e.join(",")},V=`g_${this.#n}_hcm_highlight_filter`,U=this.#c=this.#v(V);return this.#p(U),this.#m(L(v[0],C[0],5),L(v[1],C[1],5),L(v[2],C[2],5),U),this.#i=`url(#${V})`,this.#i}destroy(k=!1){k&&(this.#a||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(k){const _=this.#r.createElementNS(o,"feColorMatrix");_.setAttribute("type","matrix"),_.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),k.append(_)}#v(k){const _=this.#r.createElementNS(o,"filter");return _.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("id",k),this.#h.append(_),_}#g(k,_,p){const b=this.#r.createElementNS(o,_);b.setAttribute("type","discrete"),b.setAttribute("tableValues",p),k.append(b)}#m(k,_,p,b){const M=this.#r.createElementNS(o,"feComponentTransfer");b.append(M),this.#g(M,"feFuncR",k),this.#g(M,"feFuncG",_),this.#g(M,"feFuncB",p)}#u(k){return this.#h.style.color=k,w(getComputedStyle(this.#h).getPropertyValue("color"))}}d.DOMFilterFactory=z;class X extends m.BaseCanvasFactory{constructor({ownerDocument:k=globalThis.document}={}){super(),this._document=k}_createCanvas(k,_){const p=this._document.createElement("canvas");return p.width=k,p.height=_,p}}d.DOMCanvasFactory=X;async function h(W,k=!1){if(y(W,document.baseURI)){const _=await fetch(W);if(!_.ok)throw new Error(_.statusText);return k?new Uint8Array(await _.arrayBuffer()):(0,E.stringToBytes)(await _.text())}return new Promise((_,p)=>{const b=new XMLHttpRequest;b.open("GET",W,!0),k&&(b.responseType="arraybuffer"),b.onreadystatechange=()=>{if(b.readyState===XMLHttpRequest.DONE){if(b.status===200||b.status===0){let M;if(k&&b.response?M=new Uint8Array(b.response):!k&&b.responseText&&(M=(0,E.stringToBytes)(b.responseText)),M){_(M);return}}p(new Error(b.statusText))}},b.send(null)})}class n extends m.BaseCMapReaderFactory{_fetchData(k,_){return h(k,this.isCompressed).then(p=>({cMapData:p,compressionType:_}))}}d.DOMCMapReaderFactory=n;class a extends m.BaseStandardFontDataFactory{_fetchData(k){return h(k,!0)}}d.DOMStandardFontDataFactory=a;class u extends m.BaseSVGFactory{_createSVG(k){return document.createElementNS(o,k)}}d.DOMSVGFactory=u;class c{constructor({viewBox:k,scale:_,rotation:p,offsetX:b=0,offsetY:M=0,dontFlip:F=!1}){this.viewBox=k,this.scale=_,this.rotation=p,this.offsetX=b,this.offsetY=M;const I=(k[2]+k[0])/2,q=(k[3]+k[1])/2;let B,v,C,L;switch(p%=360,p<0&&(p+=360),p){case 180:B=-1,v=0,C=0,L=1;break;case 90:B=0,v=1,C=1,L=0;break;case 270:B=0,v=-1,C=-1,L=0;break;case 0:B=1,v=0,C=0,L=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}F&&(C=-C,L=-L);let V,U,Y,Q;B===0?(V=Math.abs(q-k[1])*_+b,U=Math.abs(I-k[0])*_+M,Y=(k[3]-k[1])*_,Q=(k[2]-k[0])*_):(V=Math.abs(I-k[0])*_+b,U=Math.abs(q-k[1])*_+M,Y=(k[2]-k[0])*_,Q=(k[3]-k[1])*_),this.transform=[B*_,v*_,C*_,L*_,V-B*_*I-C*_*q,U-v*_*I-L*_*q],this.width=Y,this.height=Q}get rawDims(){const{viewBox:k}=this;return(0,E.shadow)(this,"rawDims",{pageWidth:k[2]-k[0],pageHeight:k[3]-k[1],pageX:k[0],pageY:k[1]})}clone({scale:k=this.scale,rotation:_=this.rotation,offsetX:p=this.offsetX,offsetY:b=this.offsetY,dontFlip:M=!1}={}){return new c({viewBox:this.viewBox.slice(),scale:k,rotation:_,offsetX:p,offsetY:b,dontFlip:M})}convertToViewportPoint(k,_){return E.Util.applyTransform([k,_],this.transform)}convertToViewportRectangle(k){const _=E.Util.applyTransform([k[0],k[1]],this.transform),p=E.Util.applyTransform([k[2],k[3]],this.transform);return[_[0],_[1],p[0],p[1]]}convertToPdfPoint(k,_){return E.Util.applyInverseTransform([k,_],this.transform)}}d.PageViewport=c;class e extends E.BaseException{constructor(k,_=0){super(k,"RenderingCancelledException"),this.extraDelay=_}}d.RenderingCancelledException=e;function t(W){const k=W.length;let _=0;for(;_<k&&W[_].trim()==="";)_++;return W.substring(_,_+5).toLowerCase()==="data:"}function l(W){return typeof W=="string"&&/\.pdf$/i.test(W)}function s(W,k=!1){return k||([W]=W.split(/[#?]/,1)),W.substring(W.lastIndexOf("/")+1)}function f(W,k="document.pdf"){if(typeof W!="string")return k;if(t(W))return(0,E.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),k;const _=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,p=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,b=_.exec(W);let M=p.exec(b[1])||p.exec(b[2])||p.exec(b[3]);if(M&&(M=M[0],M.includes("%")))try{M=p.exec(decodeURIComponent(M))[0]}catch{}return M||k}class T{started=Object.create(null);times=[];time(k){k in this.started&&(0,E.warn)(`Timer is already running for ${k}`),this.started[k]=Date.now()}timeEnd(k){k in this.started||(0,E.warn)(`Timer has not been started for ${k}`),this.times.push({name:k,start:this.started[k],end:Date.now()}),delete this.started[k]}toString(){const k=[];let _=0;for(const{name:p}of this.times)_=Math.max(p.length,_);for(const{name:p,start:b,end:M}of this.times)k.push(`${p.padEnd(_)} ${M-b}ms
`);return k.join("")}}d.StatTimer=T;function y(W,k){try{const{protocol:_}=k?new URL(W,k):new URL(W);return _==="http:"||_==="https:"}catch{return!1}}function g(W){W.preventDefault()}function A(W,k=!1){return new Promise((_,p)=>{const b=document.createElement("script");b.src=W,b.onload=function(M){k&&b.remove(),_(M)},b.onerror=function(){p(new Error(`Cannot load script at: ${b.src}`))},(document.head||document.documentElement).append(b)})}function D(W){console.log("Deprecated API usage: "+W)}let P;class R{static toDateObject(k){if(!k||typeof k!="string")return null;P||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const _=P.exec(k);if(!_)return null;const p=parseInt(_[1],10);let b=parseInt(_[2],10);b=b>=1&&b<=12?b-1:0;let M=parseInt(_[3],10);M=M>=1&&M<=31?M:1;let F=parseInt(_[4],10);F=F>=0&&F<=23?F:0;let I=parseInt(_[5],10);I=I>=0&&I<=59?I:0;let q=parseInt(_[6],10);q=q>=0&&q<=59?q:0;const B=_[7]||"Z";let v=parseInt(_[8],10);v=v>=0&&v<=23?v:0;let C=parseInt(_[9],10)||0;return C=C>=0&&C<=59?C:0,B==="-"?(F+=v,I+=C):B==="+"&&(F-=v,I-=C),new Date(Date.UTC(p,b,M,F,I,q))}}d.PDFDateString=R;function j(W,{scale:k=1,rotation:_=0}){const{width:p,height:b}=W.attributes.style,M=[0,0,parseInt(p),parseInt(b)];return new c({viewBox:M,scale:k,rotation:_})}function w(W){if(W.startsWith("#")){const k=parseInt(W.slice(1),16);return[(k&16711680)>>16,(k&65280)>>8,k&255]}return W.startsWith("rgb(")?W.slice(4,-1).split(",").map(k=>parseInt(k)):W.startsWith("rgba(")?W.slice(5,-1).split(",").map(k=>parseInt(k)).slice(0,3):((0,E.warn)(`Not a valid color format: "${W}"`),[0,0,0])}function N(W){const k=document.createElement("span");k.style.visibility="hidden",document.body.append(k);for(const _ of W.keys()){k.style.color=_;const p=window.getComputedStyle(k).color;W.set(_,w(p))}k.remove()}function H(W){const{a:k,b:_,c:p,d:b,e:M,f:F}=W.getTransform();return[k,_,p,b,M,F]}function G(W){const{a:k,b:_,c:p,d:b,e:M,f:F}=W.getTransform().invertSelf();return[k,_,p,b,M,F]}function $(W,k,_=!1,p=!0){if(k instanceof c){const{pageWidth:b,pageHeight:M}=k.rawDims,{style:F}=W,I=E.FeatureTest.isCSSRoundSupported,q=`var(--scale-factor) * ${b}px`,B=`var(--scale-factor) * ${M}px`,v=I?`round(${q}, 1px)`:`calc(${q})`,C=I?`round(${B}, 1px)`:`calc(${B})`;!_||k.rotation%180===0?(F.width=v,F.height=C):(F.width=C,F.height=v)}p&&W.setAttribute("data-main-rotation",k.rotation)}}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BaseStandardFontDataFactory=d.BaseSVGFactory=d.BaseFilterFactory=d.BaseCanvasFactory=d.BaseCMapReaderFactory=void 0;var m=i(1);class E{constructor(){this.constructor===E&&(0,m.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(n){return"none"}addHCMFilter(n,a){return"none"}addHighlightHCMFilter(n,a,u,c){return"none"}destroy(n=!1){}}d.BaseFilterFactory=E;class o{constructor(){this.constructor===o&&(0,m.unreachable)("Cannot initialize BaseCanvasFactory.")}create(n,a){if(n<=0||a<=0)throw new Error("Invalid canvas size");const u=this._createCanvas(n,a);return{canvas:u,context:u.getContext("2d")}}reset(n,a,u){if(!n.canvas)throw new Error("Canvas is not specified");if(a<=0||u<=0)throw new Error("Invalid canvas size");n.canvas.width=a,n.canvas.height=u}destroy(n){if(!n.canvas)throw new Error("Canvas is not specified");n.canvas.width=0,n.canvas.height=0,n.canvas=null,n.context=null}_createCanvas(n,a){(0,m.unreachable)("Abstract method `_createCanvas` called.")}}d.BaseCanvasFactory=o;class x{constructor({baseUrl:n=null,isCompressed:a=!0}){this.constructor===x&&(0,m.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=n,this.isCompressed=a}async fetch({name:n}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!n)throw new Error("CMap name must be specified.");const a=this.baseUrl+n+(this.isCompressed?".bcmap":""),u=this.isCompressed?m.CMapCompressionType.BINARY:m.CMapCompressionType.NONE;return this._fetchData(a,u).catch(c=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${a}`)})}_fetchData(n,a){(0,m.unreachable)("Abstract method `_fetchData` called.")}}d.BaseCMapReaderFactory=x;class z{constructor({baseUrl:n=null}){this.constructor===z&&(0,m.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=n}async fetch({filename:n}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!n)throw new Error("Font filename must be specified.");const a=`${this.baseUrl}${n}`;return this._fetchData(a).catch(u=>{throw new Error(`Unable to load font data at: ${a}`)})}_fetchData(n){(0,m.unreachable)("Abstract method `_fetchData` called.")}}d.BaseStandardFontDataFactory=z;class X{constructor(){this.constructor===X&&(0,m.unreachable)("Cannot initialize BaseSVGFactory.")}create(n,a,u=!1){if(n<=0||a<=0)throw new Error("Invalid SVG dimensions");const c=this._createSVG("svg:svg");return c.setAttribute("version","1.1"),u||(c.setAttribute("width",`${n}px`),c.setAttribute("height",`${a}px`)),c.setAttribute("preserveAspectRatio","none"),c.setAttribute("viewBox",`0 0 ${n} ${a}`),c}createElement(n){if(typeof n!="string")throw new Error("Invalid SVG element type");return this._createSVG(n)}_createSVG(n){(0,m.unreachable)("Abstract method `_createSVG` called.")}}d.BaseSVGFactory=X}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MurmurHash3_64=void 0;var m=i(1);const E=3285377520,o=4294901760,x=65535;class z{constructor(h){this.h1=h?h&4294967295:E,this.h2=h?h&4294967295:E}update(h){let n,a;if(typeof h=="string"){n=new Uint8Array(h.length*2),a=0;for(let D=0,P=h.length;D<P;D++){const R=h.charCodeAt(D);R<=255?n[a++]=R:(n[a++]=R>>>8,n[a++]=R&255)}}else if((0,m.isArrayBuffer)(h))n=h.slice(),a=n.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const u=a>>2,c=a-u*4,e=new Uint32Array(n.buffer,0,u);let t=0,l=0,s=this.h1,f=this.h2;const T=3432918353,y=461845907,g=T&x,A=y&x;for(let D=0;D<u;D++)D&1?(t=e[D],t=t*T&o|t*g&x,t=t<<15|t>>>17,t=t*y&o|t*A&x,s^=t,s=s<<13|s>>>19,s=s*5+3864292196):(l=e[D],l=l*T&o|l*g&x,l=l<<15|l>>>17,l=l*y&o|l*A&x,f^=l,f=f<<13|f>>>19,f=f*5+3864292196);switch(t=0,c){case 3:t^=n[u*4+2]<<16;case 2:t^=n[u*4+1]<<8;case 1:t^=n[u*4],t=t*T&o|t*g&x,t=t<<15|t>>>17,t=t*y&o|t*A&x,u&1?s^=t:f^=t}this.h1=s,this.h2=f}hexdigest(){let h=this.h1,n=this.h2;return h^=n>>>1,h=h*3981806797&o|h*36045&x,n=n*4283543511&o|((n<<16|h>>>16)*2950163797&o)>>>16,h^=n>>>1,h=h*444984403&o|h*60499&x,n=n*3301882366&o|((n<<16|h>>>16)*3120437893&o)>>>16,h^=n>>>1,(h>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}d.MurmurHash3_64=z}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FontLoader=d.FontFaceObject=void 0;var m=i(1);class E{#e=new Set;constructor({ownerDocument:z=globalThis.document,styleElement:X=null}){this._document=z,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(z){this.nativeFontFaces.add(z),this._document.fonts.add(z)}removeNativeFontFace(z){this.nativeFontFaces.delete(z),this._document.fonts.delete(z)}insertRule(z){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const X=this.styleElement.sheet;X.insertRule(z,X.cssRules.length)}clear(){for(const z of this.nativeFontFaces)this._document.fonts.delete(z);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(z){if(!(!z||this.#e.has(z.loadedName))){if((0,m.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:X,src:h,style:n}=z,a=new FontFace(X,h,n);this.addNativeFontFace(a);try{await a.load(),this.#e.add(X)}catch{(0,m.warn)(`Cannot load system font: ${z.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}(0,m.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(z){if(z.attached||z.missingFile&&!z.systemFontInfo)return;if(z.attached=!0,z.systemFontInfo){await this.loadSystemFont(z.systemFontInfo);return}if(this.isFontLoadingAPISupported){const h=z.createNativeFontFace();if(h){this.addNativeFontFace(h);try{await h.loaded}catch(n){throw(0,m.warn)(`Failed to load font '${h.family}': '${n}'.`),z.disableFontFace=!0,n}}return}const X=z.createFontFaceRule();if(X){if(this.insertRule(X),this.isSyncFontLoadingSupported)return;await new Promise(h=>{const n=this._queueLoadingCallback(h);this._prepareFontLoadEvent(z,n)})}}get isFontLoadingAPISupported(){const z=!!this._document?.fonts;return(0,m.shadow)(this,"isFontLoadingAPISupported",z)}get isSyncFontLoadingSupported(){let z=!1;return(m.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(z=!0),(0,m.shadow)(this,"isSyncFontLoadingSupported",z)}_queueLoadingCallback(z){function X(){for((0,m.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;h.length>0&&h[0].done;){const a=h.shift();setTimeout(a.callback,0)}}const{loadingRequests:h}=this,n={done:!1,complete:X,callback:z};return h.push(n),n}get _loadTestFont(){const z=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,m.shadow)(this,"_loadTestFont",z)}_prepareFontLoadEvent(z,X){function h(j,w){return j.charCodeAt(w)<<24|j.charCodeAt(w+1)<<16|j.charCodeAt(w+2)<<8|j.charCodeAt(w+3)&255}function n(j,w,N,H){const G=j.substring(0,w),$=j.substring(w+N);return G+H+$}let a,u;const c=this._document.createElement("canvas");c.width=1,c.height=1;const e=c.getContext("2d");let t=0;function l(j,w){if(++t>30){(0,m.warn)("Load test font never loaded."),w();return}if(e.font="30px "+j,e.fillText(".",0,20),e.getImageData(0,0,1,1).data[3]>0){w();return}setTimeout(l.bind(null,j,w))}const s=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=n(f,976,s.length,s);const y=16,g=1482184792;let A=h(f,y);for(a=0,u=s.length-3;a<u;a+=4)A=A-g+h(s,a)|0;a<s.length&&(A=A-g+h(s+"XXX",a)|0),f=n(f,y,4,(0,m.string32)(A));const D=`url(data:font/opentype;base64,${btoa(f)});`,P=`@font-face {font-family:"${s}";src:${D}}`;this.insertRule(P);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const j of[z.loadedName,s]){const w=this._document.createElement("span");w.textContent="Hi",w.style.fontFamily=j,R.append(w)}this._document.body.append(R),l(s,()=>{R.remove(),X.complete()})}}d.FontLoader=E;class o{constructor(z,{isEvalSupported:X=!0,disableFontFace:h=!1,ignoreErrors:n=!1,inspectFont:a=null}){this.compiledGlyphs=Object.create(null);for(const u in z)this[u]=z[u];this.isEvalSupported=X!==!1,this.disableFontFace=h===!0,this.ignoreErrors=n===!0,this._inspectFont=a}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let z;if(!this.cssFontInfo)z=new FontFace(this.loadedName,this.data,{});else{const X={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(X.style=`oblique ${this.cssFontInfo.italicAngle}deg`),z=new FontFace(this.cssFontInfo.fontFamily,this.data,X)}return this._inspectFont?.(this),z}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const z=(0,m.bytesToString)(this.data),X=`url(data:${this.mimetype};base64,${btoa(z)});`;let h;if(!this.cssFontInfo)h=`@font-face {font-family:"${this.loadedName}";src:${X}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),h=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${X}}`}return this._inspectFont?.(this,X),h}getPathGenerator(z,X){if(this.compiledGlyphs[X]!==void 0)return this.compiledGlyphs[X];let h;try{h=z.get(this.loadedName+"_path_"+X)}catch(n){if(!this.ignoreErrors)throw n;return(0,m.warn)(`getPathGenerator - ignoring character: "${n}".`),this.compiledGlyphs[X]=function(a,u){}}if(this.isEvalSupported&&m.FeatureTest.isEvalSupported){const n=[];for(const a of h){const u=a.args!==void 0?a.args.join(","):"";n.push("c.",a.cmd,"(",u,`);
`)}return this.compiledGlyphs[X]=new Function("c","size",n.join(""))}return this.compiledGlyphs[X]=function(n,a){for(const u of h)u.cmd==="scale"&&(u.args=[a,-a]),n[u.cmd].apply(n,u.args)}}}d.FontFaceObject=o}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NodeStandardFontDataFactory=d.NodeFilterFactory=d.NodeCanvasFactory=d.NodeCMapReaderFactory=void 0;var m=i(7);i(1);const E=function(h){return new Promise((n,a)=>{require$$5.readFile(h,(c,e)=>{if(c||!e){a(new Error(c));return}n(new Uint8Array(e))})})};class o extends m.BaseFilterFactory{}d.NodeFilterFactory=o;class x extends m.BaseCanvasFactory{_createCanvas(n,a){return require$$5.createCanvas(n,a)}}d.NodeCanvasFactory=x;class z extends m.BaseCMapReaderFactory{_fetchData(n,a){return E(n).then(u=>({cMapData:u,compressionType:a}))}}d.NodeCMapReaderFactory=z;class X extends m.BaseStandardFontDataFactory{_fetchData(n){return E(n)}}d.NodeStandardFontDataFactory=X}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CanvasGraphics=void 0;var m=i(1),E=i(6),o=i(12),x=i(13);const z=16,X=100,h=4096,n=15,a=10,u=1e3,c=16;function e(_,p){if(_._removeMirroring)throw new Error("Context is already forwarding operations.");_.__originalSave=_.save,_.__originalRestore=_.restore,_.__originalRotate=_.rotate,_.__originalScale=_.scale,_.__originalTranslate=_.translate,_.__originalTransform=_.transform,_.__originalSetTransform=_.setTransform,_.__originalResetTransform=_.resetTransform,_.__originalClip=_.clip,_.__originalMoveTo=_.moveTo,_.__originalLineTo=_.lineTo,_.__originalBezierCurveTo=_.bezierCurveTo,_.__originalRect=_.rect,_.__originalClosePath=_.closePath,_.__originalBeginPath=_.beginPath,_._removeMirroring=()=>{_.save=_.__originalSave,_.restore=_.__originalRestore,_.rotate=_.__originalRotate,_.scale=_.__originalScale,_.translate=_.__originalTranslate,_.transform=_.__originalTransform,_.setTransform=_.__originalSetTransform,_.resetTransform=_.__originalResetTransform,_.clip=_.__originalClip,_.moveTo=_.__originalMoveTo,_.lineTo=_.__originalLineTo,_.bezierCurveTo=_.__originalBezierCurveTo,_.rect=_.__originalRect,_.closePath=_.__originalClosePath,_.beginPath=_.__originalBeginPath,delete _._removeMirroring},_.save=function(){p.save(),this.__originalSave()},_.restore=function(){p.restore(),this.__originalRestore()},_.translate=function(M,F){p.translate(M,F),this.__originalTranslate(M,F)},_.scale=function(M,F){p.scale(M,F),this.__originalScale(M,F)},_.transform=function(M,F,I,q,B,v){p.transform(M,F,I,q,B,v),this.__originalTransform(M,F,I,q,B,v)},_.setTransform=function(M,F,I,q,B,v){p.setTransform(M,F,I,q,B,v),this.__originalSetTransform(M,F,I,q,B,v)},_.resetTransform=function(){p.resetTransform(),this.__originalResetTransform()},_.rotate=function(M){p.rotate(M),this.__originalRotate(M)},_.clip=function(M){p.clip(M),this.__originalClip(M)},_.moveTo=function(b,M){p.moveTo(b,M),this.__originalMoveTo(b,M)},_.lineTo=function(b,M){p.lineTo(b,M),this.__originalLineTo(b,M)},_.bezierCurveTo=function(b,M,F,I,q,B){p.bezierCurveTo(b,M,F,I,q,B),this.__originalBezierCurveTo(b,M,F,I,q,B)},_.rect=function(b,M,F,I){p.rect(b,M,F,I),this.__originalRect(b,M,F,I)},_.closePath=function(){p.closePath(),this.__originalClosePath()},_.beginPath=function(){p.beginPath(),this.__originalBeginPath()}}class t{constructor(p){this.canvasFactory=p,this.cache=Object.create(null)}getCanvas(p,b,M){let F;return this.cache[p]!==void 0?(F=this.cache[p],this.canvasFactory.reset(F,b,M)):(F=this.canvasFactory.create(b,M),this.cache[p]=F),F}delete(p){delete this.cache[p]}clear(){for(const p in this.cache){const b=this.cache[p];this.canvasFactory.destroy(b),delete this.cache[p]}}}function l(_,p,b,M,F,I,q,B,v,C){const[L,V,U,Y,Q,le]=(0,E.getCurrentTransform)(_);if(V===0&&U===0){const he=q*L+Q,fe=Math.round(he),re=B*Y+le,ce=Math.round(re),Se=(q+v)*L+Q,ve=Math.abs(Math.round(Se)-fe)||1,be=(B+C)*Y+le,ke=Math.abs(Math.round(be)-ce)||1;return _.setTransform(Math.sign(L),0,0,Math.sign(Y),fe,ce),_.drawImage(p,b,M,F,I,0,0,ve,ke),_.setTransform(L,V,U,Y,Q,le),[ve,ke]}if(L===0&&Y===0){const he=B*U+Q,fe=Math.round(he),re=q*V+le,ce=Math.round(re),Se=(B+C)*U+Q,ve=Math.abs(Math.round(Se)-fe)||1,be=(q+v)*V+le,ke=Math.abs(Math.round(be)-ce)||1;return _.setTransform(0,Math.sign(V),Math.sign(U),0,fe,ce),_.drawImage(p,b,M,F,I,0,0,ke,ve),_.setTransform(L,V,U,Y,Q,le),[ke,ve]}_.drawImage(p,b,M,F,I,q,B,v,C);const _e=Math.hypot(L,V),de=Math.hypot(U,Y);return[_e*v,de*C]}function s(_){const{width:p,height:b}=_;if(p>u||b>u)return null;const M=1e3,F=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),I=p+1;let q=new Uint8Array(I*(b+1)),B,v,C;const L=p+7&-8;let V=new Uint8Array(L*b),U=0;for(const de of _.data){let he=128;for(;he>0;)V[U++]=de&he?0:255,he>>=1}let Y=0;for(U=0,V[U]!==0&&(q[0]=1,++Y),v=1;v<p;v++)V[U]!==V[U+1]&&(q[v]=V[U]?2:1,++Y),U++;for(V[U]!==0&&(q[v]=2,++Y),B=1;B<b;B++){U=B*L,C=B*I,V[U-L]!==V[U]&&(q[C]=V[U]?1:8,++Y);let de=(V[U]?4:0)+(V[U-L]?8:0);for(v=1;v<p;v++)de=(de>>2)+(V[U+1]?4:0)+(V[U-L+1]?8:0),F[de]&&(q[C+v]=F[de],++Y),U++;if(V[U-L]!==V[U]&&(q[C+v]=V[U]?2:4,++Y),Y>M)return null}for(U=L*(b-1),C=B*I,V[U]!==0&&(q[C]=8,++Y),v=1;v<p;v++)V[U]!==V[U+1]&&(q[C+v]=V[U]?4:8,++Y),U++;if(V[U]!==0&&(q[C+v]=4,++Y),Y>M)return null;const Q=new Int32Array([0,I,-1,0,-I,0,0,0,1]),le=new Path2D;for(B=0;Y&&B<=b;B++){let de=B*I;const he=de+p;for(;de<he&&!q[de];)de++;if(de===he)continue;le.moveTo(de%I,B);const fe=de;let re=q[de];do{const ce=Q[re];do de+=ce;while(!q[de]);const Se=q[de];Se!==5&&Se!==10?(re=Se,q[de]=0):(re=Se&51*re>>4,q[de]&=re>>2|re<<2),le.lineTo(de%I,de/I|0),q[de]||--Y}while(fe!==de);--B}return V=null,q=null,function(de){de.save(),de.scale(1/p,-1/b),de.translate(0,-b),de.fill(le),de.beginPath(),de.restore()}}class f{constructor(p,b){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=m.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=m.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=m.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,p,b])}clone(){const p=Object.create(this);return p.clipBox=this.clipBox.slice(),p}setCurrentPoint(p,b){this.x=p,this.y=b}updatePathMinMax(p,b,M){[b,M]=m.Util.applyTransform([b,M],p),this.minX=Math.min(this.minX,b),this.minY=Math.min(this.minY,M),this.maxX=Math.max(this.maxX,b),this.maxY=Math.max(this.maxY,M)}updateRectMinMax(p,b){const M=m.Util.applyTransform(b,p),F=m.Util.applyTransform(b.slice(2),p);this.minX=Math.min(this.minX,M[0],F[0]),this.minY=Math.min(this.minY,M[1],F[1]),this.maxX=Math.max(this.maxX,M[0],F[0]),this.maxY=Math.max(this.maxY,M[1],F[1])}updateScalingPathMinMax(p,b){m.Util.scaleMinMax(p,b),this.minX=Math.min(this.minX,b[0]),this.maxX=Math.max(this.maxX,b[1]),this.minY=Math.min(this.minY,b[2]),this.maxY=Math.max(this.maxY,b[3])}updateCurvePathMinMax(p,b,M,F,I,q,B,v,C,L){const V=m.Util.bezierBoundingBox(b,M,F,I,q,B,v,C);if(L){L[0]=Math.min(L[0],V[0],V[2]),L[1]=Math.max(L[1],V[0],V[2]),L[2]=Math.min(L[2],V[1],V[3]),L[3]=Math.max(L[3],V[1],V[3]);return}this.updateRectMinMax(p,V)}getPathBoundingBox(p=o.PathType.FILL,b=null){const M=[this.minX,this.minY,this.maxX,this.maxY];if(p===o.PathType.STROKE){b||(0,m.unreachable)("Stroke bounding box must include transform.");const F=m.Util.singularValueDecompose2dScale(b),I=F[0]*this.lineWidth/2,q=F[1]*this.lineWidth/2;M[0]-=I,M[1]-=q,M[2]+=I,M[3]+=q}return M}updateClipFromPath(){const p=m.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(p||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(p){this.clipBox=p,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(p=o.PathType.FILL,b=null){return m.Util.intersect(this.clipBox,this.getPathBoundingBox(p,b))}}function T(_,p){if(typeof ImageData<"u"&&p instanceof ImageData){_.putImageData(p,0,0);return}const b=p.height,M=p.width,F=b%c,I=(b-F)/c,q=F===0?I:I+1,B=_.createImageData(M,c);let v=0,C;const L=p.data,V=B.data;let U,Y,Q,le;if(p.kind===m.ImageKind.GRAYSCALE_1BPP){const _e=L.byteLength,de=new Uint32Array(V.buffer,0,V.byteLength>>2),he=de.length,fe=M+7>>3,re=4294967295,ce=m.FeatureTest.isLittleEndian?4278190080:255;for(U=0;U<q;U++){for(Q=U<I?c:F,C=0,Y=0;Y<Q;Y++){const Se=_e-v;let ve=0;const be=Se>fe?M:Se*8-7,ke=be&-8;let Le=0,We=0;for(;ve<ke;ve+=8)We=L[v++],de[C++]=We&128?re:ce,de[C++]=We&64?re:ce,de[C++]=We&32?re:ce,de[C++]=We&16?re:ce,de[C++]=We&8?re:ce,de[C++]=We&4?re:ce,de[C++]=We&2?re:ce,de[C++]=We&1?re:ce;for(;ve<be;ve++)Le===0&&(We=L[v++],Le=128),de[C++]=We&Le?re:ce,Le>>=1}for(;C<he;)de[C++]=0;_.putImageData(B,0,U*c)}}else if(p.kind===m.ImageKind.RGBA_32BPP){for(Y=0,le=M*c*4,U=0;U<I;U++)V.set(L.subarray(v,v+le)),v+=le,_.putImageData(B,0,Y),Y+=c;U<q&&(le=M*F*4,V.set(L.subarray(v,v+le)),_.putImageData(B,0,Y))}else if(p.kind===m.ImageKind.RGB_24BPP)for(Q=c,le=M*Q,U=0;U<q;U++){for(U>=I&&(Q=F,le=M*Q),C=0,Y=le;Y--;)V[C++]=L[v++],V[C++]=L[v++],V[C++]=L[v++],V[C++]=255;_.putImageData(B,0,U*c)}else throw new Error(`bad image kind: ${p.kind}`)}function y(_,p){if(p.bitmap){_.drawImage(p.bitmap,0,0);return}const b=p.height,M=p.width,F=b%c,I=(b-F)/c,q=F===0?I:I+1,B=_.createImageData(M,c);let v=0;const C=p.data,L=B.data;for(let V=0;V<q;V++){const U=V<I?c:F;({srcPos:v}=(0,x.convertBlackAndWhiteToRGBA)({src:C,srcPos:v,dest:L,width:M,height:U,nonBlackColor:0})),_.putImageData(B,0,V*c)}}function g(_,p){const b=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const M of b)_[M]!==void 0&&(p[M]=_[M]);_.setLineDash!==void 0&&(p.setLineDash(_.getLineDash()),p.lineDashOffset=_.lineDashOffset)}function A(_){if(_.strokeStyle=_.fillStyle="#000000",_.fillRule="nonzero",_.globalAlpha=1,_.lineWidth=1,_.lineCap="butt",_.lineJoin="miter",_.miterLimit=10,_.globalCompositeOperation="source-over",_.font="10px sans-serif",_.setLineDash!==void 0&&(_.setLineDash([]),_.lineDashOffset=0),!m.isNodeJS){const{filter:p}=_;p!=="none"&&p!==""&&(_.filter="none")}}function D(_,p,b,M){const F=_.length;for(let I=3;I<F;I+=4){const q=_[I];if(q===0)_[I-3]=p,_[I-2]=b,_[I-1]=M;else if(q<255){const B=255-q;_[I-3]=_[I-3]*q+p*B>>8,_[I-2]=_[I-2]*q+b*B>>8,_[I-1]=_[I-1]*q+M*B>>8}}}function P(_,p,b){const M=_.length,F=1/255;for(let I=3;I<M;I+=4){const q=b?b[_[I]]:_[I];p[I]=p[I]*q*F|0}}function R(_,p,b){const M=_.length;for(let F=3;F<M;F+=4){const I=_[F-3]*77+_[F-2]*152+_[F-1]*28;p[F]=b?p[F]*b[I>>8]>>8:p[F]*I>>16}}function j(_,p,b,M,F,I,q,B,v,C,L){const V=!!I,U=V?I[0]:0,Y=V?I[1]:0,Q=V?I[2]:0,le=F==="Luminosity"?R:P,de=Math.min(M,Math.ceil(1048576/b));for(let he=0;he<M;he+=de){const fe=Math.min(de,M-he),re=_.getImageData(B-C,he+(v-L),b,fe),ce=p.getImageData(B,he+v,b,fe);V&&D(re.data,U,Y,Q),le(re.data,ce.data,q),p.putImageData(ce,B,he+v)}}function w(_,p,b,M){const F=M[0],I=M[1],q=M[2]-F,B=M[3]-I;q===0||B===0||(j(p.context,b,q,B,p.subtype,p.backdrop,p.transferMap,F,I,p.offsetX,p.offsetY),_.save(),_.globalAlpha=1,_.globalCompositeOperation="source-over",_.setTransform(1,0,0,1,0,0),_.drawImage(b.canvas,0,0),_.restore())}function N(_,p){const b=m.Util.singularValueDecompose2dScale(_);b[0]=Math.fround(b[0]),b[1]=Math.fround(b[1]);const M=Math.fround((globalThis.devicePixelRatio||1)*E.PixelsPerInch.PDF_TO_CSS_UNITS);return p!==void 0?p:b[0]<=M||b[1]<=M}const H=["butt","round","square"],G=["miter","round","bevel"],$={},W={};class k{constructor(p,b,M,F,I,{optionalContentConfig:q,markedContentStack:B=null},v,C){this.ctx=p,this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=M,this.canvasFactory=F,this.filterFactory=I,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=B||[],this.optionalContentConfig=q,this.cachedCanvases=new t(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=v,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=C,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(p,b=null){return typeof p=="string"?p.startsWith("g_")?this.commonObjs.get(p):this.objs.get(p):b}beginDrawing({transform:p,viewport:b,transparency:M=!1,background:F=null}){const I=this.ctx.canvas.width,q=this.ctx.canvas.height,B=this.ctx.fillStyle;if(this.ctx.fillStyle=F||"#ffffff",this.ctx.fillRect(0,0,I,q),this.ctx.fillStyle=B,M){const v=this.cachedCanvases.getCanvas("transparent",I,q);this.compositeCtx=this.ctx,this.transparentCanvas=v.canvas,this.ctx=v.context,this.ctx.save(),this.ctx.transform(...(0,E.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),A(this.ctx),p&&(this.ctx.transform(...p),this.outputScaleX=p[0],this.outputScaleY=p[0]),this.ctx.transform(...b.transform),this.viewportScale=b.scale,this.baseTransform=(0,E.getCurrentTransform)(this.ctx)}executeOperatorList(p,b,M,F){const I=p.argsArray,q=p.fnArray;let B=b||0;const v=I.length;if(v===B)return B;const C=v-B>a&&typeof M=="function",L=C?Date.now()+n:0;let V=0;const U=this.commonObjs,Y=this.objs;let Q;for(;;){if(F!==void 0&&B===F.nextBreakPoint)return F.breakIt(B,M),B;if(Q=q[B],Q!==m.OPS.dependency)this[Q].apply(this,I[B]);else for(const le of I[B]){const _e=le.startsWith("g_")?U:Y;if(!_e.has(le))return _e.get(le,M),B}if(B++,B===v)return B;if(C&&++V>a){if(Date.now()>L)return M(),B;V=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const p of this._cachedBitmapsMap.values()){for(const b of p.values())typeof HTMLCanvasElement<"u"&&b instanceof HTMLCanvasElement&&(b.width=b.height=0);p.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const p=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(p!=="none"){const b=this.ctx.filter;this.ctx.filter=p,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=b}}}_scaleImage(p,b){const M=p.width,F=p.height;let I=Math.max(Math.hypot(b[0],b[1]),1),q=Math.max(Math.hypot(b[2],b[3]),1),B=M,v=F,C="prescale1",L,V;for(;I>2&&B>1||q>2&&v>1;){let U=B,Y=v;I>2&&B>1&&(U=B>=16384?Math.floor(B/2)-1||1:Math.ceil(B/2),I/=B/U),q>2&&v>1&&(Y=v>=16384?Math.floor(v/2)-1||1:Math.ceil(v)/2,q/=v/Y),L=this.cachedCanvases.getCanvas(C,U,Y),V=L.context,V.clearRect(0,0,U,Y),V.drawImage(p,0,0,B,v,0,0,U,Y),p=L.canvas,B=U,v=Y,C=C==="prescale1"?"prescale2":"prescale1"}return{img:p,paintWidth:B,paintHeight:v}}_createMaskCanvas(p){const b=this.ctx,{width:M,height:F}=p,I=this.current.fillColor,q=this.current.patternFill,B=(0,E.getCurrentTransform)(b);let v,C,L,V;if((p.bitmap||p.data)&&p.count>1){const ve=p.bitmap||p.data.buffer;C=JSON.stringify(q?B:[B.slice(0,4),I]),v=this._cachedBitmapsMap.get(ve),v||(v=new Map,this._cachedBitmapsMap.set(ve,v));const be=v.get(C);if(be&&!q){const ke=Math.round(Math.min(B[0],B[2])+B[4]),Le=Math.round(Math.min(B[1],B[3])+B[5]);return{canvas:be,offsetX:ke,offsetY:Le}}L=be}L||(V=this.cachedCanvases.getCanvas("maskCanvas",M,F),y(V.context,p));let U=m.Util.transform(B,[1/M,0,0,-1/F,0,0]);U=m.Util.transform(U,[1,0,0,1,0,-F]);const Y=m.Util.applyTransform([0,0],U),Q=m.Util.applyTransform([M,F],U),le=m.Util.normalizeRect([Y[0],Y[1],Q[0],Q[1]]),_e=Math.round(le[2]-le[0])||1,de=Math.round(le[3]-le[1])||1,he=this.cachedCanvases.getCanvas("fillCanvas",_e,de),fe=he.context,re=Math.min(Y[0],Q[0]),ce=Math.min(Y[1],Q[1]);fe.translate(-re,-ce),fe.transform(...U),L||(L=this._scaleImage(V.canvas,(0,E.getCurrentTransformInverse)(fe)),L=L.img,v&&q&&v.set(C,L)),fe.imageSmoothingEnabled=N((0,E.getCurrentTransform)(fe),p.interpolate),l(fe,L,0,0,L.width,L.height,0,0,M,F),fe.globalCompositeOperation="source-in";const Se=m.Util.transform((0,E.getCurrentTransformInverse)(fe),[1,0,0,1,-re,-ce]);return fe.fillStyle=q?I.getPattern(b,this,Se,o.PathType.FILL):I,fe.fillRect(0,0,M,F),v&&!q&&(this.cachedCanvases.delete("fillCanvas"),v.set(C,he.canvas)),{canvas:he.canvas,offsetX:Math.round(re),offsetY:Math.round(ce)}}setLineWidth(p){p!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=p,this.ctx.lineWidth=p}setLineCap(p){this.ctx.lineCap=H[p]}setLineJoin(p){this.ctx.lineJoin=G[p]}setMiterLimit(p){this.ctx.miterLimit=p}setDash(p,b){const M=this.ctx;M.setLineDash!==void 0&&(M.setLineDash(p),M.lineDashOffset=b)}setRenderingIntent(p){}setFlatness(p){}setGState(p){for(const[b,M]of p)switch(b){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M[0],M[1]);break;case"CA":this.current.strokeAlpha=M;break;case"ca":this.current.fillAlpha=M,this.ctx.globalAlpha=M;break;case"BM":this.ctx.globalCompositeOperation=M;break;case"SMask":this.current.activeSMask=M?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(M);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const p=this.inSMaskMode;this.current.activeSMask&&!p?this.beginSMaskMode():!this.current.activeSMask&&p&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const p=this.ctx.canvas.width,b=this.ctx.canvas.height,M="smaskGroupAt"+this.groupLevel,F=this.cachedCanvases.getCanvas(M,p,b);this.suspendedCtx=this.ctx,this.ctx=F.context;const I=this.ctx;I.setTransform(...(0,E.getCurrentTransform)(this.suspendedCtx)),g(this.suspendedCtx,I),e(I,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),g(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(p){if(!this.current.activeSMask)return;p?(p[0]=Math.floor(p[0]),p[1]=Math.floor(p[1]),p[2]=Math.ceil(p[2]),p[3]=Math.ceil(p[3])):p=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const b=this.current.activeSMask,M=this.suspendedCtx;w(M,b,this.ctx,p),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(g(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const p=this.current;this.stateStack.push(p),this.current=p.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),g(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(p,b,M,F,I,q){this.ctx.transform(p,b,M,F,I,q),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(p,b,M){const F=this.ctx,I=this.current;let q=I.x,B=I.y,v,C;const L=(0,E.getCurrentTransform)(F),V=L[0]===0&&L[3]===0||L[1]===0&&L[2]===0,U=V?M.slice(0):null;for(let Y=0,Q=0,le=p.length;Y<le;Y++)switch(p[Y]|0){case m.OPS.rectangle:q=b[Q++],B=b[Q++];const _e=b[Q++],de=b[Q++],he=q+_e,fe=B+de;F.moveTo(q,B),_e===0||de===0?F.lineTo(he,fe):(F.lineTo(he,B),F.lineTo(he,fe),F.lineTo(q,fe)),V||I.updateRectMinMax(L,[q,B,he,fe]),F.closePath();break;case m.OPS.moveTo:q=b[Q++],B=b[Q++],F.moveTo(q,B),V||I.updatePathMinMax(L,q,B);break;case m.OPS.lineTo:q=b[Q++],B=b[Q++],F.lineTo(q,B),V||I.updatePathMinMax(L,q,B);break;case m.OPS.curveTo:v=q,C=B,q=b[Q+4],B=b[Q+5],F.bezierCurveTo(b[Q],b[Q+1],b[Q+2],b[Q+3],q,B),I.updateCurvePathMinMax(L,v,C,b[Q],b[Q+1],b[Q+2],b[Q+3],q,B,U),Q+=6;break;case m.OPS.curveTo2:v=q,C=B,F.bezierCurveTo(q,B,b[Q],b[Q+1],b[Q+2],b[Q+3]),I.updateCurvePathMinMax(L,v,C,q,B,b[Q],b[Q+1],b[Q+2],b[Q+3],U),q=b[Q+2],B=b[Q+3],Q+=4;break;case m.OPS.curveTo3:v=q,C=B,q=b[Q+2],B=b[Q+3],F.bezierCurveTo(b[Q],b[Q+1],q,B,q,B),I.updateCurvePathMinMax(L,v,C,b[Q],b[Q+1],q,B,q,B,U),Q+=4;break;case m.OPS.closePath:F.closePath();break}V&&I.updateScalingPathMinMax(L,U),I.setCurrentPoint(q,B)}closePath(){this.ctx.closePath()}stroke(p=!0){const b=this.ctx,M=this.current.strokeColor;b.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof M=="object"&&M?.getPattern?(b.save(),b.strokeStyle=M.getPattern(b,this,(0,E.getCurrentTransformInverse)(b),o.PathType.STROKE),this.rescaleAndStroke(!1),b.restore()):this.rescaleAndStroke(!0)),p&&this.consumePath(this.current.getClippedPathBoundingBox()),b.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(p=!0){const b=this.ctx,M=this.current.fillColor,F=this.current.patternFill;let I=!1;F&&(b.save(),b.fillStyle=M.getPattern(b,this,(0,E.getCurrentTransformInverse)(b),o.PathType.FILL),I=!0);const q=this.current.getClippedPathBoundingBox();this.contentVisible&&q!==null&&(this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill()),I&&b.restore(),p&&this.consumePath(q)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$}eoClip(){this.pendingClip=W}beginText(){this.current.textMatrix=m.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const p=this.pendingTextPaths,b=this.ctx;if(p===void 0){b.beginPath();return}b.save(),b.beginPath();for(const M of p)b.setTransform(...M.transform),b.translate(M.x,M.y),M.addToPath(b,M.fontSize);b.restore(),b.clip(),b.beginPath(),delete this.pendingTextPaths}setCharSpacing(p){this.current.charSpacing=p}setWordSpacing(p){this.current.wordSpacing=p}setHScale(p){this.current.textHScale=p/100}setLeading(p){this.current.leading=-p}setFont(p,b){const M=this.commonObjs.get(p),F=this.current;if(!M)throw new Error(`Can't find font for ${p}`);if(F.fontMatrix=M.fontMatrix||m.FONT_IDENTITY_MATRIX,(F.fontMatrix[0]===0||F.fontMatrix[3]===0)&&(0,m.warn)("Invalid font matrix for font "+p),b<0?(b=-b,F.fontDirection=-1):F.fontDirection=1,this.current.font=M,this.current.fontSize=b,M.isType3Font)return;const I=M.loadedName||"sans-serif",q=M.systemFontInfo?.css||`"${I}", ${M.fallbackName}`;let B="normal";M.black?B="900":M.bold&&(B="bold");const v=M.italic?"italic":"normal";let C=b;b<z?C=z:b>X&&(C=X),this.current.fontSizeScale=b/C,this.ctx.font=`${v} ${B} ${C}px ${q}`}setTextRenderingMode(p){this.current.textRenderingMode=p}setTextRise(p){this.current.textRise=p}moveText(p,b){this.current.x=this.current.lineX+=p,this.current.y=this.current.lineY+=b}setLeadingMoveText(p,b){this.setLeading(-b),this.moveText(p,b)}setTextMatrix(p,b,M,F,I,q){this.current.textMatrix=[p,b,M,F,I,q],this.current.textMatrixScale=Math.hypot(p,b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(p,b,M,F){const I=this.ctx,q=this.current,B=q.font,v=q.textRenderingMode,C=q.fontSize/q.fontSizeScale,L=v&m.TextRenderingMode.FILL_STROKE_MASK,V=!!(v&m.TextRenderingMode.ADD_TO_PATH_FLAG),U=q.patternFill&&!B.missingFile;let Y;(B.disableFontFace||V||U)&&(Y=B.getPathGenerator(this.commonObjs,p)),B.disableFontFace||U?(I.save(),I.translate(b,M),I.beginPath(),Y(I,C),F&&I.setTransform(...F),(L===m.TextRenderingMode.FILL||L===m.TextRenderingMode.FILL_STROKE)&&I.fill(),(L===m.TextRenderingMode.STROKE||L===m.TextRenderingMode.FILL_STROKE)&&I.stroke(),I.restore()):((L===m.TextRenderingMode.FILL||L===m.TextRenderingMode.FILL_STROKE)&&I.fillText(p,b,M),(L===m.TextRenderingMode.STROKE||L===m.TextRenderingMode.FILL_STROKE)&&I.strokeText(p,b,M)),V&&(this.pendingTextPaths||=[]).push({transform:(0,E.getCurrentTransform)(I),x:b,y:M,fontSize:C,addToPath:Y})}get isFontSubpixelAAEnabled(){const{context:p}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);p.scale(1.5,1),p.fillText("I",0,10);const b=p.getImageData(0,0,10,10).data;let M=!1;for(let F=3;F<b.length;F+=4)if(b[F]>0&&b[F]<255){M=!0;break}return(0,m.shadow)(this,"isFontSubpixelAAEnabled",M)}showText(p){const b=this.current,M=b.font;if(M.isType3Font)return this.showType3Text(p);const F=b.fontSize;if(F===0)return;const I=this.ctx,q=b.fontSizeScale,B=b.charSpacing,v=b.wordSpacing,C=b.fontDirection,L=b.textHScale*C,V=p.length,U=M.vertical,Y=U?1:-1,Q=M.defaultVMetrics,le=F*b.fontMatrix[0],_e=b.textRenderingMode===m.TextRenderingMode.FILL&&!M.disableFontFace&&!b.patternFill;I.save(),I.transform(...b.textMatrix),I.translate(b.x,b.y+b.textRise),C>0?I.scale(L,-1):I.scale(L,1);let de;if(b.patternFill){I.save();const Se=b.fillColor.getPattern(I,this,(0,E.getCurrentTransformInverse)(I),o.PathType.FILL);de=(0,E.getCurrentTransform)(I),I.restore(),I.fillStyle=Se}let he=b.lineWidth;const fe=b.textMatrixScale;if(fe===0||he===0){const Se=b.textRenderingMode&m.TextRenderingMode.FILL_STROKE_MASK;(Se===m.TextRenderingMode.STROKE||Se===m.TextRenderingMode.FILL_STROKE)&&(he=this.getSinglePixelWidth())}else he/=fe;if(q!==1&&(I.scale(q,q),he/=q),I.lineWidth=he,M.isInvalidPDFjsFont){const Se=[];let ve=0;for(const be of p)Se.push(be.unicode),ve+=be.width;I.fillText(Se.join(""),0,0),b.x+=ve*le*L,I.restore(),this.compose();return}let re=0,ce;for(ce=0;ce<V;++ce){const Se=p[ce];if(typeof Se=="number"){re+=Y*Se*F/1e3;continue}let ve=!1;const be=(Se.isSpace?v:0)+B,ke=Se.fontChar,Le=Se.accent;let We,tt,Ze=Se.width;if(U){const rt=Se.vmetric||Q,ft=-(Se.vmetric?rt[1]:Ze*.5)*le,st=rt[2]*le;Ze=rt?-rt[0]:Ze,We=ft/q,tt=(re+st)/q}else We=re/q,tt=0;if(M.remeasure&&Ze>0){const rt=I.measureText(ke).width*1e3/F*q;if(Ze<rt&&this.isFontSubpixelAAEnabled){const ft=Ze/rt;ve=!0,I.save(),I.scale(ft,1),We/=ft}else Ze!==rt&&(We+=(Ze-rt)/2e3*F/q)}if(this.contentVisible&&(Se.isInFont||M.missingFile)){if(_e&&!Le)I.fillText(ke,We,tt);else if(this.paintChar(ke,We,tt,de),Le){const rt=We+F*Le.offset.x/q,ft=tt-F*Le.offset.y/q;this.paintChar(Le.fontChar,rt,ft,de)}}const gt=U?Ze*le-be*C:Ze*le+be*C;re+=gt,ve&&I.restore()}U?b.y-=re:b.x+=re*L,I.restore(),this.compose()}showType3Text(p){const b=this.ctx,M=this.current,F=M.font,I=M.fontSize,q=M.fontDirection,B=F.vertical?1:-1,v=M.charSpacing,C=M.wordSpacing,L=M.textHScale*q,V=M.fontMatrix||m.FONT_IDENTITY_MATRIX,U=p.length,Y=M.textRenderingMode===m.TextRenderingMode.INVISIBLE;let Q,le,_e,de;if(!(Y||I===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,b.save(),b.transform(...M.textMatrix),b.translate(M.x,M.y),b.scale(L,q),Q=0;Q<U;++Q){if(le=p[Q],typeof le=="number"){de=B*le*I/1e3,this.ctx.translate(de,0),M.x+=de*L;continue}const he=(le.isSpace?C:0)+v,fe=F.charProcOperatorList[le.operatorListId];if(!fe){(0,m.warn)(`Type3 character "${le.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=le,this.save(),b.scale(I,I),b.transform(...V),this.executeOperatorList(fe),this.restore()),_e=m.Util.applyTransform([le.width,0],V)[0]*I+he,b.translate(_e,0),M.x+=_e*L}b.restore(),this.processingType3=null}}setCharWidth(p,b){}setCharWidthAndBounds(p,b,M,F,I,q){this.ctx.rect(M,F,I-M,q-F),this.ctx.clip(),this.endPath()}getColorN_Pattern(p){let b;if(p[0]==="TilingPattern"){const M=p[1],F=this.baseTransform||(0,E.getCurrentTransform)(this.ctx),I={createCanvasGraphics:q=>new k(q,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};b=new o.TilingPattern(p,M,this.ctx,I,F)}else b=this._getPattern(p[1],p[2]);return b}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(p,b,M){const F=m.Util.makeHexColor(p,b,M);this.ctx.strokeStyle=F,this.current.strokeColor=F}setFillRGBColor(p,b,M){const F=m.Util.makeHexColor(p,b,M);this.ctx.fillStyle=F,this.current.fillColor=F,this.current.patternFill=!1}_getPattern(p,b=null){let M;return this.cachedPatterns.has(p)?M=this.cachedPatterns.get(p):(M=(0,o.getShadingPattern)(this.getObject(p)),this.cachedPatterns.set(p,M)),b&&(M.matrix=b),M}shadingFill(p){if(!this.contentVisible)return;const b=this.ctx;this.save();const M=this._getPattern(p);b.fillStyle=M.getPattern(b,this,(0,E.getCurrentTransformInverse)(b),o.PathType.SHADING);const F=(0,E.getCurrentTransformInverse)(b);if(F){const{width:I,height:q}=b.canvas,[B,v,C,L]=m.Util.getAxialAlignedBoundingBox([0,0,I,q],F);this.ctx.fillRect(B,v,C-B,L-v)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,m.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,m.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(p,b){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(p)&&p.length===6&&this.transform(...p),this.baseTransform=(0,E.getCurrentTransform)(this.ctx),b)){const M=b[2]-b[0],F=b[3]-b[1];this.ctx.rect(b[0],b[1],M,F),this.current.updateRectMinMax((0,E.getCurrentTransform)(this.ctx),b),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(p){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const b=this.ctx;p.isolated||(0,m.info)("TODO: Support non-isolated groups."),p.knockout&&(0,m.warn)("Knockout groups not supported.");const M=(0,E.getCurrentTransform)(b);if(p.matrix&&b.transform(...p.matrix),!p.bbox)throw new Error("Bounding box is required.");let F=m.Util.getAxialAlignedBoundingBox(p.bbox,(0,E.getCurrentTransform)(b));const I=[0,0,b.canvas.width,b.canvas.height];F=m.Util.intersect(F,I)||[0,0,0,0];const q=Math.floor(F[0]),B=Math.floor(F[1]);let v=Math.max(Math.ceil(F[2])-q,1),C=Math.max(Math.ceil(F[3])-B,1),L=1,V=1;v>h&&(L=v/h,v=h),C>h&&(V=C/h,C=h),this.current.startNewPathAndClipBox([0,0,v,C]);let U="groupAt"+this.groupLevel;p.smask&&(U+="_smask_"+this.smaskCounter++%2);const Y=this.cachedCanvases.getCanvas(U,v,C),Q=Y.context;Q.scale(1/L,1/V),Q.translate(-q,-B),Q.transform(...M),p.smask?this.smaskStack.push({canvas:Y.canvas,context:Q,offsetX:q,offsetY:B,scaleX:L,scaleY:V,subtype:p.smask.subtype,backdrop:p.smask.backdrop,transferMap:p.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(q,B),b.scale(L,V),b.save()),g(b,Q),this.ctx=Q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(b),this.groupLevel++}endGroup(p){if(!this.contentVisible)return;this.groupLevel--;const b=this.ctx,M=this.groupStack.pop();if(this.ctx=M,this.ctx.imageSmoothingEnabled=!1,p.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const F=(0,E.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...F);const I=m.Util.getAxialAlignedBoundingBox([0,0,b.canvas.width,b.canvas.height],F);this.ctx.drawImage(b.canvas,0,0),this.ctx.restore(),this.compose(I)}}beginAnnotation(p,b,M,F,I){if(this.#e(),A(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(b)&&b.length===4){const q=b[2]-b[0],B=b[3]-b[1];if(I&&this.annotationCanvasMap){M=M.slice(),M[4]-=b[0],M[5]-=b[1],b=b.slice(),b[0]=b[1]=0,b[2]=q,b[3]=B;const[v,C]=m.Util.singularValueDecompose2dScale((0,E.getCurrentTransform)(this.ctx)),{viewportScale:L}=this,V=Math.ceil(q*this.outputScaleX*L),U=Math.ceil(B*this.outputScaleY*L);this.annotationCanvas=this.canvasFactory.create(V,U);const{canvas:Y,context:Q}=this.annotationCanvas;this.annotationCanvasMap.set(p,Y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Q,this.ctx.save(),this.ctx.setTransform(v,0,0,-C,0,B*C),A(this.ctx)}else A(this.ctx),this.ctx.rect(b[0],b[1],q,B),this.ctx.clip(),this.endPath()}this.current=new f(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...M),this.transform(...F)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(p){if(!this.contentVisible)return;const b=p.count;p=this.getObject(p.data,p),p.count=b;const M=this.ctx,F=this.processingType3;if(F&&(F.compiled===void 0&&(F.compiled=s(p)),F.compiled)){F.compiled(M);return}const I=this._createMaskCanvas(p),q=I.canvas;M.save(),M.setTransform(1,0,0,1,0,0),M.drawImage(q,I.offsetX,I.offsetY),M.restore(),this.compose()}paintImageMaskXObjectRepeat(p,b,M=0,F=0,I,q){if(!this.contentVisible)return;p=this.getObject(p.data,p);const B=this.ctx;B.save();const v=(0,E.getCurrentTransform)(B);B.transform(b,M,F,I,0,0);const C=this._createMaskCanvas(p);B.setTransform(1,0,0,1,C.offsetX-v[4],C.offsetY-v[5]);for(let L=0,V=q.length;L<V;L+=2){const U=m.Util.transform(v,[b,M,F,I,q[L],q[L+1]]),[Y,Q]=m.Util.applyTransform([0,0],U);B.drawImage(C.canvas,Y,Q)}B.restore(),this.compose()}paintImageMaskXObjectGroup(p){if(!this.contentVisible)return;const b=this.ctx,M=this.current.fillColor,F=this.current.patternFill;for(const I of p){const{data:q,width:B,height:v,transform:C}=I,L=this.cachedCanvases.getCanvas("maskCanvas",B,v),V=L.context;V.save();const U=this.getObject(q,I);y(V,U),V.globalCompositeOperation="source-in",V.fillStyle=F?M.getPattern(V,this,(0,E.getCurrentTransformInverse)(b),o.PathType.FILL):M,V.fillRect(0,0,B,v),V.restore(),b.save(),b.transform(...C),b.scale(1,-1),l(b,L.canvas,0,0,B,v,0,-1,1,1),b.restore()}this.compose()}paintImageXObject(p){if(!this.contentVisible)return;const b=this.getObject(p);if(!b){(0,m.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(b)}paintImageXObjectRepeat(p,b,M,F){if(!this.contentVisible)return;const I=this.getObject(p);if(!I){(0,m.warn)("Dependent image isn't ready yet");return}const q=I.width,B=I.height,v=[];for(let C=0,L=F.length;C<L;C+=2)v.push({transform:[b,0,0,M,F[C],F[C+1]],x:0,y:0,w:q,h:B});this.paintInlineImageXObjectGroup(I,v)}applyTransferMapsToCanvas(p){return this.current.transferMaps!=="none"&&(p.filter=this.current.transferMaps,p.drawImage(p.canvas,0,0),p.filter="none"),p.canvas}applyTransferMapsToBitmap(p){if(this.current.transferMaps==="none")return p.bitmap;const{bitmap:b,width:M,height:F}=p,I=this.cachedCanvases.getCanvas("inlineImage",M,F),q=I.context;return q.filter=this.current.transferMaps,q.drawImage(b,0,0),q.filter="none",I.canvas}paintInlineImageXObject(p){if(!this.contentVisible)return;const b=p.width,M=p.height,F=this.ctx;if(this.save(),!m.isNodeJS){const{filter:B}=F;B!=="none"&&B!==""&&(F.filter="none")}F.scale(1/b,-1/M);let I;if(p.bitmap)I=this.applyTransferMapsToBitmap(p);else if(typeof HTMLElement=="function"&&p instanceof HTMLElement||!p.data)I=p;else{const v=this.cachedCanvases.getCanvas("inlineImage",b,M).context;T(v,p),I=this.applyTransferMapsToCanvas(v)}const q=this._scaleImage(I,(0,E.getCurrentTransformInverse)(F));F.imageSmoothingEnabled=N((0,E.getCurrentTransform)(F),p.interpolate),l(F,q.img,0,0,q.paintWidth,q.paintHeight,0,-M,b,M),this.compose(),this.restore()}paintInlineImageXObjectGroup(p,b){if(!this.contentVisible)return;const M=this.ctx;let F;if(p.bitmap)F=p.bitmap;else{const I=p.width,q=p.height,v=this.cachedCanvases.getCanvas("inlineImage",I,q).context;T(v,p),F=this.applyTransferMapsToCanvas(v)}for(const I of b)M.save(),M.transform(...I.transform),M.scale(1,-1),l(M,F,I.x,I.y,I.w,I.h,0,-1,1,1),M.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(p){}markPointProps(p,b){}beginMarkedContent(p){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(p,b){p==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(b)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(p){const b=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(p);const M=this.ctx;this.pendingClip&&(b||(this.pendingClip===W?M.clip("evenodd"):M.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),M.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const p=(0,E.getCurrentTransform)(this.ctx);if(p[1]===0&&p[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(p[0]),Math.abs(p[3]));else{const b=Math.abs(p[0]*p[3]-p[2]*p[1]),M=Math.hypot(p[0],p[2]),F=Math.hypot(p[1],p[3]);this._cachedGetSinglePixelWidth=Math.max(M,F)/b}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:p}=this.current,{a:b,b:M,c:F,d:I}=this.ctx.getTransform();let q,B;if(M===0&&F===0){const v=Math.abs(b),C=Math.abs(I);if(v===C)if(p===0)q=B=1/v;else{const L=v*p;q=B=L<1?1/L:1}else if(p===0)q=1/v,B=1/C;else{const L=v*p,V=C*p;q=L<1?1/L:1,B=V<1?1/V:1}}else{const v=Math.abs(b*I-M*F),C=Math.hypot(b,M),L=Math.hypot(F,I);if(p===0)q=L/v,B=C/v;else{const V=p*v;q=L>V?L/V:1,B=C>V?C/V:1}}this._cachedScaleForStroking[0]=q,this._cachedScaleForStroking[1]=B}return this._cachedScaleForStroking}rescaleAndStroke(p){const{ctx:b}=this,{lineWidth:M}=this.current,[F,I]=this.getScaleForStroking();if(b.lineWidth=M||1,F===1&&I===1){b.stroke();return}const q=b.getLineDash();if(p&&b.save(),b.scale(F,I),q.length>0){const B=Math.max(F,I);b.setLineDash(q.map(v=>v/B)),b.lineDashOffset/=B}b.stroke(),p&&b.restore()}isContentVisible(){for(let p=this.markedContentStack.length-1;p>=0;p--)if(!this.markedContentStack[p].visible)return!1;return!0}}d.CanvasGraphics=k;for(const _ in m.OPS)k.prototype[_]!==void 0&&(k.prototype[m.OPS[_]]=k.prototype[_])}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TilingPattern=d.PathType=void 0,d.getShadingPattern=c;var m=i(1),E=i(6);const o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};d.PathType=o;function x(l,s){if(!s)return;const f=s[2]-s[0],T=s[3]-s[1],y=new Path2D;y.rect(s[0],s[1],f,T),l.clip(y)}class z{constructor(){this.constructor===z&&(0,m.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,m.unreachable)("Abstract method `getPattern` called.")}}class X extends z{constructor(s){super(),this._type=s[1],this._bbox=s[2],this._colorStops=s[3],this._p0=s[4],this._p1=s[5],this._r0=s[6],this._r1=s[7],this.matrix=null}_createGradient(s){let f;this._type==="axial"?f=s.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(f=s.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const T of this._colorStops)f.addColorStop(T[0],T[1]);return f}getPattern(s,f,T,y){let g;if(y===o.STROKE||y===o.FILL){const A=f.current.getClippedPathBoundingBox(y,(0,E.getCurrentTransform)(s))||[0,0,0,0],D=Math.ceil(A[2]-A[0])||1,P=Math.ceil(A[3]-A[1])||1,R=f.cachedCanvases.getCanvas("pattern",D,P,!0),j=R.context;j.clearRect(0,0,j.canvas.width,j.canvas.height),j.beginPath(),j.rect(0,0,j.canvas.width,j.canvas.height),j.translate(-A[0],-A[1]),T=m.Util.transform(T,[1,0,0,1,A[0],A[1]]),j.transform(...f.baseTransform),this.matrix&&j.transform(...this.matrix),x(j,this._bbox),j.fillStyle=this._createGradient(j),j.fill(),g=s.createPattern(R.canvas,"no-repeat");const w=new DOMMatrix(T);g.setTransform(w)}else x(s,this._bbox),g=this._createGradient(s);return g}}function h(l,s,f,T,y,g,A,D){const P=s.coords,R=s.colors,j=l.data,w=l.width*4;let N;P[f+1]>P[T+1]&&(N=f,f=T,T=N,N=g,g=A,A=N),P[T+1]>P[y+1]&&(N=T,T=y,y=N,N=A,A=D,D=N),P[f+1]>P[T+1]&&(N=f,f=T,T=N,N=g,g=A,A=N);const H=(P[f]+s.offsetX)*s.scaleX,G=(P[f+1]+s.offsetY)*s.scaleY,$=(P[T]+s.offsetX)*s.scaleX,W=(P[T+1]+s.offsetY)*s.scaleY,k=(P[y]+s.offsetX)*s.scaleX,_=(P[y+1]+s.offsetY)*s.scaleY;if(G>=_)return;const p=R[g],b=R[g+1],M=R[g+2],F=R[A],I=R[A+1],q=R[A+2],B=R[D],v=R[D+1],C=R[D+2],L=Math.round(G),V=Math.round(_);let U,Y,Q,le,_e,de,he,fe;for(let re=L;re<=V;re++){if(re<W){const ke=re<G?0:(G-re)/(G-W);U=H-(H-$)*ke,Y=p-(p-F)*ke,Q=b-(b-I)*ke,le=M-(M-q)*ke}else{let ke;re>_?ke=1:W===_?ke=0:ke=(W-re)/(W-_),U=$-($-k)*ke,Y=F-(F-B)*ke,Q=I-(I-v)*ke,le=q-(q-C)*ke}let ce;re<G?ce=0:re>_?ce=1:ce=(G-re)/(G-_),_e=H-(H-k)*ce,de=p-(p-B)*ce,he=b-(b-v)*ce,fe=M-(M-C)*ce;const Se=Math.round(Math.min(U,_e)),ve=Math.round(Math.max(U,_e));let be=w*re+Se*4;for(let ke=Se;ke<=ve;ke++)ce=(U-ke)/(U-_e),ce<0?ce=0:ce>1&&(ce=1),j[be++]=Y-(Y-de)*ce|0,j[be++]=Q-(Q-he)*ce|0,j[be++]=le-(le-fe)*ce|0,j[be++]=255}}function n(l,s,f){const T=s.coords,y=s.colors;let g,A;switch(s.type){case"lattice":const D=s.verticesPerRow,P=Math.floor(T.length/D)-1,R=D-1;for(g=0;g<P;g++){let j=g*D;for(let w=0;w<R;w++,j++)h(l,f,T[j],T[j+1],T[j+D],y[j],y[j+1],y[j+D]),h(l,f,T[j+D+1],T[j+1],T[j+D],y[j+D+1],y[j+1],y[j+D])}break;case"triangles":for(g=0,A=T.length;g<A;g+=3)h(l,f,T[g],T[g+1],T[g+2],y[g],y[g+1],y[g+2]);break;default:throw new Error("illegal figure")}}class a extends z{constructor(s){super(),this._coords=s[2],this._colors=s[3],this._figures=s[4],this._bounds=s[5],this._bbox=s[7],this._background=s[8],this.matrix=null}_createMeshCanvas(s,f,T){const D=Math.floor(this._bounds[0]),P=Math.floor(this._bounds[1]),R=Math.ceil(this._bounds[2])-D,j=Math.ceil(this._bounds[3])-P,w=Math.min(Math.ceil(Math.abs(R*s[0]*1.1)),3e3),N=Math.min(Math.ceil(Math.abs(j*s[1]*1.1)),3e3),H=R/w,G=j/N,$={coords:this._coords,colors:this._colors,offsetX:-D,offsetY:-P,scaleX:1/H,scaleY:1/G},W=w+4,k=N+4,_=T.getCanvas("mesh",W,k,!1),p=_.context,b=p.createImageData(w,N);if(f){const F=b.data;for(let I=0,q=F.length;I<q;I+=4)F[I]=f[0],F[I+1]=f[1],F[I+2]=f[2],F[I+3]=255}for(const F of this._figures)n(b,F,$);return p.putImageData(b,2,2),{canvas:_.canvas,offsetX:D-2*H,offsetY:P-2*G,scaleX:H,scaleY:G}}getPattern(s,f,T,y){x(s,this._bbox);let g;if(y===o.SHADING)g=m.Util.singularValueDecompose2dScale((0,E.getCurrentTransform)(s));else if(g=m.Util.singularValueDecompose2dScale(f.baseTransform),this.matrix){const D=m.Util.singularValueDecompose2dScale(this.matrix);g=[g[0]*D[0],g[1]*D[1]]}const A=this._createMeshCanvas(g,y===o.SHADING?null:this._background,f.cachedCanvases);return y!==o.SHADING&&(s.setTransform(...f.baseTransform),this.matrix&&s.transform(...this.matrix)),s.translate(A.offsetX,A.offsetY),s.scale(A.scaleX,A.scaleY),s.createPattern(A.canvas,"no-repeat")}}class u extends z{getPattern(){return"hotpink"}}function c(l){switch(l[0]){case"RadialAxial":return new X(l);case"Mesh":return new a(l);case"Dummy":return new u}throw new Error(`Unknown IR type: ${l[0]}`)}const e={COLORED:1,UNCOLORED:2};class t{static MAX_PATTERN_SIZE=3e3;constructor(s,f,T,y,g){this.operatorList=s[2],this.matrix=s[3]||[1,0,0,1,0,0],this.bbox=s[4],this.xstep=s[5],this.ystep=s[6],this.paintType=s[7],this.tilingType=s[8],this.color=f,this.ctx=T,this.canvasGraphicsFactory=y,this.baseTransform=g}createPatternCanvas(s){const f=this.operatorList,T=this.bbox,y=this.xstep,g=this.ystep,A=this.paintType,D=this.tilingType,P=this.color,R=this.canvasGraphicsFactory;(0,m.info)("TilingType: "+D);const j=T[0],w=T[1],N=T[2],H=T[3],G=m.Util.singularValueDecompose2dScale(this.matrix),$=m.Util.singularValueDecompose2dScale(this.baseTransform),W=[G[0]*$[0],G[1]*$[1]],k=this.getSizeAndScale(y,this.ctx.canvas.width,W[0]),_=this.getSizeAndScale(g,this.ctx.canvas.height,W[1]),p=s.cachedCanvases.getCanvas("pattern",k.size,_.size,!0),b=p.context,M=R.createCanvasGraphics(b);M.groupLevel=s.groupLevel,this.setFillAndStrokeStyleToContext(M,A,P);let F=j,I=w,q=N,B=H;return j<0&&(F=0,q+=Math.abs(j)),w<0&&(I=0,B+=Math.abs(w)),b.translate(-(k.scale*F),-(_.scale*I)),M.transform(k.scale,0,0,_.scale,0,0),b.save(),this.clipBbox(M,F,I,q,B),M.baseTransform=(0,E.getCurrentTransform)(M.ctx),M.executeOperatorList(f),M.endDrawing(),{canvas:p.canvas,scaleX:k.scale,scaleY:_.scale,offsetX:F,offsetY:I}}getSizeAndScale(s,f,T){s=Math.abs(s);const y=Math.max(t.MAX_PATTERN_SIZE,f);let g=Math.ceil(s*T);return g>=y?g=y:T=g/s,{scale:T,size:g}}clipBbox(s,f,T,y,g){const A=y-f,D=g-T;s.ctx.rect(f,T,A,D),s.current.updateRectMinMax((0,E.getCurrentTransform)(s.ctx),[f,T,y,g]),s.clip(),s.endPath()}setFillAndStrokeStyleToContext(s,f,T){const y=s.ctx,g=s.current;switch(f){case e.COLORED:const A=this.ctx;y.fillStyle=A.fillStyle,y.strokeStyle=A.strokeStyle,g.fillColor=A.fillStyle,g.strokeColor=A.strokeStyle;break;case e.UNCOLORED:const D=m.Util.makeHexColor(T[0],T[1],T[2]);y.fillStyle=D,y.strokeStyle=D,g.fillColor=D,g.strokeColor=D;break;default:throw new m.FormatError(`Unsupported paint type: ${f}`)}}getPattern(s,f,T,y){let g=T;y!==o.SHADING&&(g=m.Util.transform(g,f.baseTransform),this.matrix&&(g=m.Util.transform(g,this.matrix)));const A=this.createPatternCanvas(f);let D=new DOMMatrix(g);D=D.translate(A.offsetX,A.offsetY),D=D.scale(1/A.scaleX,1/A.scaleY);const P=s.createPattern(A.canvas,"repeat");return P.setTransform(D),P}}d.TilingPattern=t}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.convertBlackAndWhiteToRGBA=o,d.convertToRGBA=E,d.grayToRGBA=z;var m=i(1);function E(X){switch(X.kind){case m.ImageKind.GRAYSCALE_1BPP:return o(X);case m.ImageKind.RGB_24BPP:return x(X)}return null}function o({src:X,srcPos:h=0,dest:n,width:a,height:u,nonBlackColor:c=4294967295,inverseDecode:e=!1}){const t=m.FeatureTest.isLittleEndian?4278190080:255,[l,s]=e?[c,t]:[t,c],f=a>>3,T=a&7,y=X.length;n=new Uint32Array(n.buffer);let g=0;for(let A=0;A<u;A++){for(const P=h+f;h<P;h++){const R=h<y?X[h]:255;n[g++]=R&128?s:l,n[g++]=R&64?s:l,n[g++]=R&32?s:l,n[g++]=R&16?s:l,n[g++]=R&8?s:l,n[g++]=R&4?s:l,n[g++]=R&2?s:l,n[g++]=R&1?s:l}if(T===0)continue;const D=h<y?X[h++]:255;for(let P=0;P<T;P++)n[g++]=D&1<<7-P?s:l}return{srcPos:h,destPos:g}}function x({src:X,srcPos:h=0,dest:n,destPos:a=0,width:u,height:c}){let e=0;const t=X.length>>2,l=new Uint32Array(X.buffer,h,t);if(m.FeatureTest.isLittleEndian){for(;e<t-2;e+=3,a+=4){const s=l[e],f=l[e+1],T=l[e+2];n[a]=s|4278190080,n[a+1]=s>>>24|f<<8|4278190080,n[a+2]=f>>>16|T<<16|4278190080,n[a+3]=T>>>8|4278190080}for(let s=e*4,f=X.length;s<f;s+=3)n[a++]=X[s]|X[s+1]<<8|X[s+2]<<16|4278190080}else{for(;e<t-2;e+=3,a+=4){const s=l[e],f=l[e+1],T=l[e+2];n[a]=s|255,n[a+1]=s<<24|f>>>8|255,n[a+2]=f<<16|T>>>16|255,n[a+3]=T<<8|255}for(let s=e*4,f=X.length;s<f;s+=3)n[a++]=X[s]<<24|X[s+1]<<16|X[s+2]<<8|255}return{srcPos:h,destPos:a}}function z(X,h){if(m.FeatureTest.isLittleEndian)for(let n=0,a=X.length;n<a;n++)h[n]=X[n]*65793|4278190080;else for(let n=0,a=X.length;n<a;n++)h[n]=X[n]*16843008|255}}),((r,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GlobalWorkerOptions=void 0;const i=Object.create(null);d.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MessageHandler=void 0;var m=i(1);const E={DATA:1,ERROR:2},o={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function x(X){switch(X instanceof Error||typeof X=="object"&&X!==null||(0,m.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),X.name){case"AbortException":return new m.AbortException(X.message);case"MissingPDFException":return new m.MissingPDFException(X.message);case"PasswordException":return new m.PasswordException(X.message,X.code);case"UnexpectedResponseException":return new m.UnexpectedResponseException(X.message,X.status);case"UnknownErrorException":return new m.UnknownErrorException(X.message,X.details);default:return new m.UnknownErrorException(X.message,X.toString())}}class z{constructor(h,n,a){this.sourceName=h,this.targetName=n,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=u=>{const c=u.data;if(c.targetName!==this.sourceName)return;if(c.stream){this.#t(c);return}if(c.callback){const t=c.callbackId,l=this.callbackCapabilities[t];if(!l)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],c.callback===E.DATA)l.resolve(c.data);else if(c.callback===E.ERROR)l.reject(x(c.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[c.action];if(!e)throw new Error(`Unknown action from worker: ${c.action}`);if(c.callbackId){const t=this.sourceName,l=c.sourceName;new Promise(function(s){s(e(c.data))}).then(function(s){a.postMessage({sourceName:t,targetName:l,callback:E.DATA,callbackId:c.callbackId,data:s})},function(s){a.postMessage({sourceName:t,targetName:l,callback:E.ERROR,callbackId:c.callbackId,reason:x(s)})});return}if(c.streamId){this.#e(c);return}e(c.data)},a.addEventListener("message",this._onComObjOnMessage)}on(h,n){const a=this.actionHandler;if(a[h])throw new Error(`There is already an actionName called "${h}"`);a[h]=n}send(h,n,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:n},a)}sendWithPromise(h,n,a){const u=this.callbackId++,c=new m.PromiseCapability;this.callbackCapabilities[u]=c;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:u,data:n},a)}catch(e){c.reject(e)}return c.promise}sendWithStream(h,n,a,u){const c=this.streamId++,e=this.sourceName,t=this.targetName,l=this.comObj;return new ReadableStream({start:s=>{const f=new m.PromiseCapability;return this.streamControllers[c]={controller:s,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:e,targetName:t,action:h,streamId:c,data:n,desiredSize:s.desiredSize},u),f.promise},pull:s=>{const f=new m.PromiseCapability;return this.streamControllers[c].pullCall=f,l.postMessage({sourceName:e,targetName:t,stream:o.PULL,streamId:c,desiredSize:s.desiredSize}),f.promise},cancel:s=>{(0,m.assert)(s instanceof Error,"cancel must have a valid reason");const f=new m.PromiseCapability;return this.streamControllers[c].cancelCall=f,this.streamControllers[c].isClosed=!0,l.postMessage({sourceName:e,targetName:t,stream:o.CANCEL,streamId:c,reason:x(s)}),f.promise}},a)}#e(h){const n=h.streamId,a=this.sourceName,u=h.sourceName,c=this.comObj,e=this,t=this.actionHandler[h.action],l={enqueue(s,f=1,T){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=f,y>0&&this.desiredSize<=0&&(this.sinkCapability=new m.PromiseCapability,this.ready=this.sinkCapability.promise),c.postMessage({sourceName:a,targetName:u,stream:o.ENQUEUE,streamId:n,chunk:s},T)},close(){this.isCancelled||(this.isCancelled=!0,c.postMessage({sourceName:a,targetName:u,stream:o.CLOSE,streamId:n}),delete e.streamSinks[n])},error(s){(0,m.assert)(s instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,c.postMessage({sourceName:a,targetName:u,stream:o.ERROR,streamId:n,reason:x(s)}))},sinkCapability:new m.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,new Promise(function(s){s(t(h.data,l))}).then(function(){c.postMessage({sourceName:a,targetName:u,stream:o.START_COMPLETE,streamId:n,success:!0})},function(s){c.postMessage({sourceName:a,targetName:u,stream:o.START_COMPLETE,streamId:n,reason:x(s)})})}#t(h){const n=h.streamId,a=this.sourceName,u=h.sourceName,c=this.comObj,e=this.streamControllers[n],t=this.streamSinks[n];switch(h.stream){case o.START_COMPLETE:h.success?e.startCall.resolve():e.startCall.reject(x(h.reason));break;case o.PULL_COMPLETE:h.success?e.pullCall.resolve():e.pullCall.reject(x(h.reason));break;case o.PULL:if(!t){c.postMessage({sourceName:a,targetName:u,stream:o.PULL_COMPLETE,streamId:n,success:!0});break}t.desiredSize<=0&&h.desiredSize>0&&t.sinkCapability.resolve(),t.desiredSize=h.desiredSize,new Promise(function(l){l(t.onPull?.())}).then(function(){c.postMessage({sourceName:a,targetName:u,stream:o.PULL_COMPLETE,streamId:n,success:!0})},function(l){c.postMessage({sourceName:a,targetName:u,stream:o.PULL_COMPLETE,streamId:n,reason:x(l)})});break;case o.ENQUEUE:if((0,m.assert)(e,"enqueue should have stream controller"),e.isClosed)break;e.controller.enqueue(h.chunk);break;case o.CLOSE:if((0,m.assert)(e,"close should have stream controller"),e.isClosed)break;e.isClosed=!0,e.controller.close(),this.#n(e,n);break;case o.ERROR:(0,m.assert)(e,"error should have stream controller"),e.controller.error(x(h.reason)),this.#n(e,n);break;case o.CANCEL_COMPLETE:h.success?e.cancelCall.resolve():e.cancelCall.reject(x(h.reason)),this.#n(e,n);break;case o.CANCEL:if(!t)break;new Promise(function(l){l(t.onCancel?.(x(h.reason)))}).then(function(){c.postMessage({sourceName:a,targetName:u,stream:o.CANCEL_COMPLETE,streamId:n,success:!0})},function(l){c.postMessage({sourceName:a,targetName:u,stream:o.CANCEL_COMPLETE,streamId:n,reason:x(l)})}),t.sinkCapability.reject(x(h.reason)),t.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#n(h,n){await Promise.allSettled([h.startCall?.promise,h.pullCall?.promise,h.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}d.MessageHandler=z}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Metadata=void 0;var m=i(1);class E{#e;#t;constructor({parsedData:x,rawData:z}){this.#e=x,this.#t=z}getRaw(){return this.#t}get(x){return this.#e.get(x)??null}getAll(){return(0,m.objectFromMap)(this.#e)}has(x){return this.#e.has(x)}}d.Metadata=E}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.OptionalContentConfig=void 0;var m=i(1),E=i(8);const o=Symbol("INTERNAL");class x{#e=!0;constructor(h,n){this.name=h,this.intent=n}get visible(){return this.#e}_setVisible(h,n){h!==o&&(0,m.unreachable)("Internal method `_setVisible` called."),this.#e=n}}class z{#e=null;#t=new Map;#n=null;#r=null;constructor(h){if(this.name=null,this.creator=null,h!==null){this.name=h.name,this.creator=h.creator,this.#r=h.order;for(const n of h.groups)this.#t.set(n.id,new x(n.name,n.intent));if(h.baseState==="OFF")for(const n of this.#t.values())n._setVisible(o,!1);for(const n of h.on)this.#t.get(n)._setVisible(o,!0);for(const n of h.off)this.#t.get(n)._setVisible(o,!1);this.#n=this.getHash()}}#s(h){const n=h.length;if(n<2)return!0;const a=h[0];for(let u=1;u<n;u++){const c=h[u];let e;if(Array.isArray(c))e=this.#s(c);else if(this.#t.has(c))e=this.#t.get(c).visible;else return(0,m.warn)(`Optional content group not found: ${c}`),!0;switch(a){case"And":if(!e)return!1;break;case"Or":if(e)return!0;break;case"Not":return!e;default:return!0}}return a==="And"}isVisible(h){if(this.#t.size===0)return!0;if(!h)return(0,m.warn)("Optional content group not defined."),!0;if(h.type==="OCG")return this.#t.has(h.id)?this.#t.get(h.id).visible:((0,m.warn)(`Optional content group not found: ${h.id}`),!0);if(h.type==="OCMD"){if(h.expression)return this.#s(h.expression);if(!h.policy||h.policy==="AnyOn"){for(const n of h.ids){if(!this.#t.has(n))return(0,m.warn)(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(h.policy==="AllOn"){for(const n of h.ids){if(!this.#t.has(n))return(0,m.warn)(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(h.policy==="AnyOff"){for(const n of h.ids){if(!this.#t.has(n))return(0,m.warn)(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(h.policy==="AllOff"){for(const n of h.ids){if(!this.#t.has(n))return(0,m.warn)(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return(0,m.warn)(`Unknown optional content policy ${h.policy}.`),!0}return(0,m.warn)(`Unknown group type ${h.type}.`),!0}setVisibility(h,n=!0){if(!this.#t.has(h)){(0,m.warn)(`Optional content group not found: ${h}`);return}this.#t.get(h)._setVisible(o,!!n),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,m.objectFromMap)(this.#t):null}getGroup(h){return this.#t.get(h)||null}getHash(){if(this.#e!==null)return this.#e;const h=new E.MurmurHash3_64;for(const[n,a]of this.#t)h.update(`${n}:${a.visible}`);return this.#e=h.hexdigest()}}d.OptionalContentConfig=z}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFDataTransportStream=void 0;var m=i(1),E=i(6);class o{constructor({length:h,initialData:n,progressiveDone:a=!1,contentDispositionFilename:u=null,disableRange:c=!1,disableStream:e=!1},t){if((0,m.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=u,n?.length>0){const l=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!e,this._isRangeSupported=!c,this._contentLength=h,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((l,s)=>{this._onReceiveData({begin:l,chunk:s})}),this._pdfDataRangeTransport.addProgressListener((l,s)=>{this._onProgress({loaded:l,total:s})}),this._pdfDataRangeTransport.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:h,chunk:n}){const a=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(h===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{const u=this._rangeReaders.some(function(c){return c._begin!==h?!1:(c._enqueue(a),!0)});(0,m.assert)(u,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(h){h.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:h.loaded}):this._fullRequestReader?.onProgress?.({loaded:h.loaded,total:h.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(h){const n=this._rangeReaders.indexOf(h);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){(0,m.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const h=this._queuedChunks;return this._queuedChunks=null,new x(this,h,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(h,n){if(n<=this._progressiveDataLength)return null;const a=new z(this,h,n);return this._pdfDataRangeTransport.requestDataRange(h,n),this._rangeReaders.push(a),a}cancelAllRequests(h){this._fullRequestReader?.cancel(h);for(const n of this._rangeReaders.slice(0))n.cancel(h);this._pdfDataRangeTransport.abort()}}d.PDFDataTransportStream=o;class x{constructor(h,n,a=!1,u=null){this._stream=h,this._done=a||!1,this._filename=(0,E.isPdfFile)(u)?u:null,this._queuedChunks=n||[],this._loaded=0;for(const c of this._queuedChunks)this._loaded+=c.byteLength;this._requests=[],this._headersReady=Promise.resolve(),h._fullRequestReader=this,this.onProgress=null}_enqueue(h){this._done||(this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunks.push(h),this._loaded+=h.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const h=new m.PromiseCapability;return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class z{constructor(h,n,a){this._stream=h,this._begin=n,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(h){if(!this._done){if(this._requests.length===0)this._queuedChunk=h;else{this._requests.shift().resolve({value:h,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const h=new m.PromiseCapability;return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFFetchStream=void 0;var m=i(1),E=i(20);function o(a,u,c){return{method:"GET",headers:a,signal:c.signal,mode:"cors",credentials:u?"include":"same-origin",redirect:"follow"}}function x(a){const u=new Headers;for(const c in a){const e=a[c];e!==void 0&&u.append(c,e)}return u}function z(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:((0,m.warn)(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class X{constructor(u){this.source=u,this.isHttp=/^https?:/i.test(u.url),this.httpHeaders=this.isHttp&&u.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new h(this),this._fullRequestReader}getRangeReader(u,c){if(c<=this._progressiveDataLength)return null;const e=new n(this,u,c);return this._rangeRequestReaders.push(e),e}cancelAllRequests(u){this._fullRequestReader?.cancel(u);for(const c of this._rangeRequestReaders.slice(0))c.cancel(u)}}d.PDFFetchStream=X;class h{constructor(u){this._stream=u,this._reader=null,this._loaded=0,this._filename=null;const c=u.source;this._withCredentials=c.withCredentials||!1,this._contentLength=c.length,this._headersCapability=new m.PromiseCapability,this._disableRange=c.disableRange||!1,this._rangeChunkSize=c.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._headers=x(this._stream.httpHeaders);const e=c.url;fetch(e,o(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!(0,E.validateResponseStatus)(t.status))throw(0,E.createResponseStatusError)(t.status,e);this._reader=t.body.getReader(),this._headersCapability.resolve();const l=T=>t.headers.get(T),{allowRangeRequests:s,suggestedLength:f}=(0,E.validateRangeRequestCapabilities)({getResponseHeader:l,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=f||this._contentLength,this._filename=(0,E.extractFilenameFromHeader)(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new m.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:u,done:c}=await this._reader.read();return c?{value:u,done:c}:(this._loaded+=u.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:z(u),done:!1})}cancel(u){this._reader?.cancel(u),this._abortController.abort()}}class n{constructor(u,c,e){this._stream=u,this._reader=null,this._loaded=0;const t=u.source;this._withCredentials=t.withCredentials||!1,this._readCapability=new m.PromiseCapability,this._isStreamingSupported=!t.disableStream,this._abortController=new AbortController,this._headers=x(this._stream.httpHeaders),this._headers.append("Range",`bytes=${c}-${e-1}`);const l=t.url;fetch(l,o(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!(0,E.validateResponseStatus)(s.status))throw(0,E.createResponseStatusError)(s.status,l);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:u,done:c}=await this._reader.read();return c?{value:u,done:c}:(this._loaded+=u.byteLength,this.onProgress?.({loaded:this._loaded}),{value:z(u),done:!1})}cancel(u){this._reader?.cancel(u),this._abortController.abort()}}}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.createResponseStatusError=X,d.extractFilenameFromHeader=z,d.validateRangeRequestCapabilities=x,d.validateResponseStatus=h;var m=i(1),E=i(21),o=i(6);function x({getResponseHeader:n,isHttp:a,rangeChunkSize:u,disableRange:c}){const e={allowRangeRequests:!1,suggestedLength:void 0},t=parseInt(n("Content-Length"),10);return!Number.isInteger(t)||(e.suggestedLength=t,t<=2*u)||c||!a||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(e.allowRangeRequests=!0),e}function z(n){const a=n("Content-Disposition");if(a){let u=(0,E.getFilenameFromContentDispositionHeader)(a);if(u.includes("%"))try{u=decodeURIComponent(u)}catch{}if((0,o.isPdfFile)(u))return u}return null}function X(n,a){return n===404||n===0&&a.startsWith("file:")?new m.MissingPDFException('Missing PDF "'+a+'".'):new m.UnexpectedResponseException(`Unexpected server response (${n}) while retrieving PDF "${a}".`,n)}function h(n){return n===200||n===206}}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.getFilenameFromContentDispositionHeader=E;var m=i(1);function E(o){let x=!0,z=X("filename\\*","i").exec(o);if(z){z=z[1];let t=u(z);return t=unescape(t),t=c(t),t=e(t),n(t)}if(z=a(o),z){const t=e(z);return n(t)}if(z=X("filename","i").exec(o),z){z=z[1];let t=u(z);return t=e(t),n(t)}function X(t,l){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',l)}function h(t,l){if(t){if(!/^[\x00-\xFF]+$/.test(l))return l;try{const s=new TextDecoder(t,{fatal:!0}),f=(0,m.stringToBytes)(l);l=s.decode(f),x=!1}catch{}}return l}function n(t){return x&&/[\x80-\xff]/.test(t)&&(t=h("utf-8",t),x&&(t=h("iso-8859-1",t))),t}function a(t){const l=[];let s;const f=X("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(s=f.exec(t))!==null;){let[,y,g,A]=s;if(y=parseInt(y,10),y in l){if(y===0)break;continue}l[y]=[g,A]}const T=[];for(let y=0;y<l.length&&y in l;++y){let[g,A]=l[y];A=u(A),g&&(A=unescape(A),y===0&&(A=c(A))),T.push(A)}return T.join("")}function u(t){if(t.startsWith('"')){const l=t.slice(1).split('\\"');for(let s=0;s<l.length;++s){const f=l[s].indexOf('"');f!==-1&&(l[s]=l[s].slice(0,f),l.length=s+1),l[s]=l[s].replaceAll(/\\(.)/g,"$1")}t=l.join('"')}return t}function c(t){const l=t.indexOf("'");if(l===-1)return t;const s=t.slice(0,l),T=t.slice(l+1).replace(/^[^']*'/,"");return h(s,T)}function e(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(l,s,f,T){if(f==="q"||f==="Q")return T=T.replaceAll("_"," "),T=T.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,g){return String.fromCharCode(parseInt(g,16))}),h(s,T);try{T=atob(T)}catch{}return h(s,T)})}return""}}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFNetworkStream=void 0;var m=i(1),E=i(20);const o=200,x=206;function z(u){const c=u.response;return typeof c!="string"?c:(0,m.stringToBytes)(c).buffer}class X{constructor(c,e={}){this.url=c,this.isHttp=/^https?:/i.test(c),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(c,e,t){const l={begin:c,end:e};for(const s in t)l[s]=t[s];return this.request(l)}requestFull(c){return this.request(c)}request(c){const e=new XMLHttpRequest,t=this.currXhrId++,l=this.pendingRequests[t]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const f=this.httpHeaders[s];f!==void 0&&e.setRequestHeader(s,f)}return this.isHttp&&"begin"in c&&"end"in c?(e.setRequestHeader("Range",`bytes=${c.begin}-${c.end-1}`),l.expectedStatus=x):l.expectedStatus=o,e.responseType="arraybuffer",c.onError&&(e.onerror=function(s){c.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,t),e.onprogress=this.onProgress.bind(this,t),l.onHeadersReceived=c.onHeadersReceived,l.onDone=c.onDone,l.onError=c.onError,l.onProgress=c.onProgress,e.send(null),t}onProgress(c,e){const t=this.pendingRequests[c];t&&t.onProgress?.(e)}onStateChange(c,e){const t=this.pendingRequests[c];if(!t)return;const l=t.xhr;if(l.readyState>=2&&t.onHeadersReceived&&(t.onHeadersReceived(),delete t.onHeadersReceived),l.readyState!==4||!(c in this.pendingRequests))return;if(delete this.pendingRequests[c],l.status===0&&this.isHttp){t.onError?.(l.status);return}const s=l.status||o;if(!(s===o&&t.expectedStatus===x)&&s!==t.expectedStatus){t.onError?.(l.status);return}const T=z(l);if(s===x){const y=l.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);t.onDone({begin:parseInt(g[1],10),chunk:T})}else T?t.onDone({begin:0,chunk:T}):t.onError?.(l.status)}getRequestXhr(c){return this.pendingRequests[c].xhr}isPendingRequest(c){return c in this.pendingRequests}abortRequest(c){const e=this.pendingRequests[c].xhr;delete this.pendingRequests[c],e.abort()}}class h{constructor(c){this._source=c,this._manager=new X(c.url,{httpHeaders:c.httpHeaders,withCredentials:c.withCredentials}),this._rangeChunkSize=c.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(c){const e=this._rangeRequestReaders.indexOf(c);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new n(this._manager,this._source),this._fullRequestReader}getRangeReader(c,e){const t=new a(this._manager,c,e);return t.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(t),t}cancelAllRequests(c){this._fullRequestReader?.cancel(c);for(const e of this._rangeRequestReaders.slice(0))e.cancel(c)}}d.PDFNetworkStream=h;class n{constructor(c,e){this._manager=c;const t={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=c.requestFull(t),this._headersReceivedCapability=new m.PromiseCapability,this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const c=this._fullRequestId,e=this._manager.getRequestXhr(c),t=f=>e.getResponseHeader(f),{allowRangeRequests:l,suggestedLength:s}=(0,E.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,E.extractFilenameFromHeader)(t),this._isRangeSupported&&this._manager.abortRequest(c),this._headersReceivedCapability.resolve()}_onDone(c){if(c&&(this._requests.length>0?this._requests.shift().resolve({value:c.chunk,done:!1}):this._cachedChunks.push(c.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(c){this._storedError=(0,E.createResponseStatusError)(c,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(c){this.onProgress?.({loaded:c.loaded,total:c.lengthComputable?c.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const c=new m.PromiseCapability;return this._requests.push(c),c.promise}cancel(c){this._done=!0,this._headersReceivedCapability.reject(c);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a{constructor(c,e,t){this._manager=c;const l={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=c.url,this._requestId=c.requestRange(e,t,l),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(c){const e=c.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(c){this._storedError=(0,E.createResponseStatusError)(c,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(c){this.isStreamingSupported||this.onProgress?.({loaded:c.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const c=new m.PromiseCapability;return this._requests.push(c),c.promise}cancel(c){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFNodeStream=void 0;var m=i(1),E=i(20);const o=/^file:\/\/\/[a-zA-Z]:\//;function x(t){const l=require$$5,s=l.parse(t);return s.protocol==="file:"||s.host?s:/^[a-z]:[/\\]/i.test(t)?l.parse(`file:///${t}`):(s.host||(s.protocol="file:"),s)}class z{constructor(l){this.source=l,this.url=x(l.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&l.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new c(this):new a(this),this._fullRequestReader}getRangeReader(l,s){if(s<=this._progressiveDataLength)return null;const f=this.isFsUrl?new e(this,l,s):new u(this,l,s);return this._rangeRequestReaders.push(f),f}cancelAllRequests(l){this._fullRequestReader?.cancel(l);for(const s of this._rangeRequestReaders.slice(0))s.cancel(l)}}d.PDFNodeStream=z;class X{constructor(l){this._url=l.url,this._done=!1,this._storedError=null,this.onProgress=null;const s=l.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=new m.PromiseCapability,this._headersCapability=new m.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const l=this._readableStream.read();return l===null?(this._readCapability=new m.PromiseCapability,this.read()):(this._loaded+=l.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(l).buffer,done:!1})}cancel(l){if(!this._readableStream){this._error(l);return}this._readableStream.destroy(l)}_error(l){this._storedError=l,this._readCapability.resolve()}_setReadableStream(l){this._readableStream=l,l.on("readable",()=>{this._readCapability.resolve()}),l.on("end",()=>{l.destroy(),this._done=!0,this._readCapability.resolve()}),l.on("error",s=>{this._error(s)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new m.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class h{constructor(l){this._url=l.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new m.PromiseCapability;const s=l.source;this._isStreamingSupported=!s.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const l=this._readableStream.read();return l===null?(this._readCapability=new m.PromiseCapability,this.read()):(this._loaded+=l.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(l).buffer,done:!1})}cancel(l){if(!this._readableStream){this._error(l);return}this._readableStream.destroy(l)}_error(l){this._storedError=l,this._readCapability.resolve()}_setReadableStream(l){this._readableStream=l,l.on("readable",()=>{this._readCapability.resolve()}),l.on("end",()=>{l.destroy(),this._done=!0,this._readCapability.resolve()}),l.on("error",s=>{this._error(s)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function n(t,l){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:l}}class a extends X{constructor(l){super(l);const s=f=>{if(f.statusCode===404){const A=new m.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A,this._headersCapability.reject(A);return}this._headersCapability.resolve(),this._setReadableStream(f);const T=A=>this._readableStream.headers[A.toLowerCase()],{allowRangeRequests:y,suggestedLength:g}=(0,E.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:l.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=y,this._contentLength=g||this._contentLength,this._filename=(0,E.extractFilenameFromHeader)(T)};if(this._request=null,this._url.protocol==="http:"){const f=require$$5;this._request=f.request(n(this._url,l.httpHeaders),s)}else{const f=require$$5;this._request=f.request(n(this._url,l.httpHeaders),s)}this._request.on("error",f=>{this._storedError=f,this._headersCapability.reject(f)}),this._request.end()}}class u extends h{constructor(l,s,f){super(l),this._httpHeaders={};for(const y in l.httpHeaders){const g=l.httpHeaders[y];g!==void 0&&(this._httpHeaders[y]=g)}this._httpHeaders.Range=`bytes=${s}-${f-1}`;const T=y=>{if(y.statusCode===404){const g=new m.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=g;return}this._setReadableStream(y)};if(this._request=null,this._url.protocol==="http:"){const y=require$$5;this._request=y.request(n(this._url,this._httpHeaders),T)}else{const y=require$$5;this._request=y.request(n(this._url,this._httpHeaders),T)}this._request.on("error",y=>{this._storedError=y}),this._request.end()}}class c extends X{constructor(l){super(l);let s=decodeURIComponent(this._url.path);o.test(this._url.href)&&(s=s.replace(/^\//,""));const f=require$$5;f.lstat(s,(T,y)=>{if(T){T.code==="ENOENT"&&(T=new m.MissingPDFException(`Missing PDF "${s}".`)),this._storedError=T,this._headersCapability.reject(T);return}this._contentLength=y.size,this._setReadableStream(f.createReadStream(s)),this._headersCapability.resolve()})}}class e extends h{constructor(l,s,f){super(l);let T=decodeURIComponent(this._url.path);o.test(this._url.href)&&(T=T.replace(/^\//,""));const y=require$$5;this._setReadableStream(y.createReadStream(T,{start:s,end:f-1}))}}}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SVGGraphics=void 0;var m=i(6),E=i(1);const o={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},x="http://www.w3.org/XML/1998/namespace",z="http://www.w3.org/1999/xlink",X=["butt","round","square"],h=["miter","round","bevel"],n=function(y,g="",A=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!A)return URL.createObjectURL(new Blob([y],{type:g}));const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let P=`data:${g};base64,`;for(let R=0,j=y.length;R<j;R+=3){const w=y[R]&255,N=y[R+1]&255,H=y[R+2]&255,G=w>>2,$=(w&3)<<4|N>>4,W=R+1<j?(N&15)<<2|H>>6:64,k=R+2<j?H&63:64;P+=D[G]+D[$]+D[W]+D[k]}return P},a=(function(){const y=new Uint8Array([137,80,78,71,13,10,26,10]),g=12,A=new Int32Array(256);for(let H=0;H<256;H++){let G=H;for(let $=0;$<8;$++)G=G&1?3988292384^G>>1&2147483647:G>>1&2147483647;A[H]=G}function D(H,G,$){let W=-1;for(let k=G;k<$;k++){const _=(W^H[k])&255,p=A[_];W=W>>>8^p}return W^-1}function P(H,G,$,W){let k=W;const _=G.length;$[k]=_>>24&255,$[k+1]=_>>16&255,$[k+2]=_>>8&255,$[k+3]=_&255,k+=4,$[k]=H.charCodeAt(0)&255,$[k+1]=H.charCodeAt(1)&255,$[k+2]=H.charCodeAt(2)&255,$[k+3]=H.charCodeAt(3)&255,k+=4,$.set(G,k),k+=G.length;const p=D($,W+4,k);$[k]=p>>24&255,$[k+1]=p>>16&255,$[k+2]=p>>8&255,$[k+3]=p&255}function R(H,G,$){let W=1,k=0;for(let _=G;_<$;++_)W=(W+(H[_]&255))%65521,k=(k+W)%65521;return k<<16|W}function j(H){if(!E.isNodeJS)return w(H);try{const G=parseInt(process.versions.node)>=8?H:Buffer.from(H),$=require$$5.deflateSync(G,{level:9});return $ instanceof Uint8Array?$:new Uint8Array($)}catch(G){(0,E.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+G)}return w(H)}function w(H){let G=H.length;const $=65535,W=Math.ceil(G/$),k=new Uint8Array(2+G+W*5+4);let _=0;k[_++]=120,k[_++]=156;let p=0;for(;G>$;)k[_++]=0,k[_++]=255,k[_++]=255,k[_++]=0,k[_++]=0,k.set(H.subarray(p,p+$),_),_+=$,p+=$,G-=$;k[_++]=1,k[_++]=G&255,k[_++]=G>>8&255,k[_++]=~G&65535&255,k[_++]=(~G&65535)>>8&255,k.set(H.subarray(p),_),_+=H.length-p;const b=R(H,0,H.length);return k[_++]=b>>24&255,k[_++]=b>>16&255,k[_++]=b>>8&255,k[_++]=b&255,k}function N(H,G,$,W){const k=H.width,_=H.height;let p,b,M;const F=H.data;switch(G){case E.ImageKind.GRAYSCALE_1BPP:b=0,p=1,M=k+7>>3;break;case E.ImageKind.RGB_24BPP:b=2,p=8,M=k*3;break;case E.ImageKind.RGBA_32BPP:b=6,p=8,M=k*4;break;default:throw new Error("invalid format")}const I=new Uint8Array((1+M)*_);let q=0,B=0;for(let Y=0;Y<_;++Y)I[q++]=0,I.set(F.subarray(B,B+M),q),B+=M,q+=M;if(G===E.ImageKind.GRAYSCALE_1BPP&&W){q=0;for(let Y=0;Y<_;Y++){q++;for(let Q=0;Q<M;Q++)I[q++]^=255}}const v=new Uint8Array([k>>24&255,k>>16&255,k>>8&255,k&255,_>>24&255,_>>16&255,_>>8&255,_&255,p,b,0,0,0]),C=j(I),L=y.length+g*3+v.length+C.length,V=new Uint8Array(L);let U=0;return V.set(y,U),U+=y.length,P("IHDR",v,V,U),U+=g+v.length,P("IDATA",C,V,U),U+=g+C.length,P("IEND",new Uint8Array(0),V,U),n(V,"image/png",$)}return function(G,$,W){const k=G.kind===void 0?E.ImageKind.GRAYSCALE_1BPP:G.kind;return N(G,k,$,W)}})();class u{constructor(){this.fontSizeScale=1,this.fontWeight=o.fontWeight,this.fontSize=0,this.textMatrix=E.IDENTITY_MATRIX,this.fontMatrix=E.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=E.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(g,A){this.x=g,this.y=A}}function c(y){let g=[];const A=[];for(const D of y){if(D.fn==="save"){g.push({fnId:92,fn:"group",items:[]}),A.push(g),g=g.at(-1).items;continue}D.fn==="restore"?g=A.pop():g.push(D)}return g}function e(y){if(Number.isInteger(y))return y.toString();const g=y.toFixed(10);let A=g.length-1;if(g[A]!=="0")return g;do A--;while(g[A]==="0");return g.substring(0,g[A]==="."?A:A+1)}function t(y){if(y[4]===0&&y[5]===0){if(y[1]===0&&y[2]===0)return y[0]===1&&y[3]===1?"":`scale(${e(y[0])} ${e(y[3])})`;if(y[0]===y[3]&&y[1]===-y[2]){const g=Math.acos(y[0])*180/Math.PI;return`rotate(${e(g)})`}}else if(y[0]===1&&y[1]===0&&y[2]===0&&y[3]===1)return`translate(${e(y[4])} ${e(y[5])})`;return`matrix(${e(y[0])} ${e(y[1])} ${e(y[2])} ${e(y[3])} ${e(y[4])} ${e(y[5])})`}let l=0,s=0,f=0;class T{constructor(g,A,D=!1){(0,m.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new m.DOMSVGFactory,this.current=new u,this.transformMatrix=E.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=g,this.objs=A,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!D,this._operatorIdMapping=[];for(const P in E.OPS)this._operatorIdMapping[E.OPS[P]]=P}getObject(g,A=null){return typeof g=="string"?g.startsWith("g_")?this.commonObjs.get(g):this.objs.get(g):A}save(){this.transformStack.push(this.transformMatrix);const g=this.current;this.extraStack.push(g),this.current=g.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(g){this.save(),this.executeOpTree(g),this.restore()}loadDependencies(g){const A=g.fnArray,D=g.argsArray;for(let P=0,R=A.length;P<R;P++)if(A[P]===E.OPS.dependency)for(const j of D[P]){const w=j.startsWith("g_")?this.commonObjs:this.objs,N=new Promise(H=>{w.get(j,H)});this.current.dependencies.push(N)}return Promise.all(this.current.dependencies)}transform(g,A,D,P,R,j){const w=[g,A,D,P,R,j];this.transformMatrix=E.Util.transform(this.transformMatrix,w),this.tgrp=null}getSVG(g,A){this.viewport=A;const D=this._initialize(A);return this.loadDependencies(g).then(()=>(this.transformMatrix=E.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(g)),D))}convertOpList(g){const A=this._operatorIdMapping,D=g.argsArray,P=g.fnArray,R=[];for(let j=0,w=P.length;j<w;j++){const N=P[j];R.push({fnId:N,fn:A[N],args:D[j]})}return c(R)}executeOpTree(g){for(const A of g){const D=A.fn,P=A.fnId,R=A.args;switch(P|0){case E.OPS.beginText:this.beginText();break;case E.OPS.dependency:break;case E.OPS.setLeading:this.setLeading(R);break;case E.OPS.setLeadingMoveText:this.setLeadingMoveText(R[0],R[1]);break;case E.OPS.setFont:this.setFont(R);break;case E.OPS.showText:this.showText(R[0]);break;case E.OPS.showSpacedText:this.showText(R[0]);break;case E.OPS.endText:this.endText();break;case E.OPS.moveText:this.moveText(R[0],R[1]);break;case E.OPS.setCharSpacing:this.setCharSpacing(R[0]);break;case E.OPS.setWordSpacing:this.setWordSpacing(R[0]);break;case E.OPS.setHScale:this.setHScale(R[0]);break;case E.OPS.setTextMatrix:this.setTextMatrix(R[0],R[1],R[2],R[3],R[4],R[5]);break;case E.OPS.setTextRise:this.setTextRise(R[0]);break;case E.OPS.setTextRenderingMode:this.setTextRenderingMode(R[0]);break;case E.OPS.setLineWidth:this.setLineWidth(R[0]);break;case E.OPS.setLineJoin:this.setLineJoin(R[0]);break;case E.OPS.setLineCap:this.setLineCap(R[0]);break;case E.OPS.setMiterLimit:this.setMiterLimit(R[0]);break;case E.OPS.setFillRGBColor:this.setFillRGBColor(R[0],R[1],R[2]);break;case E.OPS.setStrokeRGBColor:this.setStrokeRGBColor(R[0],R[1],R[2]);break;case E.OPS.setStrokeColorN:this.setStrokeColorN(R);break;case E.OPS.setFillColorN:this.setFillColorN(R);break;case E.OPS.shadingFill:this.shadingFill(R[0]);break;case E.OPS.setDash:this.setDash(R[0],R[1]);break;case E.OPS.setRenderingIntent:this.setRenderingIntent(R[0]);break;case E.OPS.setFlatness:this.setFlatness(R[0]);break;case E.OPS.setGState:this.setGState(R[0]);break;case E.OPS.fill:this.fill();break;case E.OPS.eoFill:this.eoFill();break;case E.OPS.stroke:this.stroke();break;case E.OPS.fillStroke:this.fillStroke();break;case E.OPS.eoFillStroke:this.eoFillStroke();break;case E.OPS.clip:this.clip("nonzero");break;case E.OPS.eoClip:this.clip("evenodd");break;case E.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case E.OPS.paintImageXObject:this.paintImageXObject(R[0]);break;case E.OPS.paintInlineImageXObject:this.paintInlineImageXObject(R[0]);break;case E.OPS.paintImageMaskXObject:this.paintImageMaskXObject(R[0]);break;case E.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(R[0],R[1]);break;case E.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case E.OPS.closePath:this.closePath();break;case E.OPS.closeStroke:this.closeStroke();break;case E.OPS.closeFillStroke:this.closeFillStroke();break;case E.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case E.OPS.nextLine:this.nextLine();break;case E.OPS.transform:this.transform(R[0],R[1],R[2],R[3],R[4],R[5]);break;case E.OPS.constructPath:this.constructPath(R[0],R[1]);break;case E.OPS.endPath:this.endPath();break;case 92:this.group(A.items);break;default:(0,E.warn)(`Unimplemented operator ${D}`);break}}}setWordSpacing(g){this.current.wordSpacing=g}setCharSpacing(g){this.current.charSpacing=g}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(g,A,D,P,R,j){const w=this.current;w.textMatrix=w.lineMatrix=[g,A,D,P,R,j],w.textMatrixScale=Math.hypot(g,A),w.x=w.lineX=0,w.y=w.lineY=0,w.xcoords=[],w.ycoords=[],w.tspan=this.svgFactory.createElement("svg:tspan"),w.tspan.setAttributeNS(null,"font-family",w.fontFamily),w.tspan.setAttributeNS(null,"font-size",`${e(w.fontSize)}px`),w.tspan.setAttributeNS(null,"y",e(-w.y)),w.txtElement=this.svgFactory.createElement("svg:text"),w.txtElement.append(w.tspan)}beginText(){const g=this.current;g.x=g.lineX=0,g.y=g.lineY=0,g.textMatrix=E.IDENTITY_MATRIX,g.lineMatrix=E.IDENTITY_MATRIX,g.textMatrixScale=1,g.tspan=this.svgFactory.createElement("svg:tspan"),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtgrp=this.svgFactory.createElement("svg:g"),g.xcoords=[],g.ycoords=[]}moveText(g,A){const D=this.current;D.x=D.lineX+=g,D.y=D.lineY+=A,D.xcoords=[],D.ycoords=[],D.tspan=this.svgFactory.createElement("svg:tspan"),D.tspan.setAttributeNS(null,"font-family",D.fontFamily),D.tspan.setAttributeNS(null,"font-size",`${e(D.fontSize)}px`),D.tspan.setAttributeNS(null,"y",e(-D.y))}showText(g){const A=this.current,D=A.font,P=A.fontSize;if(P===0)return;const R=A.fontSizeScale,j=A.charSpacing,w=A.wordSpacing,N=A.fontDirection,H=A.textHScale*N,G=D.vertical,$=G?1:-1,W=D.defaultVMetrics,k=P*A.fontMatrix[0];let _=0;for(const M of g){if(M===null){_+=N*w;continue}else if(typeof M=="number"){_+=$*M*P/1e3;continue}const F=(M.isSpace?w:0)+j,I=M.fontChar;let q,B,v=M.width;if(G){let L;const V=M.vmetric||W;L=M.vmetric?V[1]:v*.5,L=-L*k;const U=V[2]*k;v=V?-V[0]:v,q=L/R,B=(_+U)/R}else q=_/R,B=0;(M.isInFont||D.missingFile)&&(A.xcoords.push(A.x+q),G&&A.ycoords.push(-A.y+B),A.tspan.textContent+=I);const C=G?v*k-F*N:v*k+F*N;_+=C}A.tspan.setAttributeNS(null,"x",A.xcoords.map(e).join(" ")),G?A.tspan.setAttributeNS(null,"y",A.ycoords.map(e).join(" ")):A.tspan.setAttributeNS(null,"y",e(-A.y)),G?A.y-=_:A.x+=_*H,A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${e(A.fontSize)}px`),A.fontStyle!==o.fontStyle&&A.tspan.setAttributeNS(null,"font-style",A.fontStyle),A.fontWeight!==o.fontWeight&&A.tspan.setAttributeNS(null,"font-weight",A.fontWeight);const p=A.textRenderingMode&E.TextRenderingMode.FILL_STROKE_MASK;if(p===E.TextRenderingMode.FILL||p===E.TextRenderingMode.FILL_STROKE?(A.fillColor!==o.fillColor&&A.tspan.setAttributeNS(null,"fill",A.fillColor),A.fillAlpha<1&&A.tspan.setAttributeNS(null,"fill-opacity",A.fillAlpha)):A.textRenderingMode===E.TextRenderingMode.ADD_TO_PATH?A.tspan.setAttributeNS(null,"fill","transparent"):A.tspan.setAttributeNS(null,"fill","none"),p===E.TextRenderingMode.STROKE||p===E.TextRenderingMode.FILL_STROKE){const M=1/(A.textMatrixScale||1);this._setStrokeAttributes(A.tspan,M)}let b=A.textMatrix;A.textRise!==0&&(b=b.slice(),b[5]+=A.textRise),A.txtElement.setAttributeNS(null,"transform",`${t(b)} scale(${e(H)}, -1)`),A.txtElement.setAttributeNS(x,"xml:space","preserve"),A.txtElement.append(A.tspan),A.txtgrp.append(A.txtElement),this._ensureTransformGroup().append(A.txtElement)}setLeadingMoveText(g,A){this.setLeading(-A),this.moveText(g,A)}addFontStyle(g){if(!g.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const A=n(g.data,g.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${g.loadedName}"; src: url(${A}); }
`}setFont(g){const A=this.current,D=this.commonObjs.get(g[0]);let P=g[1];A.font=D,this.embedFonts&&!D.missingFile&&!this.embeddedFonts[D.loadedName]&&(this.addFontStyle(D),this.embeddedFonts[D.loadedName]=D),A.fontMatrix=D.fontMatrix||E.FONT_IDENTITY_MATRIX;let R="normal";D.black?R="900":D.bold&&(R="bold");const j=D.italic?"italic":"normal";P<0?(P=-P,A.fontDirection=-1):A.fontDirection=1,A.fontSize=P,A.fontFamily=D.loadedName,A.fontWeight=R,A.fontStyle=j,A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"y",e(-A.y)),A.xcoords=[],A.ycoords=[]}endText(){const g=this.current;g.textRenderingMode&E.TextRenderingMode.ADD_TO_PATH_FLAG&&g.txtElement?.hasChildNodes()&&(g.element=g.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(g){g>0&&(this.current.lineWidth=g)}setLineCap(g){this.current.lineCap=X[g]}setLineJoin(g){this.current.lineJoin=h[g]}setMiterLimit(g){this.current.miterLimit=g}setStrokeAlpha(g){this.current.strokeAlpha=g}setStrokeRGBColor(g,A,D){this.current.strokeColor=E.Util.makeHexColor(g,A,D)}setFillAlpha(g){this.current.fillAlpha=g}setFillRGBColor(g,A,D){this.current.fillColor=E.Util.makeHexColor(g,A,D),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(g){this.current.strokeColor=this._makeColorN_Pattern(g)}setFillColorN(g){this.current.fillColor=this._makeColorN_Pattern(g)}shadingFill(g){const{width:A,height:D}=this.viewport,P=E.Util.inverseTransform(this.transformMatrix),[R,j,w,N]=E.Util.getAxialAlignedBoundingBox([0,0,A,D],P),H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x",R),H.setAttributeNS(null,"y",j),H.setAttributeNS(null,"width",w-R),H.setAttributeNS(null,"height",N-j),H.setAttributeNS(null,"fill",this._makeShadingPattern(g)),this.current.fillAlpha<1&&H.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(H)}_makeColorN_Pattern(g){return g[0]==="TilingPattern"?this._makeTilingPattern(g):this._makeShadingPattern(g)}_makeTilingPattern(g){const A=g[1],D=g[2],P=g[3]||E.IDENTITY_MATRIX,[R,j,w,N]=g[4],H=g[5],G=g[6],$=g[7],W=`shading${f++}`,[k,_,p,b]=E.Util.normalizeRect([...E.Util.applyTransform([R,j],P),...E.Util.applyTransform([w,N],P)]),[M,F]=E.Util.singularValueDecompose2dScale(P),I=H*M,q=G*F,B=this.svgFactory.createElement("svg:pattern");B.setAttributeNS(null,"id",W),B.setAttributeNS(null,"patternUnits","userSpaceOnUse"),B.setAttributeNS(null,"width",I),B.setAttributeNS(null,"height",q),B.setAttributeNS(null,"x",`${k}`),B.setAttributeNS(null,"y",`${_}`);const v=this.svg,C=this.transformMatrix,L=this.current.fillColor,V=this.current.strokeColor,U=this.svgFactory.create(p-k,b-_);if(this.svg=U,this.transformMatrix=P,$===2){const Y=E.Util.makeHexColor(...A);this.current.fillColor=Y,this.current.strokeColor=Y}return this.executeOpTree(this.convertOpList(D)),this.svg=v,this.transformMatrix=C,this.current.fillColor=L,this.current.strokeColor=V,B.append(U.childNodes[0]),this.defs.append(B),`url(#${W})`}_makeShadingPattern(g){switch(typeof g=="string"&&(g=this.objs.get(g)),g[0]){case"RadialAxial":const A=`shading${f++}`,D=g[3];let P;switch(g[1]){case"axial":const R=g[4],j=g[5];P=this.svgFactory.createElement("svg:linearGradient"),P.setAttributeNS(null,"id",A),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"x1",R[0]),P.setAttributeNS(null,"y1",R[1]),P.setAttributeNS(null,"x2",j[0]),P.setAttributeNS(null,"y2",j[1]);break;case"radial":const w=g[4],N=g[5],H=g[6],G=g[7];P=this.svgFactory.createElement("svg:radialGradient"),P.setAttributeNS(null,"id",A),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"cx",N[0]),P.setAttributeNS(null,"cy",N[1]),P.setAttributeNS(null,"r",G),P.setAttributeNS(null,"fx",w[0]),P.setAttributeNS(null,"fy",w[1]),P.setAttributeNS(null,"fr",H);break;default:throw new Error(`Unknown RadialAxial type: ${g[1]}`)}for(const R of D){const j=this.svgFactory.createElement("svg:stop");j.setAttributeNS(null,"offset",R[0]),j.setAttributeNS(null,"stop-color",R[1]),P.append(j)}return this.defs.append(P),`url(#${A})`;case"Mesh":return(0,E.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${g[0]}`)}}setDash(g,A){this.current.dashArray=g,this.current.dashPhase=A}constructPath(g,A){const D=this.current;let P=D.x,R=D.y,j=[],w=0;for(const N of g)switch(N|0){case E.OPS.rectangle:P=A[w++],R=A[w++];const H=A[w++],G=A[w++],$=P+H,W=R+G;j.push("M",e(P),e(R),"L",e($),e(R),"L",e($),e(W),"L",e(P),e(W),"Z");break;case E.OPS.moveTo:P=A[w++],R=A[w++],j.push("M",e(P),e(R));break;case E.OPS.lineTo:P=A[w++],R=A[w++],j.push("L",e(P),e(R));break;case E.OPS.curveTo:P=A[w+4],R=A[w+5],j.push("C",e(A[w]),e(A[w+1]),e(A[w+2]),e(A[w+3]),e(P),e(R)),w+=6;break;case E.OPS.curveTo2:j.push("C",e(P),e(R),e(A[w]),e(A[w+1]),e(A[w+2]),e(A[w+3])),P=A[w+2],R=A[w+3],w+=4;break;case E.OPS.curveTo3:P=A[w+2],R=A[w+3],j.push("C",e(A[w]),e(A[w+1]),e(P),e(R),e(P),e(R)),w+=4;break;case E.OPS.closePath:j.push("Z");break}j=j.join(" "),D.path&&g.length>0&&g[0]!==E.OPS.rectangle&&g[0]!==E.OPS.moveTo?j=D.path.getAttributeNS(null,"d")+j:(D.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(D.path)),D.path.setAttributeNS(null,"d",j),D.path.setAttributeNS(null,"fill","none"),D.element=D.path,D.setCurrentPoint(P,R)}endPath(){const g=this.current;if(g.path=null,!this.pendingClip)return;if(!g.element){this.pendingClip=null;return}const A=`clippath${l++}`,D=this.svgFactory.createElement("svg:clipPath");D.setAttributeNS(null,"id",A),D.setAttributeNS(null,"transform",t(this.transformMatrix));const P=g.element.cloneNode(!0);if(this.pendingClip==="evenodd"?P.setAttributeNS(null,"clip-rule","evenodd"):P.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,D.append(P),this.defs.append(D),g.activeClipUrl){g.clipGroup=null;for(const R of this.extraStack)R.clipGroup=null;D.setAttributeNS(null,"clip-path",g.activeClipUrl)}g.activeClipUrl=`url(#${A})`,this.tgrp=null}clip(g){this.pendingClip=g}closePath(){const g=this.current;if(g.path){const A=`${g.path.getAttributeNS(null,"d")}Z`;g.path.setAttributeNS(null,"d",A)}}setLeading(g){this.current.leading=-g}setTextRise(g){this.current.textRise=g}setTextRenderingMode(g){this.current.textRenderingMode=g}setHScale(g){this.current.textHScale=g/100}setRenderingIntent(g){}setFlatness(g){}setGState(g){for(const[A,D]of g)switch(A){case"LW":this.setLineWidth(D);break;case"LC":this.setLineCap(D);break;case"LJ":this.setLineJoin(D);break;case"ML":this.setMiterLimit(D);break;case"D":this.setDash(D[0],D[1]);break;case"RI":this.setRenderingIntent(D);break;case"FL":this.setFlatness(D);break;case"Font":this.setFont(D);break;case"CA":this.setStrokeAlpha(D);break;case"ca":this.setFillAlpha(D);break;default:(0,E.warn)(`Unimplemented graphic state operator ${A}`);break}}fill(){const g=this.current;g.element&&(g.element.setAttributeNS(null,"fill",g.fillColor),g.element.setAttributeNS(null,"fill-opacity",g.fillAlpha),this.endPath())}stroke(){const g=this.current;g.element&&(this._setStrokeAttributes(g.element),g.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(g,A=1){const D=this.current;let P=D.dashArray;A!==1&&P.length>0&&(P=P.map(function(R){return A*R})),g.setAttributeNS(null,"stroke",D.strokeColor),g.setAttributeNS(null,"stroke-opacity",D.strokeAlpha),g.setAttributeNS(null,"stroke-miterlimit",e(D.miterLimit)),g.setAttributeNS(null,"stroke-linecap",D.lineCap),g.setAttributeNS(null,"stroke-linejoin",D.lineJoin),g.setAttributeNS(null,"stroke-width",e(A*D.lineWidth)+"px"),g.setAttributeNS(null,"stroke-dasharray",P.map(e).join(" ")),g.setAttributeNS(null,"stroke-dashoffset",e(A*D.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width","1px"),g.setAttributeNS(null,"height","1px"),g.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(g)}paintImageXObject(g){const A=this.getObject(g);if(!A){(0,E.warn)(`Dependent image with object ID ${g} is not ready yet`);return}this.paintInlineImageXObject(A)}paintInlineImageXObject(g,A){const D=g.width,P=g.height,R=a(g,this.forceDataSchema,!!A),j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width",e(D)),j.setAttributeNS(null,"height",e(P)),this.current.element=j,this.clip("nonzero");const w=this.svgFactory.createElement("svg:image");w.setAttributeNS(z,"xlink:href",R),w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y",e(-P)),w.setAttributeNS(null,"width",e(D)+"px"),w.setAttributeNS(null,"height",e(P)+"px"),w.setAttributeNS(null,"transform",`scale(${e(1/D)} ${e(-1/P)})`),A?A.append(w):this._ensureTransformGroup().append(w)}paintImageMaskXObject(g){const A=this.getObject(g.data,g);if(A.bitmap){(0,E.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const D=this.current,P=A.width,R=A.height,j=D.fillColor;D.maskId=`mask${s++}`;const w=this.svgFactory.createElement("svg:mask");w.setAttributeNS(null,"id",D.maskId);const N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x","0"),N.setAttributeNS(null,"y","0"),N.setAttributeNS(null,"width",e(P)),N.setAttributeNS(null,"height",e(R)),N.setAttributeNS(null,"fill",j),N.setAttributeNS(null,"mask",`url(#${D.maskId})`),this.defs.append(w),this._ensureTransformGroup().append(N),this.paintInlineImageXObject(A,w)}paintFormXObjectBegin(g,A){if(Array.isArray(g)&&g.length===6&&this.transform(g[0],g[1],g[2],g[3],g[4],g[5]),A){const D=A[2]-A[0],P=A[3]-A[1],R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x",A[0]),R.setAttributeNS(null,"y",A[1]),R.setAttributeNS(null,"width",e(D)),R.setAttributeNS(null,"height",e(P)),this.current.element=R,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(g){const A=this.svgFactory.create(g.width,g.height),D=this.svgFactory.createElement("svg:defs");A.append(D),this.defs=D;const P=this.svgFactory.createElement("svg:g");return P.setAttributeNS(null,"transform",t(g.transform)),A.append(P),this.svg=P,A}_ensureClipGroup(){if(!this.current.clipGroup){const g=this.svgFactory.createElement("svg:g");g.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(g),this.current.clipGroup=g}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",t(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}d.SVGGraphics=T}),((r,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaText=void 0;class i{static textContent(E){const o=[],x={items:o,styles:Object.create(null)};function z(X){if(!X)return;let h=null;const n=X.name;if(n==="#text")h=X.value;else if(i.shouldBuildText(n))X?.attributes?.textContent?h=X.attributes.textContent:X.value&&(h=X.value);else return;if(h!==null&&o.push({str:h}),!!X.children)for(const a of X.children)z(a)}return z(E),x}static shouldBuildText(E){return!(E==="textarea"||E==="input"||E==="option"||E==="select")}}d.XfaText=i}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextLayerRenderTask=void 0,d.renderTextLayer=t,d.updateTextLayer=l;var m=i(1),E=i(6);const o=1e5,x=30,z=.8,X=new Map;function h(s,f){let T;if(f&&m.FeatureTest.isOffscreenCanvasSupported)T=new OffscreenCanvas(s,s).getContext("2d",{alpha:!1});else{const y=document.createElement("canvas");y.width=y.height=s,T=y.getContext("2d",{alpha:!1})}return T}function n(s,f){const T=X.get(s);if(T)return T;const y=h(x,f);y.font=`${x}px ${s}`;const g=y.measureText("");let A=g.fontBoundingBoxAscent,D=Math.abs(g.fontBoundingBoxDescent);if(A){const R=A/(A+D);return X.set(s,R),y.canvas.width=y.canvas.height=0,R}y.strokeStyle="red",y.clearRect(0,0,x,x),y.strokeText("g",0,0);let P=y.getImageData(0,0,x,x).data;D=0;for(let R=P.length-1-3;R>=0;R-=4)if(P[R]>0){D=Math.ceil(R/4/x);break}y.clearRect(0,0,x,x),y.strokeText("A",0,x),P=y.getImageData(0,0,x,x).data,A=0;for(let R=0,j=P.length;R<j;R+=4)if(P[R]>0){A=x-Math.floor(R/4/x);break}if(y.canvas.width=y.canvas.height=0,A){const R=A/(A+D);return X.set(s,R),R}return X.set(s,z),z}function a(s,f,T){const y=document.createElement("span"),g={angle:0,canvasWidth:0,hasText:f.str!=="",hasEOL:f.hasEOL,fontSize:0};s._textDivs.push(y);const A=m.Util.transform(s._transform,f.transform);let D=Math.atan2(A[1],A[0]);const P=T[f.fontName];P.vertical&&(D+=Math.PI/2);const R=Math.hypot(A[2],A[3]),j=R*n(P.fontFamily,s._isOffscreenCanvasSupported);let w,N;D===0?(w=A[4],N=A[5]-j):(w=A[4]+j*Math.sin(D),N=A[5]-j*Math.cos(D));const H="calc(var(--scale-factor)*",G=y.style;s._container===s._rootContainer?(G.left=`${(100*w/s._pageWidth).toFixed(2)}%`,G.top=`${(100*N/s._pageHeight).toFixed(2)}%`):(G.left=`${H}${w.toFixed(2)}px)`,G.top=`${H}${N.toFixed(2)}px)`),G.fontSize=`${H}${R.toFixed(2)}px)`,G.fontFamily=P.fontFamily,g.fontSize=R,y.setAttribute("role","presentation"),y.textContent=f.str,y.dir=f.dir,s._fontInspectorEnabled&&(y.dataset.fontName=f.fontName),D!==0&&(g.angle=D*(180/Math.PI));let $=!1;if(f.str.length>1)$=!0;else if(f.str!==" "&&f.transform[0]!==f.transform[3]){const W=Math.abs(f.transform[0]),k=Math.abs(f.transform[3]);W!==k&&Math.max(W,k)/Math.min(W,k)>1.5&&($=!0)}$&&(g.canvasWidth=P.vertical?f.height:f.width),s._textDivProperties.set(y,g),s._isReadableStream&&s._layoutText(y)}function u(s){const{div:f,scale:T,properties:y,ctx:g,prevFontSize:A,prevFontFamily:D}=s,{style:P}=f;let R="";if(y.canvasWidth!==0&&y.hasText){const{fontFamily:j}=P,{canvasWidth:w,fontSize:N}=y;(A!==N||D!==j)&&(g.font=`${N*T}px ${j}`,s.prevFontSize=N,s.prevFontFamily=j);const{width:H}=g.measureText(f.textContent);H>0&&(R=`scaleX(${w*T/H})`)}y.angle!==0&&(R=`rotate(${y.angle}deg) ${R}`),R.length>0&&(P.transform=R)}function c(s){if(s._canceled)return;const f=s._textDivs,T=s._capability;if(f.length>o){T.resolve();return}if(!s._isReadableStream)for(const g of f)s._layoutText(g);T.resolve()}class e{constructor({textContentSource:f,container:T,viewport:y,textDivs:g,textDivProperties:A,textContentItemsStr:D,isOffscreenCanvasSupported:P}){this._textContentSource=f,this._isReadableStream=f instanceof ReadableStream,this._container=this._rootContainer=T,this._textDivs=g||[],this._textContentItemsStr=D||[],this._isOffscreenCanvasSupported=P,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=A||new WeakMap,this._canceled=!1,this._capability=new m.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:y.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:h(0,P)};const{pageWidth:R,pageHeight:j,pageX:w,pageY:N}=y.rawDims;this._transform=[1,0,0,-1,-w,N+j],this._pageWidth=R,this._pageHeight=j,(0,E.setLayerDimensions)(T,y),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new m.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new m.AbortException("TextLayer task cancelled."))}_processItems(f,T){for(const y of f){if(y.str===void 0){if(y.type==="beginMarkedContentProps"||y.type==="beginMarkedContent"){const g=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),y.id!==null&&this._container.setAttribute("id",`${y.id}`),g.append(this._container)}else y.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(y.str),a(this,y,T)}}_layoutText(f){const T=this._layoutTextParams.properties=this._textDivProperties.get(f);if(this._layoutTextParams.div=f,u(this._layoutTextParams),T.hasText&&this._container.append(f),T.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this._container.append(y)}}_render(){const f=new m.PromiseCapability;let T=Object.create(null);if(this._isReadableStream){const y=()=>{this._reader.read().then(({value:g,done:A})=>{if(A){f.resolve();return}Object.assign(T,g.styles),this._processItems(g.items,T),y()},f.reject)};this._reader=this._textContentSource.getReader(),y()}else if(this._textContentSource){const{items:y,styles:g}=this._textContentSource;this._processItems(y,g),f.resolve()}else throw new Error('No "textContentSource" parameter specified.');f.promise.then(()=>{T=null,c(this)},this._capability.reject)}}d.TextLayerRenderTask=e;function t(s){!s.textContentSource&&(s.textContent||s.textContentStream)&&((0,E.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),s.textContentSource=s.textContent||s.textContentStream);const{container:f,viewport:T}=s,y=getComputedStyle(f),g=y.getPropertyValue("visibility"),A=parseFloat(y.getPropertyValue("--scale-factor"));g==="visible"&&(!A||Math.abs(A-T.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const D=new e(s);return D._render(),D}function l({container:s,viewport:f,textDivs:T,textDivProperties:y,isOffscreenCanvasSupported:g,mustRotate:A=!0,mustRescale:D=!0}){if(A&&(0,E.setLayerDimensions)(s,{rotation:f.rotation}),D){const P=h(0,g),j={prevFontSize:null,prevFontFamily:null,div:null,scale:f.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:P};for(const w of T)j.properties=y.get(w),j.div=w,u(j)}}}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationEditorLayer=void 0;var m=i(1),E=i(4),o=i(28),x=i(33),z=i(6),X=i(34);class h{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#s=this.pointerdown.bind(this);#o=new Map;#a=!1;#c=!1;#l=!1;#i;static _initialized=!1;constructor({uiManager:a,pageIndex:u,div:c,accessibilityManager:e,annotationLayer:t,viewport:l,l10n:s}){const f=[o.FreeTextEditor,x.InkEditor,X.StampEditor];if(!h._initialized){h._initialized=!0;for(const T of f)T.initialize(s)}a.registerEditorTypes(f),this.#i=a,this.pageIndex=u,this.div=c,this.#e=e,this.#n=t,this.viewport=l,this.#i.addLayer(this)}get isEmpty(){return this.#o.size===0}updateToolbar(a){this.#i.updateToolbar(a)}updateMode(a=this.#i.getMode()){this.#p(),a===m.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),a!==m.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",a===m.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",a===m.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",a===m.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(a){if(!a&&this.#i.getMode()!==m.AnnotationEditorType.INK)return;if(!a){for(const c of this.#o.values())if(c.isEmpty()){c.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(a){this.#i.setEditingState(a)}addCommands(a){this.#i.addCommands(a)}enable(){this.div.style.pointerEvents="auto";const a=new Set;for(const c of this.#o.values())c.enableEditing(),c.annotationElementId&&a.add(c.annotationElementId);if(!this.#n)return;const u=this.#n.getEditableAnnotations();for(const c of u){if(c.hide(),this.#i.isDeletedAnnotationElement(c.data.id)||a.has(c.data.id))continue;const e=this.deserialize(c);e&&(this.addOrRebuild(e),e.enableEditing())}}disable(){this.#l=!0,this.div.style.pointerEvents="none";const a=new Set;for(const u of this.#o.values()){if(u.disableEditing(),!u.annotationElementId||u.serialize()!==null){a.add(u.annotationElementId);continue}this.getEditableAnnotation(u.annotationElementId)?.show(),u.remove()}if(this.#n){const u=this.#n.getEditableAnnotations();for(const c of u){const{id:e}=c.data;a.has(e)||this.#i.isDeletedAnnotationElement(e)||c.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#l=!1}getEditableAnnotation(a){return this.#n?.getEditableAnnotation(a)||null}setActiveEditor(a){this.#i.getActive()!==a&&this.#i.setActiveEditor(a)}enableClick(){this.div.addEventListener("pointerdown",this.#s),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#s),this.div.removeEventListener("pointerup",this.#r)}attach(a){this.#o.set(a.id,a);const{annotationElementId:u}=a;u&&this.#i.isDeletedAnnotationElement(u)&&this.#i.removeDeletedAnnotationElement(a)}detach(a){this.#o.delete(a.id),this.#e?.removePointerInTextLayer(a.contentDiv),!this.#l&&a.annotationElementId&&this.#i.addDeletedAnnotationElement(a)}remove(a){this.detach(a),this.#i.removeEditor(a),a.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),a.div.remove(),a.isAttachedToDOM=!1,this.#c||this.addInkEditorIfNeeded(!1)}changeParent(a){a.parent!==this&&(a.annotationElementId&&(this.#i.addDeletedAnnotationElement(a.annotationElementId),E.AnnotationEditor.deleteAnnotationElement(a),a.annotationElementId=null),this.attach(a),a.parent?.detach(a),a.setParent(this),a.div&&a.isAttachedToDOM&&(a.div.remove(),this.div.append(a.div)))}add(a){if(this.changeParent(a),this.#i.addEditor(a),this.attach(a),!a.isAttachedToDOM){const u=a.render();this.div.append(u),a.isAttachedToDOM=!0}a.fixAndSetPosition(),a.onceAdded(),this.#i.addToAnnotationStorage(a)}moveEditorInDOM(a){if(!a.isAttachedToDOM)return;const{activeElement:u}=document;a.div.contains(u)&&(a._focusEventsAllowed=!1,setTimeout(()=>{a.div.contains(document.activeElement)?a._focusEventsAllowed=!0:(a.div.addEventListener("focusin",()=>{a._focusEventsAllowed=!0},{once:!0}),u.focus())},0)),a._structTreeParentId=this.#e?.moveElementInDOM(this.div,a.div,a.contentDiv,!0)}addOrRebuild(a){a.needsToBeRebuilt()?a.rebuild():this.add(a)}addUndoableEditor(a){const u=()=>a._uiManager.rebuild(a),c=()=>{a.remove()};this.addCommands({cmd:u,undo:c,mustExec:!1})}getNextId(){return this.#i.getId()}#f(a){switch(this.#i.getMode()){case m.AnnotationEditorType.FREETEXT:return new o.FreeTextEditor(a);case m.AnnotationEditorType.INK:return new x.InkEditor(a);case m.AnnotationEditorType.STAMP:return new X.StampEditor(a)}return null}pasteEditor(a,u){this.#i.updateToolbar(a),this.#i.updateMode(a);const{offsetX:c,offsetY:e}=this.#h(),t=this.getNextId(),l=this.#f({parent:this,id:t,x:c,y:e,uiManager:this.#i,isCentered:!0,...u});l&&this.add(l)}deserialize(a){switch(a.annotationType??a.annotationEditorType){case m.AnnotationEditorType.FREETEXT:return o.FreeTextEditor.deserialize(a,this,this.#i);case m.AnnotationEditorType.INK:return x.InkEditor.deserialize(a,this,this.#i);case m.AnnotationEditorType.STAMP:return X.StampEditor.deserialize(a,this,this.#i)}return null}#d(a,u){const c=this.getNextId(),e=this.#f({parent:this,id:c,x:a.offsetX,y:a.offsetY,uiManager:this.#i,isCentered:u});return e&&this.add(e),e}#h(){const{x:a,y:u,width:c,height:e}=this.div.getBoundingClientRect(),t=Math.max(0,a),l=Math.max(0,u),s=Math.min(window.innerWidth,a+c),f=Math.min(window.innerHeight,u+e),T=(t+s)/2-a,y=(l+f)/2-u,[g,A]=this.viewport.rotation%180===0?[T,y]:[y,T];return{offsetX:g,offsetY:A}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(a){this.#i.setSelected(a)}toggleSelected(a){this.#i.toggleSelected(a)}isSelected(a){return this.#i.isSelected(a)}unselect(a){this.#i.unselect(a)}pointerup(a){const{isMac:u}=m.FeatureTest.platform;if(!(a.button!==0||a.ctrlKey&&u)&&a.target===this.div&&this.#a){if(this.#a=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===m.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(a,!1)}}pointerdown(a){if(this.#a){this.#a=!1;return}const{isMac:u}=m.FeatureTest.platform;if(a.button!==0||a.ctrlKey&&u||a.target!==this.div)return;this.#a=!0;const c=this.#i.getActive();this.#t=!c||c.isEmpty()}findNewParent(a,u,c){const e=this.#i.findParent(u,c);return e===null||e===this?!1:(e.changeParent(a),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const a of this.#o.values())this.#e?.removePointerInTextLayer(a.contentDiv),a.setParent(null),a.isAttachedToDOM=!1,a.div.remove();this.div=null,this.#o.clear(),this.#i.removeLayer(this)}#p(){this.#c=!0;for(const a of this.#o.values())a.isEmpty()&&a.remove();this.#c=!1}render({viewport:a}){this.viewport=a,(0,z.setLayerDimensions)(this.div,a);for(const u of this.#i.getEditors(this.pageIndex))this.add(u);this.updateMode()}update({viewport:a}){this.#i.commitOrRemove(),this.viewport=a,(0,z.setLayerDimensions)(this.div,{rotation:a.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:a,pageHeight:u}=this.viewport.rawDims;return[a,u]}}d.AnnotationEditorLayer=h}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FreeTextEditor=void 0;var m=i(1),E=i(5),o=i(4),x=i(29);class z extends o.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#s;#o="";#a=`${this.id}-editor`;#c;#l=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const h=z.prototype,n=c=>c.isEmpty(),a=E.AnnotationEditorUIManager.TRANSLATE_SMALL,u=E.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,m.shadow)(this,"_keyboardManager",new E.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],h.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],h.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],h._translateEmpty,{args:[-a,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],h._translateEmpty,{args:[-u,0],checker:n}],[["ArrowRight","mac+ArrowRight"],h._translateEmpty,{args:[a,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],h._translateEmpty,{args:[u,0],checker:n}],[["ArrowUp","mac+ArrowUp"],h._translateEmpty,{args:[0,-a],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],h._translateEmpty,{args:[0,-u],checker:n}],[["ArrowDown","mac+ArrowDown"],h._translateEmpty,{args:[0,a],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],h._translateEmpty,{args:[0,u],checker:n}]]))}static _type="freetext";constructor(h){super({...h,name:"freeTextEditor"}),this.#s=h.color||z._defaultColor||o.AnnotationEditor._defaultLineColor,this.#c=h.fontSize||z._defaultFontSize}static initialize(h){o.AnnotationEditor.initialize(h,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(h,n){switch(h){case m.AnnotationEditorParamsType.FREETEXT_SIZE:z._defaultFontSize=n;break;case m.AnnotationEditorParamsType.FREETEXT_COLOR:z._defaultColor=n;break}}updateParams(h,n){switch(h){case m.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(n);break;case m.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(n);break}}static get defaultPropertiesToUpdate(){return[[m.AnnotationEditorParamsType.FREETEXT_SIZE,z._defaultFontSize],[m.AnnotationEditorParamsType.FREETEXT_COLOR,z._defaultColor||o.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[m.AnnotationEditorParamsType.FREETEXT_SIZE,this.#c],[m.AnnotationEditorParamsType.FREETEXT_COLOR,this.#s]]}#i(h){const n=u=>{this.editorDiv.style.fontSize=`calc(${u}px * var(--scale-factor))`,this.translate(0,-(u-this.#c)*this.parentScale),this.#c=u,this.#h()},a=this.#c;this.addCommands({cmd:()=>{n(h)},undo:()=>{n(a)},mustExec:!0,type:m.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(h){const n=this.#s;this.addCommands({cmd:()=>{this.#s=this.editorDiv.style.color=h},undo:()=>{this.#s=this.editorDiv.style.color=n},mustExec:!0,type:m.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(h,n){this._uiManager.translateSelectedEditors(h,n,!0)}getInitialTranslation(){const h=this.parentScale;return[-z._internalPadding*h,-(z._internalPadding+this.#c)*h]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(m.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#a),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(h){this._focusEventsAllowed&&(super.focusin(h),h.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const h=this.editorDiv.getElementsByTagName("div");if(h.length===0)return this.editorDiv.innerText;const n=[];for(const a of h)n.push(a.innerText.replace(/\r\n?|\n/,""));return n.join(`
`)}#h(){const[h,n]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:u,div:c}=this,e=c.style.display;c.style.display="hidden",u.div.append(this.div),a=c.getBoundingClientRect(),c.remove(),c.style.display=e}this.rotation%180===this.parentRotation%180?(this.width=a.width/h,this.height=a.height/n):(this.width=a.height/h,this.height=a.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const h=this.#o,n=this.#o=this.#d().trimEnd();if(h===n)return;const a=u=>{if(this.#o=u,!u){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{a(n)},undo:()=>{a(h)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(h){this.enterInEditMode()}keydown(h){h.target===this.div&&h.key==="Enter"&&(this.enterInEditMode(),h.preventDefault())}editorDivKeydown(h){z._keyboardManager.exec(this,h)}editorDivFocus(h){this.isEditing=!0}editorDivBlur(h){this.isEditing=!1}editorDivInput(h){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let h,n;this.width&&(h=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#a),this.enableEditing(),o.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(u=>this.editorDiv?.setAttribute("aria-label",u)),o.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(u=>this.editorDiv?.setAttribute("default-content",u)),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${this.#c}px * var(--scale-factor))`,a.color=this.#s,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,E.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[u,c]=this.parentDimensions;if(this.annotationElementId){const{position:e}=this.#l;let[t,l]=this.getInitialTranslation();[t,l]=this.pageTranslationToScreen(t,l);const[s,f]=this.pageDimensions,[T,y]=this.pageTranslation;let g,A;switch(this.rotation){case 0:g=h+(e[0]-T)/s,A=n+this.height-(e[1]-y)/f;break;case 90:g=h+(e[0]-T)/s,A=n-(e[1]-y)/f,[t,l]=[l,-t];break;case 180:g=h-this.width+(e[0]-T)/s,A=n-(e[1]-y)/f,[t,l]=[-t,-l];break;case 270:g=h+(e[0]-T-this.height*f)/s,A=n+(e[1]-y-this.width*s)/f,[t,l]=[-l,t];break}this.setAt(g*u,A*c,t,l)}else this.setAt(h*u,n*c,this.width*u,this.height*c);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#o)for(const h of this.#o.split(`
`)){const n=document.createElement("div");n.append(h?document.createTextNode(h):document.createElement("br")),this.editorDiv.append(n)}}get contentDiv(){return this.editorDiv}static deserialize(h,n,a){let u=null;if(h instanceof x.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:e,fontColor:t},rect:l,rotation:s,id:f},textContent:T,textPosition:y,parent:{page:{pageNumber:g}}}=h;if(!T||T.length===0)return null;u=h={annotationType:m.AnnotationEditorType.FREETEXT,color:Array.from(t),fontSize:e,value:T.join(`
`),position:y,pageIndex:g-1,rect:l,rotation:s,id:f,deleted:!1}}const c=super.deserialize(h,n,a);return c.#c=h.fontSize,c.#s=m.Util.makeHexColor(...h.color),c.#o=h.value,c.annotationElementId=h.id||null,c.#l=u,c}serialize(h=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=z._internalPadding*this.parentScale,a=this.getRect(n,n),u=o.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#s),c={annotationType:m.AnnotationEditorType.FREETEXT,color:u,fontSize:this.#c,value:this.#o,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return h?c:this.annotationElementId&&!this.#v(c)?null:(c.id=this.annotationElementId,c)}#v(h){const{value:n,fontSize:a,color:u,rect:c,pageIndex:e}=this.#l;return h.value!==n||h.fontSize!==a||h.rect.some((t,l)=>Math.abs(t-c[l])>=1)||h.color.some((t,l)=>t!==u[l])||h.pageIndex!==e}#g(h=!1){if(!this.annotationElementId)return;if(this.#h(),!h&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}const n=z._internalPadding*this.parentScale;this.#l.rect=this.getRect(n,n)}}d.FreeTextEditor=z}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StampAnnotationElement=d.InkAnnotationElement=d.FreeTextAnnotationElement=d.AnnotationLayer=void 0;var m=i(1),E=i(6),o=i(3),x=i(30),z=i(31),X=i(32);const h=1e3,n=9,a=new WeakSet;function u(B){return{width:B[2]-B[0],height:B[3]-B[1]}}class c{static create(v){switch(v.data.annotationType){case m.AnnotationType.LINK:return new t(v);case m.AnnotationType.TEXT:return new l(v);case m.AnnotationType.WIDGET:switch(v.data.fieldType){case"Tx":return new f(v);case"Btn":return v.data.radioButton?new g(v):v.data.checkBox?new y(v):new A(v);case"Ch":return new D(v);case"Sig":return new T(v)}return new s(v);case m.AnnotationType.POPUP:return new P(v);case m.AnnotationType.FREETEXT:return new j(v);case m.AnnotationType.LINE:return new w(v);case m.AnnotationType.SQUARE:return new N(v);case m.AnnotationType.CIRCLE:return new H(v);case m.AnnotationType.POLYLINE:return new G(v);case m.AnnotationType.CARET:return new W(v);case m.AnnotationType.INK:return new k(v);case m.AnnotationType.POLYGON:return new $(v);case m.AnnotationType.HIGHLIGHT:return new _(v);case m.AnnotationType.UNDERLINE:return new p(v);case m.AnnotationType.SQUIGGLY:return new b(v);case m.AnnotationType.STRIKEOUT:return new M(v);case m.AnnotationType.STAMP:return new F(v);case m.AnnotationType.FILEATTACHMENT:return new I(v);default:return new e(v)}}}class e{#e=!1;constructor(v,{isRenderable:C=!1,ignoreBorder:L=!1,createQuadrilaterals:V=!1}={}){this.isRenderable=C,this.data=v.data,this.layer=v.layer,this.linkService=v.linkService,this.downloadManager=v.downloadManager,this.imageResourcesPath=v.imageResourcesPath,this.renderForms=v.renderForms,this.svgFactory=v.svgFactory,this.annotationStorage=v.annotationStorage,this.enableScripting=v.enableScripting,this.hasJSActions=v.hasJSActions,this._fieldObjects=v.fieldObjects,this.parent=v.parent,C&&(this.container=this._createContainer(L)),V&&this._createQuadrilaterals()}static _hasPopupData({titleObj:v,contentsObj:C,richText:L}){return!!(v?.str||C?.str||L?.str)}get hasPopupData(){return e._hasPopupData(this.data)}_createContainer(v){const{data:C,parent:{page:L,viewport:V}}=this,U=document.createElement("section");U.setAttribute("data-annotation-id",C.id),this instanceof s||(U.tabIndex=h),U.style.zIndex=this.parent.zIndex++,this.data.popupRef&&U.setAttribute("aria-haspopup","dialog"),C.noRotate&&U.classList.add("norotate");const{pageWidth:Y,pageHeight:Q,pageX:le,pageY:_e}=V.rawDims;if(!C.rect||this instanceof P){const{rotation:ce}=C;return!C.hasOwnCanvas&&ce!==0&&this.setRotation(ce,U),U}const{width:de,height:he}=u(C.rect),fe=m.Util.normalizeRect([C.rect[0],L.view[3]-C.rect[1]+L.view[1],C.rect[2],L.view[3]-C.rect[3]+L.view[1]]);if(!v&&C.borderStyle.width>0){U.style.borderWidth=`${C.borderStyle.width}px`;const ce=C.borderStyle.horizontalCornerRadius,Se=C.borderStyle.verticalCornerRadius;if(ce>0||Se>0){const be=`calc(${ce}px * var(--scale-factor)) / calc(${Se}px * var(--scale-factor))`;U.style.borderRadius=be}else if(this instanceof g){const be=`calc(${de}px * var(--scale-factor)) / calc(${he}px * var(--scale-factor))`;U.style.borderRadius=be}switch(C.borderStyle.style){case m.AnnotationBorderStyleType.SOLID:U.style.borderStyle="solid";break;case m.AnnotationBorderStyleType.DASHED:U.style.borderStyle="dashed";break;case m.AnnotationBorderStyleType.BEVELED:(0,m.warn)("Unimplemented border style: beveled");break;case m.AnnotationBorderStyleType.INSET:(0,m.warn)("Unimplemented border style: inset");break;case m.AnnotationBorderStyleType.UNDERLINE:U.style.borderBottomStyle="solid";break}const ve=C.borderColor||null;ve?(this.#e=!0,U.style.borderColor=m.Util.makeHexColor(ve[0]|0,ve[1]|0,ve[2]|0)):U.style.borderWidth=0}U.style.left=`${100*(fe[0]-le)/Y}%`,U.style.top=`${100*(fe[1]-_e)/Q}%`;const{rotation:re}=C;return C.hasOwnCanvas||re===0?(U.style.width=`${100*de/Y}%`,U.style.height=`${100*he/Q}%`):this.setRotation(re,U),U}setRotation(v,C=this.container){if(!this.data.rect)return;const{pageWidth:L,pageHeight:V}=this.parent.viewport.rawDims,{width:U,height:Y}=u(this.data.rect);let Q,le;v%180===0?(Q=100*U/L,le=100*Y/V):(Q=100*Y/L,le=100*U/V),C.style.width=`${Q}%`,C.style.height=`${le}%`,C.setAttribute("data-main-rotation",(360-v)%360)}get _commonActions(){const v=(C,L,V)=>{const U=V.detail[C],Y=U[0],Q=U.slice(1);V.target.style[L]=x.ColorConverters[`${Y}_HTML`](Q),this.annotationStorage.setValue(this.data.id,{[L]:x.ColorConverters[`${Y}_rgb`](Q)})};return(0,m.shadow)(this,"_commonActions",{display:C=>{const{display:L}=C.detail,V=L%2===1;this.container.style.visibility=V?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:V,noPrint:L===1||L===2})},print:C=>{this.annotationStorage.setValue(this.data.id,{noPrint:!C.detail.print})},hidden:C=>{const{hidden:L}=C.detail;this.container.style.visibility=L?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:L,noView:L})},focus:C=>{setTimeout(()=>C.target.focus({preventScroll:!1}),0)},userName:C=>{C.target.title=C.detail.userName},readonly:C=>{C.target.disabled=C.detail.readonly},required:C=>{this._setRequired(C.target,C.detail.required)},bgColor:C=>{v("bgColor","backgroundColor",C)},fillColor:C=>{v("fillColor","backgroundColor",C)},fgColor:C=>{v("fgColor","color",C)},textColor:C=>{v("textColor","color",C)},borderColor:C=>{v("borderColor","borderColor",C)},strokeColor:C=>{v("strokeColor","borderColor",C)},rotation:C=>{const L=C.detail.rotation;this.setRotation(L),this.annotationStorage.setValue(this.data.id,{rotation:L})}})}_dispatchEventFromSandbox(v,C){const L=this._commonActions;for(const V of Object.keys(C.detail))(v[V]||L[V])?.(C)}_setDefaultPropertiesFromJS(v){if(!this.enableScripting)return;const C=this.annotationStorage.getRawValue(this.data.id);if(!C)return;const L=this._commonActions;for(const[V,U]of Object.entries(C)){const Y=L[V];if(Y){const Q={detail:{[V]:U},target:v};Y(Q),delete C[V]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:v}=this.data;if(!v)return;const[C,L,V,U]=this.data.rect;if(v.length===1){const[,{x:Se,y:ve},{x:be,y:ke}]=v[0];if(V===Se&&U===ve&&C===be&&L===ke)return}const{style:Y}=this.container;let Q;if(this.#e){const{borderColor:Se,borderWidth:ve}=Y;Y.borderWidth=0,Q=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Se}" stroke-width="${ve}">`],this.container.classList.add("hasBorder")}const le=V-C,_e=U-L,{svgFactory:de}=this,he=de.createElement("svg");he.classList.add("quadrilateralsContainer"),he.setAttribute("width",0),he.setAttribute("height",0);const fe=de.createElement("defs");he.append(fe);const re=de.createElement("clipPath"),ce=`clippath_${this.data.id}`;re.setAttribute("id",ce),re.setAttribute("clipPathUnits","objectBoundingBox"),fe.append(re);for(const[,{x:Se,y:ve},{x:be,y:ke}]of v){const Le=de.createElement("rect"),We=(be-C)/le,tt=(U-ve)/_e,Ze=(Se-be)/le,gt=(ve-ke)/_e;Le.setAttribute("x",We),Le.setAttribute("y",tt),Le.setAttribute("width",Ze),Le.setAttribute("height",gt),re.append(Le),Q?.push(`<rect vector-effect="non-scaling-stroke" x="${We}" y="${tt}" width="${Ze}" height="${gt}"/>`)}this.#e&&(Q.push("</g></svg>')"),Y.backgroundImage=Q.join("")),this.container.append(he),this.container.style.clipPath=`url(#${ce})`}_createPopup(){const{container:v,data:C}=this;v.setAttribute("aria-haspopup","dialog");const L=new P({data:{color:C.color,titleObj:C.titleObj,modificationDate:C.modificationDate,contentsObj:C.contentsObj,richText:C.richText,parentRect:C.rect,borderStyle:0,id:`popup_${C.id}`,rotation:C.rotation},parent:this.parent,elements:[this]});this.parent.div.append(L.render())}render(){(0,m.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(v,C=null){const L=[];if(this._fieldObjects){const V=this._fieldObjects[v];if(V)for(const{page:U,id:Y,exportValues:Q}of V){if(U===-1||Y===C)continue;const le=typeof Q=="string"?Q:null,_e=document.querySelector(`[data-element-id="${Y}"]`);if(_e&&!a.has(_e)){(0,m.warn)(`_getElementsByName - element not allowed: ${Y}`);continue}L.push({id:Y,exportValue:le,domElement:_e})}return L}for(const V of document.getElementsByName(v)){const{exportValue:U}=V,Y=V.getAttribute("data-element-id");Y!==C&&a.has(V)&&L.push({id:Y,exportValue:U,domElement:V})}return L}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const v=this.getElementsToTriggerPopup();if(Array.isArray(v))for(const C of v)C.classList.add("highlightArea");else v.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:v,data:{id:C}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:v,editId:C})})}}class t extends e{constructor(v,C=null){super(v,{isRenderable:!0,ignoreBorder:!!C?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=v.data.isTooltipOnly}render(){const{data:v,linkService:C}=this,L=document.createElement("a");L.setAttribute("data-element-id",v.id);let V=!1;return v.url?(C.addLinkAttributes(L,v.url,v.newWindow),V=!0):v.action?(this._bindNamedAction(L,v.action),V=!0):v.attachment?(this._bindAttachment(L,v.attachment),V=!0):v.setOCGState?(this.#t(L,v.setOCGState),V=!0):v.dest?(this._bindLink(L,v.dest),V=!0):(v.actions&&(v.actions.Action||v.actions["Mouse Up"]||v.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(L,v),V=!0),v.resetForm?(this._bindResetFormAction(L,v.resetForm),V=!0):this.isTooltipOnly&&!V&&(this._bindLink(L,""),V=!0)),this.container.classList.add("linkAnnotation"),V&&this.container.append(L),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(v,C){v.href=this.linkService.getDestinationHash(C),v.onclick=()=>(C&&this.linkService.goToDestination(C),!1),(C||C==="")&&this.#e()}_bindNamedAction(v,C){v.href=this.linkService.getAnchorUrl(""),v.onclick=()=>(this.linkService.executeNamedAction(C),!1),this.#e()}_bindAttachment(v,C){v.href=this.linkService.getAnchorUrl(""),v.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,C.content,C.filename),!1),this.#e()}#t(v,C){v.href=this.linkService.getAnchorUrl(""),v.onclick=()=>(this.linkService.executeSetOCGState(C),!1),this.#e()}_bindJSAction(v,C){v.href=this.linkService.getAnchorUrl("");const L=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const V of Object.keys(C.actions)){const U=L.get(V);U&&(v[U]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C.id,name:V}}),!1))}v.onclick||(v.onclick=()=>!1),this.#e()}_bindResetFormAction(v,C){const L=v.onclick;if(L||(v.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,m.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),L||(v.onclick=()=>!1);return}v.onclick=()=>{L?.();const{fields:V,refs:U,include:Y}=C,Q=[];if(V.length!==0||U.length!==0){const de=new Set(U);for(const he of V){const fe=this._fieldObjects[he]||[];for(const{id:re}of fe)de.add(re)}for(const he of Object.values(this._fieldObjects))for(const fe of he)de.has(fe.id)===Y&&Q.push(fe)}else for(const de of Object.values(this._fieldObjects))Q.push(...de);const le=this.annotationStorage,_e=[];for(const de of Q){const{id:he}=de;switch(_e.push(he),de.type){case"text":{const re=de.defaultValue||"";le.setValue(he,{value:re});break}case"checkbox":case"radiobutton":{const re=de.defaultValue===de.exportValues;le.setValue(he,{value:re});break}case"combobox":case"listbox":{const re=de.defaultValue||"";le.setValue(he,{value:re});break}default:continue}const fe=document.querySelector(`[data-element-id="${he}"]`);if(fe){if(!a.has(fe)){(0,m.warn)(`_bindResetFormAction - element not allowed: ${he}`);continue}}else continue;fe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:_e,name:"ResetForm"}}),!1}}}class l extends e{constructor(v){super(v,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const v=document.createElement("img");return v.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",v.alt="[{{type}} Annotation]",v.dataset.l10nId="text_annotation_type",v.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(v),this.container}}class s extends e{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(v){this.data.hasOwnCanvas&&(v.previousSibling?.nodeName==="CANVAS"&&(v.previousSibling.hidden=!0),v.hidden=!1)}_getKeyModifier(v){const{isWin:C,isMac:L}=m.FeatureTest.platform;return C&&v.ctrlKey||L&&v.metaKey}_setEventListener(v,C,L,V,U){L.includes("mouse")?v.addEventListener(L,Y=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:V,value:U(Y),shift:Y.shiftKey,modifier:this._getKeyModifier(Y)}})}):v.addEventListener(L,Y=>{if(L==="blur"){if(!C.focused||!Y.relatedTarget)return;C.focused=!1}else if(L==="focus"){if(C.focused)return;C.focused=!0}U&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:V,value:U(Y)}})})}_setEventListeners(v,C,L,V){for(const[U,Y]of L)(Y==="Action"||this.data.actions?.[Y])&&((Y==="Focus"||Y==="Blur")&&(C||={focused:!1}),this._setEventListener(v,C,U,Y,V),Y==="Focus"&&!this.data.actions?.Blur?this._setEventListener(v,C,"blur","Blur",null):Y==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(v,C,"focus","Focus",null))}_setBackgroundColor(v){const C=this.data.backgroundColor||null;v.style.backgroundColor=C===null?"transparent":m.Util.makeHexColor(C[0],C[1],C[2])}_setTextStyle(v){const C=["left","center","right"],{fontColor:L}=this.data.defaultAppearanceData,V=this.data.defaultAppearanceData.fontSize||n,U=v.style;let Y;const Q=2,le=_e=>Math.round(10*_e)/10;if(this.data.multiLine){const _e=Math.abs(this.data.rect[3]-this.data.rect[1]-Q),de=Math.round(_e/(m.LINE_FACTOR*V))||1,he=_e/de;Y=Math.min(V,le(he/m.LINE_FACTOR))}else{const _e=Math.abs(this.data.rect[3]-this.data.rect[1]-Q);Y=Math.min(V,le(_e/m.LINE_FACTOR))}U.fontSize=`calc(${Y}px * var(--scale-factor))`,U.color=m.Util.makeHexColor(L[0],L[1],L[2]),this.data.textAlignment!==null&&(U.textAlign=C[this.data.textAlignment])}_setRequired(v,C){C?v.setAttribute("required",!0):v.removeAttribute("required"),v.setAttribute("aria-required",C)}}class f extends s{constructor(v){const C=v.renderForms||!v.data.hasAppearance&&!!v.data.fieldValue;super(v,{isRenderable:C})}setPropertyOnSiblings(v,C,L,V){const U=this.annotationStorage;for(const Y of this._getElementsByName(v.name,v.id))Y.domElement&&(Y.domElement[C]=L),U.setValue(Y.id,{[V]:L})}render(){const v=this.annotationStorage,C=this.data.id;this.container.classList.add("textWidgetAnnotation");let L=null;if(this.renderForms){const V=v.getValue(C,{value:this.data.fieldValue});let U=V.value||"";const Y=v.getValue(C,{charLimit:this.data.maxLen}).charLimit;Y&&U.length>Y&&(U=U.slice(0,Y));let Q=V.formattedValue||this.data.textContent?.join(`
`)||null;Q&&this.data.comb&&(Q=Q.replaceAll(/\s+/g,""));const le={userValue:U,formattedValue:Q,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(L=document.createElement("textarea"),L.textContent=Q??U,this.data.doNotScroll&&(L.style.overflowY="hidden")):(L=document.createElement("input"),L.type="text",L.setAttribute("value",Q??U),this.data.doNotScroll&&(L.style.overflowX="hidden")),this.data.hasOwnCanvas&&(L.hidden=!0),a.add(L),L.setAttribute("data-element-id",C),L.disabled=this.data.readOnly,L.name=this.data.fieldName,L.tabIndex=h,this._setRequired(L,this.data.required),Y&&(L.maxLength=Y),L.addEventListener("input",de=>{v.setValue(C,{value:de.target.value}),this.setPropertyOnSiblings(L,"value",de.target.value,"value"),le.formattedValue=null}),L.addEventListener("resetform",de=>{const he=this.data.defaultFieldValue??"";L.value=le.userValue=he,le.formattedValue=null});let _e=de=>{const{formattedValue:he}=le;he!=null&&(de.target.value=he),de.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){L.addEventListener("focus",he=>{if(le.focused)return;const{target:fe}=he;le.userValue&&(fe.value=le.userValue),le.lastCommittedValue=fe.value,le.commitKey=1,le.focused=!0}),L.addEventListener("updatefromsandbox",he=>{this.showElementAndHideCanvas(he.target);const fe={value(re){le.userValue=re.detail.value??"",v.setValue(C,{value:le.userValue.toString()}),re.target.value=le.userValue},formattedValue(re){const{formattedValue:ce}=re.detail;le.formattedValue=ce,ce!=null&&re.target!==document.activeElement&&(re.target.value=ce),v.setValue(C,{formattedValue:ce})},selRange(re){re.target.setSelectionRange(...re.detail.selRange)},charLimit:re=>{const{charLimit:ce}=re.detail,{target:Se}=re;if(ce===0){Se.removeAttribute("maxLength");return}Se.setAttribute("maxLength",ce);let ve=le.userValue;!ve||ve.length<=ce||(ve=ve.slice(0,ce),Se.value=le.userValue=ve,v.setValue(C,{value:ve}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:ve,willCommit:!0,commitKey:1,selStart:Se.selectionStart,selEnd:Se.selectionEnd}}))}};this._dispatchEventFromSandbox(fe,he)}),L.addEventListener("keydown",he=>{le.commitKey=1;let fe=-1;if(he.key==="Escape"?fe=0:he.key==="Enter"&&!this.data.multiLine?fe=2:he.key==="Tab"&&(le.commitKey=3),fe===-1)return;const{value:re}=he.target;le.lastCommittedValue!==re&&(le.lastCommittedValue=re,le.userValue=re,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:re,willCommit:!0,commitKey:fe,selStart:he.target.selectionStart,selEnd:he.target.selectionEnd}}))});const de=_e;_e=null,L.addEventListener("blur",he=>{if(!le.focused||!he.relatedTarget)return;le.focused=!1;const{value:fe}=he.target;le.userValue=fe,le.lastCommittedValue!==fe&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:fe,willCommit:!0,commitKey:le.commitKey,selStart:he.target.selectionStart,selEnd:he.target.selectionEnd}}),de(he)}),this.data.actions?.Keystroke&&L.addEventListener("beforeinput",he=>{le.lastCommittedValue=null;const{data:fe,target:re}=he,{value:ce,selectionStart:Se,selectionEnd:ve}=re;let be=Se,ke=ve;switch(he.inputType){case"deleteWordBackward":{const Le=ce.substring(0,Se).match(/\w*[^\w]*$/);Le&&(be-=Le[0].length);break}case"deleteWordForward":{const Le=ce.substring(Se).match(/^[^\w]*\w*/);Le&&(ke+=Le[0].length);break}case"deleteContentBackward":Se===ve&&(be-=1);break;case"deleteContentForward":Se===ve&&(ke+=1);break}he.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:ce,change:fe||"",willCommit:!1,selStart:be,selEnd:ke}})}),this._setEventListeners(L,le,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],he=>he.target.value)}if(_e&&L.addEventListener("blur",_e),this.data.comb){const he=(this.data.rect[2]-this.data.rect[0])/Y;L.classList.add("comb"),L.style.letterSpacing=`calc(${he}px * var(--scale-factor) - 1ch)`}}else L=document.createElement("div"),L.textContent=this.data.fieldValue,L.style.verticalAlign="middle",L.style.display="table-cell";return this._setTextStyle(L),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.append(L),this.container}}class T extends s{constructor(v){super(v,{isRenderable:!!v.data.hasOwnCanvas})}}class y extends s{constructor(v){super(v,{isRenderable:v.renderForms})}render(){const v=this.annotationStorage,C=this.data,L=C.id;let V=v.getValue(L,{value:C.exportValue===C.fieldValue}).value;typeof V=="string"&&(V=V!=="Off",v.setValue(L,{value:V})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const U=document.createElement("input");return a.add(U),U.setAttribute("data-element-id",L),U.disabled=C.readOnly,this._setRequired(U,this.data.required),U.type="checkbox",U.name=C.fieldName,V&&U.setAttribute("checked",!0),U.setAttribute("exportValue",C.exportValue),U.tabIndex=h,U.addEventListener("change",Y=>{const{name:Q,checked:le}=Y.target;for(const _e of this._getElementsByName(Q,L)){const de=le&&_e.exportValue===C.exportValue;_e.domElement&&(_e.domElement.checked=de),v.setValue(_e.id,{value:de})}v.setValue(L,{value:le})}),U.addEventListener("resetform",Y=>{const Q=C.defaultFieldValue||"Off";Y.target.checked=Q===C.exportValue}),this.enableScripting&&this.hasJSActions&&(U.addEventListener("updatefromsandbox",Y=>{const Q={value(le){le.target.checked=le.detail.value!=="Off",v.setValue(L,{value:le.target.checked})}};this._dispatchEventFromSandbox(Q,Y)}),this._setEventListeners(U,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.checked)),this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.append(U),this.container}}class g extends s{constructor(v){super(v,{isRenderable:v.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const v=this.annotationStorage,C=this.data,L=C.id;let V=v.getValue(L,{value:C.fieldValue===C.buttonValue}).value;typeof V=="string"&&(V=V!==C.buttonValue,v.setValue(L,{value:V}));const U=document.createElement("input");if(a.add(U),U.setAttribute("data-element-id",L),U.disabled=C.readOnly,this._setRequired(U,this.data.required),U.type="radio",U.name=C.fieldName,V&&U.setAttribute("checked",!0),U.tabIndex=h,U.addEventListener("change",Y=>{const{name:Q,checked:le}=Y.target;for(const _e of this._getElementsByName(Q,L))v.setValue(_e.id,{value:!1});v.setValue(L,{value:le})}),U.addEventListener("resetform",Y=>{const Q=C.defaultFieldValue;Y.target.checked=Q!=null&&Q===C.buttonValue}),this.enableScripting&&this.hasJSActions){const Y=C.buttonValue;U.addEventListener("updatefromsandbox",Q=>{const le={value:_e=>{const de=Y===_e.detail.value;for(const he of this._getElementsByName(_e.target.name)){const fe=de&&he.id===L;he.domElement&&(he.domElement.checked=fe),v.setValue(he.id,{value:fe})}}};this._dispatchEventFromSandbox(le,Q)}),this._setEventListeners(U,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.checked)}return this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.append(U),this.container}}class A extends t{constructor(v){super(v,{ignoreBorder:v.data.hasAppearance})}render(){const v=super.render();v.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(v.title=this.data.alternativeText);const C=v.lastChild;return this.enableScripting&&this.hasJSActions&&C&&(this._setDefaultPropertiesFromJS(C),C.addEventListener("updatefromsandbox",L=>{this._dispatchEventFromSandbox({},L)})),v}}class D extends s{constructor(v){super(v,{isRenderable:v.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const v=this.annotationStorage,C=this.data.id,L=v.getValue(C,{value:this.data.fieldValue}),V=document.createElement("select");a.add(V),V.setAttribute("data-element-id",C),V.disabled=this.data.readOnly,this._setRequired(V,this.data.required),V.name=this.data.fieldName,V.tabIndex=h;let U=this.data.combo&&this.data.options.length>0;this.data.combo||(V.size=this.data.options.length,this.data.multiSelect&&(V.multiple=!0)),V.addEventListener("resetform",de=>{const he=this.data.defaultFieldValue;for(const fe of V.options)fe.selected=fe.value===he});for(const de of this.data.options){const he=document.createElement("option");he.textContent=de.displayValue,he.value=de.exportValue,L.value.includes(de.exportValue)&&(he.setAttribute("selected",!0),U=!1),V.append(he)}let Y=null;if(U){const de=document.createElement("option");de.value=" ",de.setAttribute("hidden",!0),de.setAttribute("selected",!0),V.prepend(de),Y=()=>{de.remove(),V.removeEventListener("input",Y),Y=null},V.addEventListener("input",Y)}const Q=de=>{const he=de?"value":"textContent",{options:fe,multiple:re}=V;return re?Array.prototype.filter.call(fe,ce=>ce.selected).map(ce=>ce[he]):fe.selectedIndex===-1?null:fe[fe.selectedIndex][he]};let le=Q(!1);const _e=de=>{const he=de.target.options;return Array.prototype.map.call(he,fe=>({displayValue:fe.textContent,exportValue:fe.value}))};return this.enableScripting&&this.hasJSActions?(V.addEventListener("updatefromsandbox",de=>{const he={value(fe){Y?.();const re=fe.detail.value,ce=new Set(Array.isArray(re)?re:[re]);for(const Se of V.options)Se.selected=ce.has(Se.value);v.setValue(C,{value:Q(!0)}),le=Q(!1)},multipleSelection(fe){V.multiple=!0},remove(fe){const re=V.options,ce=fe.detail.remove;re[ce].selected=!1,V.remove(ce),re.length>0&&Array.prototype.findIndex.call(re,ve=>ve.selected)===-1&&(re[0].selected=!0),v.setValue(C,{value:Q(!0),items:_e(fe)}),le=Q(!1)},clear(fe){for(;V.length!==0;)V.remove(0);v.setValue(C,{value:null,items:[]}),le=Q(!1)},insert(fe){const{index:re,displayValue:ce,exportValue:Se}=fe.detail.insert,ve=V.children[re],be=document.createElement("option");be.textContent=ce,be.value=Se,ve?ve.before(be):V.append(be),v.setValue(C,{value:Q(!0),items:_e(fe)}),le=Q(!1)},items(fe){const{items:re}=fe.detail;for(;V.length!==0;)V.remove(0);for(const ce of re){const{displayValue:Se,exportValue:ve}=ce,be=document.createElement("option");be.textContent=Se,be.value=ve,V.append(be)}V.options.length>0&&(V.options[0].selected=!0),v.setValue(C,{value:Q(!0),items:_e(fe)}),le=Q(!1)},indices(fe){const re=new Set(fe.detail.indices);for(const ce of fe.target.options)ce.selected=re.has(ce.index);v.setValue(C,{value:Q(!0)}),le=Q(!1)},editable(fe){fe.target.disabled=!fe.detail.editable}};this._dispatchEventFromSandbox(he,de)}),V.addEventListener("input",de=>{const he=Q(!0);v.setValue(C,{value:he}),de.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:C,name:"Keystroke",value:le,changeEx:he,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(V,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],de=>de.target.value)):V.addEventListener("input",function(de){v.setValue(C,{value:Q(!0)})}),this.data.combo&&this._setTextStyle(V),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class P extends e{constructor(v){const{data:C,elements:L}=v;super(v,{isRenderable:e._hasPopupData(C)}),this.elements=L}render(){this.container.classList.add("popupAnnotation");const v=new R({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),C=[];for(const L of this.elements)L.popup=v,C.push(L.data.id),L.addHighlightArea();return this.container.setAttribute("aria-controls",C.map(L=>`${m.AnnotationPrefix}${L}`).join(",")),this.container}}class R{#e=null;#t=this.#u.bind(this);#n=this.#S.bind(this);#r=this.#w.bind(this);#s=this.#b.bind(this);#o=null;#a=null;#c=null;#l=null;#i=null;#f=null;#d=!1;#h=null;#p=null;#v=null;#g=null;#m=!1;constructor({container:v,color:C,elements:L,titleObj:V,modificationDate:U,contentsObj:Y,richText:Q,parent:le,rect:_e,parentRect:de,open:he}){this.#a=v,this.#g=V,this.#c=Y,this.#v=Q,this.#i=le,this.#o=C,this.#p=_e,this.#f=de,this.#l=L;const fe=E.PDFDateString.toDateObject(U);fe&&(this.#e=le.l10n.get("annotation_date_string",{date:fe.toLocaleDateString(),time:fe.toLocaleTimeString()})),this.trigger=L.flatMap(re=>re.getElementsToTriggerPopup());for(const re of this.trigger)re.addEventListener("click",this.#s),re.addEventListener("mouseenter",this.#r),re.addEventListener("mouseleave",this.#n),re.classList.add("popupTriggerArea");for(const re of L)re.container?.addEventListener("keydown",this.#t);this.#a.hidden=!0,he&&this.#b()}render(){if(this.#h)return;const{page:{view:v},viewport:{rawDims:{pageWidth:C,pageHeight:L,pageX:V,pageY:U}}}=this.#i,Y=this.#h=document.createElement("div");if(Y.className="popup",this.#o){const Le=Y.style.outlineColor=m.Util.makeHexColor(...this.#o);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Y.style.backgroundColor=`color-mix(in srgb, ${Le} 30%, white)`:Y.style.backgroundColor=m.Util.makeHexColor(...this.#o.map(tt=>Math.floor(.7*(255-tt)+tt)))}const Q=document.createElement("span");Q.className="header";const le=document.createElement("h1");if(Q.append(le),{dir:le.dir,str:le.textContent}=this.#g,Y.append(Q),this.#e){const Le=document.createElement("span");Le.classList.add("popupDate"),this.#e.then(We=>{Le.textContent=We}),Q.append(Le)}const _e=this.#c,de=this.#v;if(de?.str&&(!_e?.str||_e.str===de.str))X.XfaLayer.render({xfaHtml:de.html,intent:"richText",div:Y}),Y.lastChild.classList.add("richText","popupContent");else{const Le=this._formatContents(_e);Y.append(Le)}let he=!!this.#f,fe=he?this.#f:this.#p;for(const Le of this.#l)if(!fe||m.Util.intersect(Le.data.rect,fe)!==null){fe=Le.data.rect,he=!0;break}const re=m.Util.normalizeRect([fe[0],v[3]-fe[1]+v[1],fe[2],v[3]-fe[3]+v[1]]),Se=he?fe[2]-fe[0]+5:0,ve=re[0]+Se,be=re[1],{style:ke}=this.#a;ke.left=`${100*(ve-V)/C}%`,ke.top=`${100*(be-U)/L}%`,this.#a.append(Y)}_formatContents({str:v,dir:C}){const L=document.createElement("p");L.classList.add("popupContent"),L.dir=C;const V=v.split(/(?:\r\n?|\n)/);for(let U=0,Y=V.length;U<Y;++U){const Q=V[U];L.append(document.createTextNode(Q)),U<Y-1&&L.append(document.createElement("br"))}return L}#u(v){v.altKey||v.shiftKey||v.ctrlKey||v.metaKey||(v.key==="Enter"||v.key==="Escape"&&this.#d)&&this.#b()}#b(){this.#d=!this.#d,this.#d?(this.#w(),this.#a.addEventListener("click",this.#s),this.#a.addEventListener("keydown",this.#t)):(this.#S(),this.#a.removeEventListener("click",this.#s),this.#a.removeEventListener("keydown",this.#t))}#w(){this.#h||this.render(),this.isVisible?this.#d&&this.#a.classList.add("focused"):(this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#S(){this.#a.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#m=this.isVisible,this.#m&&(this.#a.hidden=!0)}maybeShow(){this.#m&&(this.#m=!1,this.#a.hidden=!1)}get isVisible(){return this.#a.hidden===!1}}class j extends e{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0}),this.textContent=v.data.textContent,this.textPosition=v.data.textPosition,this.annotationEditorType=m.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const v=document.createElement("div");v.classList.add("annotationTextContent"),v.setAttribute("role","comment");for(const C of this.textContent){const L=document.createElement("span");L.textContent=C,v.append(L)}this.container.append(v)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}d.FreeTextAnnotationElement=j;class w extends e{#e=null;constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const v=this.data,{width:C,height:L}=u(v.rect),V=this.svgFactory.create(C,L,!0),U=this.#e=this.svgFactory.createElement("svg:line");return U.setAttribute("x1",v.rect[2]-v.lineCoordinates[0]),U.setAttribute("y1",v.rect[3]-v.lineCoordinates[1]),U.setAttribute("x2",v.rect[2]-v.lineCoordinates[2]),U.setAttribute("y2",v.rect[3]-v.lineCoordinates[3]),U.setAttribute("stroke-width",v.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),V.append(U),this.container.append(V),!v.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class N extends e{#e=null;constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const v=this.data,{width:C,height:L}=u(v.rect),V=this.svgFactory.create(C,L,!0),U=v.borderStyle.width,Y=this.#e=this.svgFactory.createElement("svg:rect");return Y.setAttribute("x",U/2),Y.setAttribute("y",U/2),Y.setAttribute("width",C-U),Y.setAttribute("height",L-U),Y.setAttribute("stroke-width",U||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),V.append(Y),this.container.append(V),!v.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class H extends e{#e=null;constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const v=this.data,{width:C,height:L}=u(v.rect),V=this.svgFactory.create(C,L,!0),U=v.borderStyle.width,Y=this.#e=this.svgFactory.createElement("svg:ellipse");return Y.setAttribute("cx",C/2),Y.setAttribute("cy",L/2),Y.setAttribute("rx",C/2-U/2),Y.setAttribute("ry",L/2-U/2),Y.setAttribute("stroke-width",U||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),V.append(Y),this.container.append(V),!v.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class G extends e{#e=null;constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const v=this.data,{width:C,height:L}=u(v.rect),V=this.svgFactory.create(C,L,!0);let U=[];for(const Q of v.vertices){const le=Q.x-v.rect[0],_e=v.rect[3]-Q.y;U.push(le+","+_e)}U=U.join(" ");const Y=this.#e=this.svgFactory.createElement(this.svgElementName);return Y.setAttribute("points",U),Y.setAttribute("stroke-width",v.borderStyle.width||1),Y.setAttribute("stroke","transparent"),Y.setAttribute("fill","transparent"),V.append(Y),this.container.append(V),!v.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class $ extends G{constructor(v){super(v),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class W extends e{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class k extends e{#e=[];constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=m.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const v=this.data,{width:C,height:L}=u(v.rect),V=this.svgFactory.create(C,L,!0);for(const U of v.inkLists){let Y=[];for(const le of U){const _e=le.x-v.rect[0],de=v.rect[3]-le.y;Y.push(`${_e},${de}`)}Y=Y.join(" ");const Q=this.svgFactory.createElement(this.svgElementName);this.#e.push(Q),Q.setAttribute("points",Y),Q.setAttribute("stroke-width",v.borderStyle.width||1),Q.setAttribute("stroke","transparent"),Q.setAttribute("fill","transparent"),!v.popupRef&&this.hasPopupData&&this._createPopup(),V.append(Q)}return this.container.append(V),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}d.InkAnnotationElement=k;class _ extends e{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class p extends e{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class b extends e{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class M extends e{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class F extends e{constructor(v){super(v,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}d.StampAnnotationElement=F;class I extends e{#e=null;constructor(v){super(v,{isRenderable:!0});const{filename:C,content:L}=this.data.file;this.filename=(0,E.getFilenameFromUrl)(C,!0),this.content=L,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:C,content:L})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:v,data:C}=this;let L;C.hasAppearance||C.fillAlpha===0?L=document.createElement("div"):(L=document.createElement("img"),L.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(C.name)?"paperclip":"pushpin"}.svg`,C.fillAlpha&&C.fillAlpha<1&&(L.style=`filter: opacity(${Math.round(C.fillAlpha*100)}%);`)),L.addEventListener("dblclick",this.#t.bind(this)),this.#e=L;const{isMac:V}=m.FeatureTest.platform;return v.addEventListener("keydown",U=>{U.key==="Enter"&&(V?U.metaKey:U.ctrlKey)&&this.#t()}),!C.popupRef&&this.hasPopupData?this._createPopup():L.classList.add("popupTriggerArea"),v.append(L),v}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class q{#e=null;#t=null;#n=new Map;constructor({div:v,accessibilityManager:C,annotationCanvasMap:L,l10n:V,page:U,viewport:Y}){this.div=v,this.#e=C,this.#t=L,this.l10n=V,this.page=U,this.viewport=Y,this.zIndex=0,this.l10n||=z.NullL10n}#r(v,C){const L=v.firstChild||v;L.id=`${m.AnnotationPrefix}${C}`,this.div.append(v),this.#e?.moveElementInDOM(this.div,v,L,!1)}async render(v){const{annotations:C}=v,L=this.div;(0,E.setLayerDimensions)(L,this.viewport);const V=new Map,U={data:null,layer:L,linkService:v.linkService,downloadManager:v.downloadManager,imageResourcesPath:v.imageResourcesPath||"",renderForms:v.renderForms!==!1,svgFactory:new E.DOMSVGFactory,annotationStorage:v.annotationStorage||new o.AnnotationStorage,enableScripting:v.enableScripting===!0,hasJSActions:v.hasJSActions,fieldObjects:v.fieldObjects,parent:this,elements:null};for(const Y of C){if(Y.noHTML)continue;const Q=Y.annotationType===m.AnnotationType.POPUP;if(Q){const de=V.get(Y.id);if(!de)continue;U.elements=de}else{const{width:de,height:he}=u(Y.rect);if(de<=0||he<=0)continue}U.data=Y;const le=c.create(U);if(!le.isRenderable)continue;if(!Q&&Y.popupRef){const de=V.get(Y.popupRef);de?de.push(le):V.set(Y.popupRef,[le])}le.annotationEditorType>0&&this.#n.set(le.data.id,le);const _e=le.render();Y.hidden&&(_e.style.visibility="hidden"),this.#r(_e,Y.id)}this.#s(),await this.l10n.translate(L)}update({viewport:v}){const C=this.div;this.viewport=v,(0,E.setLayerDimensions)(C,{rotation:v.rotation}),this.#s(),C.hidden=!1}#s(){if(!this.#t)return;const v=this.div;for(const[C,L]of this.#t){const V=v.querySelector(`[data-annotation-id="${C}"]`);if(!V)continue;const{firstChild:U}=V;U?U.nodeName==="CANVAS"?U.replaceWith(L):U.before(L):V.append(L)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(v){return this.#n.get(v)}}d.AnnotationLayer=q}),((r,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ColorConverters=void 0;function i(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function m(o){return Math.max(0,Math.min(255,255*o))}class E{static CMYK_G([x,z,X,h]){return["G",1-Math.min(1,.3*x+.59*X+.11*z+h)]}static G_CMYK([x]){return["CMYK",0,0,0,1-x]}static G_RGB([x]){return["RGB",x,x,x]}static G_rgb([x]){return x=m(x),[x,x,x]}static G_HTML([x]){const z=i(x);return`#${z}${z}${z}`}static RGB_G([x,z,X]){return["G",.3*x+.59*z+.11*X]}static RGB_rgb(x){return x.map(m)}static RGB_HTML(x){return`#${x.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([x,z,X,h]){return["RGB",1-Math.min(1,x+h),1-Math.min(1,X+h),1-Math.min(1,z+h)]}static CMYK_rgb([x,z,X,h]){return[m(1-Math.min(1,x+h)),m(1-Math.min(1,X+h)),m(1-Math.min(1,z+h))]}static CMYK_HTML(x){const z=this.CMYK_RGB(x).slice(1);return this.RGB_HTML(z)}static RGB_CMYK([x,z,X]){const h=1-x,n=1-z,a=1-X,u=Math.min(h,n,a);return["CMYK",h,n,a,u]}}d.ColorConverters=E}),((r,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NullL10n=void 0,d.getL10nFallback=m;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function m(x,z){switch(x){case"find_match_count":x=`find_match_count[${z.total===1?"one":"other"}]`;break;case"find_match_count_limit":x=`find_match_count_limit[${z.limit===1?"one":"other"}]`;break}return i[x]||""}function E(x,z){return z?x.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(X,h)=>h in z?z[h]:"{{"+h+"}}"):x}const o={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(x,z=null,X=m(x,z)){return E(X,z)},async translate(x){}};d.NullL10n=o}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaLayer=void 0;var m=i(25);class E{static setupStorage(x,z,X,h,n){const a=h.getValue(z,{value:null});switch(X.name){case"textarea":if(a.value!==null&&(x.textContent=a.value),n==="print")break;x.addEventListener("input",u=>{h.setValue(z,{value:u.target.value})});break;case"input":if(X.attributes.type==="radio"||X.attributes.type==="checkbox"){if(a.value===X.attributes.xfaOn?x.setAttribute("checked",!0):a.value===X.attributes.xfaOff&&x.removeAttribute("checked"),n==="print")break;x.addEventListener("change",u=>{h.setValue(z,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&x.setAttribute("value",a.value),n==="print")break;x.addEventListener("input",u=>{h.setValue(z,{value:u.target.value})})}break;case"select":if(a.value!==null){x.setAttribute("value",a.value);for(const u of X.children)u.attributes.value===a.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}x.addEventListener("input",u=>{const c=u.target.options,e=c.selectedIndex===-1?"":c[c.selectedIndex].value;h.setValue(z,{value:e})});break}}static setAttributes({html:x,element:z,storage:X=null,intent:h,linkService:n}){const{attributes:a}=z,u=x instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${h}`);for(const[c,e]of Object.entries(a))if(e!=null)switch(c){case"class":e.length&&x.setAttribute(c,e.join(" "));break;case"dataId":break;case"id":x.setAttribute("data-element-id",e);break;case"style":Object.assign(x.style,e);break;case"textContent":x.textContent=e;break;default:(!u||c!=="href"&&c!=="newWindow")&&x.setAttribute(c,e)}u&&n.addLinkAttributes(x,a.href,a.newWindow),X&&a.dataId&&this.setupStorage(x,a.dataId,z,X)}static render(x){const z=x.annotationStorage,X=x.linkService,h=x.xfaHtml,n=x.intent||"display",a=document.createElement(h.name);h.attributes&&this.setAttributes({html:a,element:h,intent:n,linkService:X});const u=[[h,-1,a]],c=x.div;if(c.append(a),x.viewport){const t=`matrix(${x.viewport.transform.join(",")})`;c.style.transform=t}n!=="richText"&&c.setAttribute("class","xfaLayer xfaFont");const e=[];for(;u.length>0;){const[t,l,s]=u.at(-1);if(l+1===t.children.length){u.pop();continue}const f=t.children[++u.at(-1)[1]];if(f===null)continue;const{name:T}=f;if(T==="#text"){const g=document.createTextNode(f.value);e.push(g),s.append(g);continue}const y=f?.attributes?.xmlns?document.createElementNS(f.attributes.xmlns,T):document.createElement(T);if(s.append(y),f.attributes&&this.setAttributes({html:y,element:f,storage:z,intent:n,linkService:X}),f.children&&f.children.length>0)u.push([f,-1,y]);else if(f.value){const g=document.createTextNode(f.value);m.XfaText.shouldBuildText(T)&&e.push(g),y.append(g)}}for(const t of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))t.setAttribute("readOnly",!0);return{textDivs:e}}static update(x){const z=`matrix(${x.viewport.transform.join(",")})`;x.div.style.transform=z,x.div.hidden=!1}}d.XfaLayer=E}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.InkEditor=void 0;var m=i(1),E=i(4),o=i(29),x=i(6),z=i(5);class X extends E.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#s=this.canvasPointerup.bind(this);#o=this.canvasPointerdown.bind(this);#a=new Path2D;#c=!1;#l=!1;#i=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(n){super({...n,name:"inkEditor"}),this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n){E.AnnotationEditor.initialize(n,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(n,a){switch(n){case m.AnnotationEditorParamsType.INK_THICKNESS:X._defaultThickness=a;break;case m.AnnotationEditorParamsType.INK_COLOR:X._defaultColor=a;break;case m.AnnotationEditorParamsType.INK_OPACITY:X._defaultOpacity=a/100;break}}updateParams(n,a){switch(n){case m.AnnotationEditorParamsType.INK_THICKNESS:this.#v(a);break;case m.AnnotationEditorParamsType.INK_COLOR:this.#g(a);break;case m.AnnotationEditorParamsType.INK_OPACITY:this.#m(a);break}}static get defaultPropertiesToUpdate(){return[[m.AnnotationEditorParamsType.INK_THICKNESS,X._defaultThickness],[m.AnnotationEditorParamsType.INK_COLOR,X._defaultColor||E.AnnotationEditor._defaultLineColor],[m.AnnotationEditorParamsType.INK_OPACITY,Math.round(X._defaultOpacity*100)]]}get propertiesToUpdate(){return[[m.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||X._defaultThickness],[m.AnnotationEditorParamsType.INK_COLOR,this.color||X._defaultColor||E.AnnotationEditor._defaultLineColor],[m.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??X._defaultOpacity))]]}#v(n){const a=this.thickness;this.addCommands({cmd:()=>{this.thickness=n,this.#C()},undo:()=>{this.thickness=a,this.#C()},mustExec:!0,type:m.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(n){const a=this.color;this.addCommands({cmd:()=>{this.color=n,this.#_()},undo:()=>{this.color=a,this.#_()},mustExec:!0,type:m.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(n){n/=100;const a=this.opacity;this.addCommands({cmd:()=>{this.opacity=n,this.#_()},undo:()=>{this.opacity=a,this.#_()},mustExec:!0,type:m.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#x(),this.#T()),this.isAttachedToDOM||(this.parent.add(this),this.#E()),this.#C()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,a]=this.parentDimensions,u=this.width*n,c=this.height*a;this.setDimensions(u,c)}enableEditMode(){this.#c||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#o))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#o))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){const{parentRotation:n,parentDimensions:[a,u]}=this;switch(n){case 90:return[0,u,u,a];case 180:return[a,u,a,u];case 270:return[a,0,u,a];default:return[0,0,a,u]}}#b(){const{ctx:n,color:a,opacity:u,thickness:c,parentScale:e,scaleFactor:t}=this;n.lineWidth=c*e/t,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${a}${(0,z.opacityToHex)(u)}`}#w(n,a){this.canvas.addEventListener("contextmenu",x.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#s),this.canvas.removeEventListener("pointerdown",this.#o),this.isEditing=!0,this.#i||(this.#i=!0,this.#E(),this.thickness||=X._defaultThickness,this.color||=X._defaultColor||E.AnnotationEditor._defaultLineColor,this.opacity??=X._defaultOpacity),this.currentPath.push([n,a]),this.#l=!1,this.#b(),this.#p=()=>{this.#I(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#S(n,a){const[u,c]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===u&&a===c)return;const e=this.currentPath;let t=this.#a;if(e.push([n,a]),this.#l=!0,e.length<=2){t.moveTo(...e[0]),t.lineTo(n,a);return}e.length===3&&(this.#a=t=new Path2D,t.moveTo(...e[0])),this.#D(t,...e.at(-3),...e.at(-2),n,a)}#P(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);this.#a.lineTo(...n)}#M(n,a){this.#p=null,n=Math.min(Math.max(n,0),this.canvas.width),a=Math.min(Math.max(a,0),this.canvas.height),this.#S(n,a),this.#P();let u;if(this.currentPath.length!==1)u=this.#O();else{const s=[n,a];u=[[s,s.slice(),s.slice(),s]]}const c=this.#a,e=this.currentPath;this.currentPath=[],this.#a=new Path2D;const t=()=>{this.allRawPaths.push(e),this.paths.push(u),this.bezierPath2D.push(c),this.rebuild()},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#x(),this.#T()),this.#C())};this.addCommands({cmd:t,undo:l,mustExec:!0})}#I(){if(!this.#l)return;this.#l=!1;const n=Math.ceil(this.thickness*this.parentScale),a=this.currentPath.slice(-3),u=a.map(t=>t[0]),c=a.map(t=>t[1]);Math.min(...u)-n,Math.max(...u)+n,Math.min(...c)-n,Math.max(...c)+n;const{ctx:e}=this;e.save(),e.clearRect(0,0,this.canvas.width,this.canvas.height);for(const t of this.bezierPath2D)e.stroke(t);e.stroke(this.#a),e.restore()}#D(n,a,u,c,e,t,l){const s=(a+c)/2,f=(u+e)/2,T=(c+t)/2,y=(e+l)/2;n.bezierCurveTo(s+2*(c-s)/3,f+2*(e-f)/3,T+2*(c-T)/3,y+2*(e-y)/3,T,y)}#O(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const a=[];let u,[c,e]=n[0];for(u=1;u<n.length-2;u++){const[g,A]=n[u],[D,P]=n[u+1],R=(g+D)/2,j=(A+P)/2,w=[c+2*(g-c)/3,e+2*(A-e)/3],N=[R+2*(g-R)/3,j+2*(A-j)/3];a.push([[c,e],w,N,[R,j]]),[c,e]=[R,j]}const[t,l]=n[u],[s,f]=n[u+1],T=[c+2*(t-c)/3,e+2*(l-e)/3],y=[s+2*(t-s)/3,f+2*(l-f)/3];return a.push([[c,e],T,y,[s,f]]),a}#_(){if(this.isEmpty()){this.#A();return}this.#b();const{canvas:n,ctx:a}=this;a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,n.width,n.height),this.#A();for(const u of this.bezierPath2D)a.stroke(u)}commit(){this.#c||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#c=!0,this.div.classList.add("disabled"),this.#C(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||this.#c||(this.setInForeground(),n.preventDefault(),n.type!=="mouse"&&this.div.focus(),this.#w(n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),this.#S(n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),this.#F(n)}canvasPointerleave(n){this.#F(n)}#F(n){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#s),this.canvas.addEventListener("pointerdown",this.#o),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",x.noContextMenu)},10),this.#M(n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#x(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",E.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(n=>this.canvas?.setAttribute("aria-label",n)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#T(){this.#f=new ResizeObserver(n=>{const a=n[0].contentRect;a.width&&a.height&&this.setDimensions(a.width,a.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#c}render(){if(this.div)return this.div;let n,a;this.width&&(n=this.x,a=this.y),super.render(),E.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(l=>this.div?.setAttribute("aria-label",l));const[u,c,e,t]=this.#u();if(this.setAt(u,c,0,0),this.setDims(e,t),this.#x(),this.width){const[l,s]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*s),this.setAt(n*l,a*s,this.width*l,this.height*s),this.#i=!0,this.#E(),this.setDims(this.width*l,this.height*s),this.#_(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#T(),this.div}#E(){if(!this.#i)return;const[n,a]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*a),this.#A()}setDimensions(n,a){const u=Math.round(n),c=Math.round(a);if(this.#d===u&&this.#h===c)return;this.#d=u,this.#h=c,this.canvas.style.visibility="hidden";const[e,t]=this.parentDimensions;this.width=n/e,this.height=a/t,this.fixAndSetPosition(),this.#c&&this.#k(n,a),this.#E(),this.#_(),this.canvas.style.visibility="visible",this.fixDims()}#k(n,a){const u=this.#L(),c=(n-u)/this.#t,e=(a-u)/this.#e;this.scaleFactor=Math.min(c,e)}#A(){const n=this.#L()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)}static#N(n){const a=new Path2D;for(let u=0,c=n.length;u<c;u++){const[e,t,l,s]=n[u];u===0&&a.moveTo(...e),a.bezierCurveTo(t[0],t[1],l[0],l[1],s[0],s[1])}return a}static#B(n,a,u){const[c,e,t,l]=a;switch(u){case 0:for(let s=0,f=n.length;s<f;s+=2)n[s]+=c,n[s+1]=l-n[s+1];break;case 90:for(let s=0,f=n.length;s<f;s+=2){const T=n[s];n[s]=n[s+1]+c,n[s+1]=T+e}break;case 180:for(let s=0,f=n.length;s<f;s+=2)n[s]=t-n[s],n[s+1]+=e;break;case 270:for(let s=0,f=n.length;s<f;s+=2){const T=n[s];n[s]=t-n[s+1],n[s+1]=l-T}break;default:throw new Error("Invalid rotation")}return n}static#j(n,a,u){const[c,e,t,l]=a;switch(u){case 0:for(let s=0,f=n.length;s<f;s+=2)n[s]-=c,n[s+1]=l-n[s+1];break;case 90:for(let s=0,f=n.length;s<f;s+=2){const T=n[s];n[s]=n[s+1]-e,n[s+1]=T-c}break;case 180:for(let s=0,f=n.length;s<f;s+=2)n[s]=t-n[s],n[s+1]-=e;break;case 270:for(let s=0,f=n.length;s<f;s+=2){const T=n[s];n[s]=l-n[s+1],n[s+1]=t-T}break;default:throw new Error("Invalid rotation")}return n}#z(n,a,u,c){const e=[],t=this.thickness/2,l=n*a+t,s=n*u+t;for(const f of this.paths){const T=[],y=[];for(let g=0,A=f.length;g<A;g++){const[D,P,R,j]=f[g],w=n*D[0]+l,N=n*D[1]+s,H=n*P[0]+l,G=n*P[1]+s,$=n*R[0]+l,W=n*R[1]+s,k=n*j[0]+l,_=n*j[1]+s;g===0&&(T.push(w,N),y.push(w,N)),T.push(H,G,$,W,k,_),y.push(H,G),g===A-1&&y.push(k,_)}e.push({bezier:X.#B(T,c,this.rotation),points:X.#B(y,c,this.rotation)})}return e}#R(){let n=1/0,a=-1/0,u=1/0,c=-1/0;for(const e of this.paths)for(const[t,l,s,f]of e){const T=m.Util.bezierBoundingBox(...t,...l,...s,...f);n=Math.min(n,T[0]),u=Math.min(u,T[1]),a=Math.max(a,T[2]),c=Math.max(c,T[3])}return[n,u,a,c]}#L(){return this.#c?Math.ceil(this.thickness*this.parentScale):0}#C(n=!1){if(this.isEmpty())return;if(!this.#c){this.#_();return}const a=this.#R(),u=this.#L();this.#t=Math.max(E.AnnotationEditor.MIN_SIZE,a[2]-a[0]),this.#e=Math.max(E.AnnotationEditor.MIN_SIZE,a[3]-a[1]);const c=Math.ceil(u+this.#t*this.scaleFactor),e=Math.ceil(u+this.#e*this.scaleFactor),[t,l]=this.parentDimensions;this.width=c/t,this.height=e/l,this.setAspectRatio(c,e);const s=this.translationX,f=this.translationY;this.translationX=-a[0],this.translationY=-a[1],this.#E(),this.#_(),this.#d=c,this.#h=e,this.setDims(c,e);const T=n?u/this.scaleFactor/2:0;this.translate(s-this.translationX-T,f-this.translationY-T)}static deserialize(n,a,u){if(n instanceof o.InkAnnotationElement)return null;const c=super.deserialize(n,a,u);c.thickness=n.thickness,c.color=m.Util.makeHexColor(...n.color),c.opacity=n.opacity;const[e,t]=c.pageDimensions,l=c.width*e,s=c.height*t,f=c.parentScale,T=n.thickness/2;c.#c=!0,c.#d=Math.round(l),c.#h=Math.round(s);const{paths:y,rect:g,rotation:A}=n;for(let{bezier:P}of y){P=X.#j(P,g,A);const R=[];c.paths.push(R);let j=f*(P[0]-T),w=f*(P[1]-T);for(let H=2,G=P.length;H<G;H+=6){const $=f*(P[H]-T),W=f*(P[H+1]-T),k=f*(P[H+2]-T),_=f*(P[H+3]-T),p=f*(P[H+4]-T),b=f*(P[H+5]-T);R.push([[j,w],[$,W],[k,_],[p,b]]),j=p,w=b}const N=this.#N(R);c.bezierPath2D.push(N)}const D=c.#R();return c.#t=Math.max(E.AnnotationEditor.MIN_SIZE,D[2]-D[0]),c.#e=Math.max(E.AnnotationEditor.MIN_SIZE,D[3]-D[1]),c.#k(l,s),c}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),a=E.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:m.AnnotationEditorType.INK,color:a,thickness:this.thickness,opacity:this.opacity,paths:this.#z(this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}d.InkEditor=X}),((r,d,i)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StampEditor=void 0;var m=i(1),E=i(4),o=i(6),x=i(29);class z extends E.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#s=null;#o=null;#a=null;#c=null;#l=!1;#i=!1;static _type="stamp";constructor(h){super({...h,name:"stampEditor"}),this.#r=h.bitmapUrl,this.#s=h.bitmapFile}static initialize(h){E.AnnotationEditor.initialize(h)}static get supportedTypes(){const h=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,m.shadow)(this,"supportedTypes",h.map(n=>`image/${n}`))}static get supportedTypesStr(){return(0,m.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(h){return this.supportedTypes.includes(h)}static paste(h,n){n.pasteEditor(m.AnnotationEditorType.STAMP,{bitmapFile:h.getAsFile()})}#f(h,n=!1){if(!h){this.remove();return}this.#e=h.bitmap,n||(this.#t=h.id,this.#l=h.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#o&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#f(n,!0)).finally(()=>this.#d());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(a=>this.#f(a)).finally(()=>this.#d());return}if(this.#s){const n=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(a=>this.#f(a)).finally(()=>this.#d());return}const h=document.createElement("input");h.type="file",h.accept=z.supportedTypesStr,this.#n=new Promise(n=>{h.addEventListener("change",async()=>{if(!h.files||h.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(h.files[0]);this.#f(a)}n()}),h.addEventListener("cancel",()=>{this.remove(),n()})}).finally(()=>this.#d()),h.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#a?.disconnect(),this.#a=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#s)}get isResizable(){return!0}render(){if(this.div)return this.div;let h,n;if(this.width&&(h=this.x,n=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){const[a,u]=this.parentDimensions;this.setAt(h*a,n*u,this.width*a,this.height*u)}return this.div}#p(){const{div:h}=this;let{width:n,height:a}=this.#e;const[u,c]=this.pageDimensions,e=.75;if(this.width)n=this.width*u,a=this.height*c;else if(n>e*u||a>e*c){const f=Math.min(e*u/n,e*c/a);n*=f,a*=f}const[t,l]=this.parentDimensions;this.setDims(n*t/u,a*l/c),this._uiManager.enableWaiting(!1);const s=this.#o=document.createElement("canvas");h.append(s),h.hidden=!1,this.#m(n,a),this.#b(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#v(h,n){const[a,u]=this.parentDimensions;this.width=h/a,this.height=n/u,this.setDims(h,n),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#c!==null&&clearTimeout(this.#c);const c=200;this.#c=setTimeout(()=>{this.#c=null,this.#m(h,n)},c)}#g(h,n){const{width:a,height:u}=this.#e;let c=a,e=u,t=this.#e;for(;c>2*h||e>2*n;){const l=c,s=e;c>2*h&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),e>2*n&&(e=e>=16384?Math.floor(e/2)-1:Math.ceil(e/2));const f=new OffscreenCanvas(c,e);f.getContext("2d").drawImage(t,0,0,l,s,0,0,c,e),t=f.transferToImageBitmap()}return t}#m(h,n){h=Math.ceil(h),n=Math.ceil(n);const a=this.#o;if(!a||a.width===h&&a.height===n)return;a.width=h,a.height=n;const u=this.#l?this.#e:this.#g(h,n),c=a.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(u,0,0,u.width,u.height,0,0,h,n)}#u(h){if(h){if(this.#l){const u=this._uiManager.imageManager.getSvgUrl(this.#t);if(u)return u}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#l){const[n,a]=this.pageDimensions,u=Math.round(this.width*n*o.PixelsPerInch.PDF_TO_CSS_UNITS),c=Math.round(this.height*a*o.PixelsPerInch.PDF_TO_CSS_UNITS),e=new OffscreenCanvas(u,c);return e.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,u,c),e.transferToImageBitmap()}return structuredClone(this.#e)}#b(){this.#a=new ResizeObserver(h=>{const n=h[0].contentRect;n.width&&n.height&&this.#v(n.width,n.height)}),this.#a.observe(this.div)}static deserialize(h,n,a){if(h instanceof x.StampAnnotationElement)return null;const u=super.deserialize(h,n,a),{rect:c,bitmapUrl:e,bitmapId:t,isSvg:l,accessibilityData:s}=h;t&&a.imageManager.isValidId(t)?u.#t=t:u.#r=e,u.#l=l;const[f,T]=u.pageDimensions;return u.width=(c[2]-c[0])/f,u.height=(c[3]-c[1])/T,s&&(u.altTextData=s),u}serialize(h=!1,n=null){if(this.isEmpty())return null;const a={annotationType:m.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(h)return a.bitmapUrl=this.#u(!0),a.accessibilityData=this.altTextData,a;const{decorative:u,altText:c}=this.altTextData;if(!u&&c&&(a.accessibilityData={type:"Figure",alt:c}),n===null)return a;n.stamps||=new Map;const e=this.#l?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:e,serialized:a}),a.bitmap=this.#u(!1);else if(this.#l){const t=n.stamps.get(this.#t);e>t.area&&(t.area=e,t.serialized.bitmap.close(),t.serialized.bitmap=this.#u(!1))}return a}}d.StampEditor=z})],__webpack_module_cache__={};function __w_pdfjs_require__(r){var d=__webpack_module_cache__[r];if(d!==void 0)return d.exports;var i=__webpack_module_cache__[r]={exports:{}};return __webpack_modules__[r](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var r=__webpack_exports__;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AbortException",{enumerable:!0,get:function(){return d.AbortException}}),Object.defineProperty(r,"AnnotationEditorLayer",{enumerable:!0,get:function(){return o.AnnotationEditorLayer}}),Object.defineProperty(r,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return d.AnnotationEditorParamsType}}),Object.defineProperty(r,"AnnotationEditorType",{enumerable:!0,get:function(){return d.AnnotationEditorType}}),Object.defineProperty(r,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return x.AnnotationEditorUIManager}}),Object.defineProperty(r,"AnnotationLayer",{enumerable:!0,get:function(){return z.AnnotationLayer}}),Object.defineProperty(r,"AnnotationMode",{enumerable:!0,get:function(){return d.AnnotationMode}}),Object.defineProperty(r,"CMapCompressionType",{enumerable:!0,get:function(){return d.CMapCompressionType}}),Object.defineProperty(r,"DOMSVGFactory",{enumerable:!0,get:function(){return m.DOMSVGFactory}}),Object.defineProperty(r,"FeatureTest",{enumerable:!0,get:function(){return d.FeatureTest}}),Object.defineProperty(r,"GlobalWorkerOptions",{enumerable:!0,get:function(){return X.GlobalWorkerOptions}}),Object.defineProperty(r,"ImageKind",{enumerable:!0,get:function(){return d.ImageKind}}),Object.defineProperty(r,"InvalidPDFException",{enumerable:!0,get:function(){return d.InvalidPDFException}}),Object.defineProperty(r,"MissingPDFException",{enumerable:!0,get:function(){return d.MissingPDFException}}),Object.defineProperty(r,"OPS",{enumerable:!0,get:function(){return d.OPS}}),Object.defineProperty(r,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(r,"PDFDateString",{enumerable:!0,get:function(){return m.PDFDateString}}),Object.defineProperty(r,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(r,"PasswordResponses",{enumerable:!0,get:function(){return d.PasswordResponses}}),Object.defineProperty(r,"PermissionFlag",{enumerable:!0,get:function(){return d.PermissionFlag}}),Object.defineProperty(r,"PixelsPerInch",{enumerable:!0,get:function(){return m.PixelsPerInch}}),Object.defineProperty(r,"PromiseCapability",{enumerable:!0,get:function(){return d.PromiseCapability}}),Object.defineProperty(r,"RenderingCancelledException",{enumerable:!0,get:function(){return m.RenderingCancelledException}}),Object.defineProperty(r,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(r,"UnexpectedResponseException",{enumerable:!0,get:function(){return d.UnexpectedResponseException}}),Object.defineProperty(r,"Util",{enumerable:!0,get:function(){return d.Util}}),Object.defineProperty(r,"VerbosityLevel",{enumerable:!0,get:function(){return d.VerbosityLevel}}),Object.defineProperty(r,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(r,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(r,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return d.createValidAbsoluteUrl}}),Object.defineProperty(r,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(r,"getFilenameFromUrl",{enumerable:!0,get:function(){return m.getFilenameFromUrl}}),Object.defineProperty(r,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return m.getPdfFilenameFromUrl}}),Object.defineProperty(r,"getXfaPageViewport",{enumerable:!0,get:function(){return m.getXfaPageViewport}}),Object.defineProperty(r,"isDataScheme",{enumerable:!0,get:function(){return m.isDataScheme}}),Object.defineProperty(r,"isPdfFile",{enumerable:!0,get:function(){return m.isPdfFile}}),Object.defineProperty(r,"loadScript",{enumerable:!0,get:function(){return m.loadScript}}),Object.defineProperty(r,"noContextMenu",{enumerable:!0,get:function(){return m.noContextMenu}}),Object.defineProperty(r,"normalizeUnicode",{enumerable:!0,get:function(){return d.normalizeUnicode}}),Object.defineProperty(r,"renderTextLayer",{enumerable:!0,get:function(){return E.renderTextLayer}}),Object.defineProperty(r,"setLayerDimensions",{enumerable:!0,get:function(){return m.setLayerDimensions}}),Object.defineProperty(r,"shadow",{enumerable:!0,get:function(){return d.shadow}}),Object.defineProperty(r,"updateTextLayer",{enumerable:!0,get:function(){return E.updateTextLayer}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return i.version}});var d=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),m=__w_pdfjs_require__(6),E=__w_pdfjs_require__(26),o=__w_pdfjs_require__(27),x=__w_pdfjs_require__(5),z=__w_pdfjs_require__(29),X=__w_pdfjs_require__(14),h=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf)),pdf.exports}var hasRequiredCore_min;function requireCore_min(){return hasRequiredCore_min||(hasRequiredCore_min=1,(function(r){var d=requireReact(),i=requirePdf();function m(S){var O=Object.create(null);return S&&Object.keys(S).forEach((function(K){if(K!=="default"){var Z=Object.getOwnPropertyDescriptor(S,K);Object.defineProperty(O,K,Z.get?Z:{enumerable:!0,get:function(){return S[K]}})}})),O.default=S,Object.freeze(O)}var E,o=m(d),x=m(i);r.AnnotationType=void 0,(E=r.AnnotationType||(r.AnnotationType={}))[E.Text=1]="Text",E[E.Link=2]="Link",E[E.FreeText=3]="FreeText",E[E.Line=4]="Line",E[E.Square=5]="Square",E[E.Circle=6]="Circle",E[E.Polygon=7]="Polygon",E[E.Polyline=8]="Polyline",E[E.Highlight=9]="Highlight",E[E.Underline=10]="Underline",E[E.Squiggly=11]="Squiggly",E[E.StrikeOut=12]="StrikeOut",E[E.Stamp=13]="Stamp",E[E.Caret=14]="Caret",E[E.Ink=15]="Ink",E[E.Popup=16]="Popup",E[E.FileAttachment=17]="FileAttachment";var z=function(S,O){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,Z){K.__proto__=Z}||function(K,Z){for(var ee in Z)Object.prototype.hasOwnProperty.call(Z,ee)&&(K[ee]=Z[ee])},z(S,O)};function X(S,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function K(){this.constructor=S}z(S,O),S.prototype=O===null?Object.create(O):(K.prototype=O.prototype,new K)}var h,n=function(){return n=Object.assign||function(S){for(var O,K=1,Z=arguments.length;K<Z;K++)for(var ee in O=arguments[K])Object.prototype.hasOwnProperty.call(O,ee)&&(S[ee]=O[ee]);return S},n.apply(this,arguments)};r.TextDirection=void 0,(h=r.TextDirection||(r.TextDirection={})).RightToLeft="RTL",h.LeftToRight="LTR";var a,u=o.createContext({currentTheme:"light",direction:r.TextDirection.LeftToRight,setCurrentTheme:function(){}}),c=function(S){var O=[];return Object.keys(S).forEach((function(K){K&&S[K]&&O.push(K)})),O.join(" ")},e=typeof window<"u"?o.useLayoutEffect:o.useEffect,t=function(S){var O=o.useRef(null),K=S.once,Z=S.threshold,ee=S.onVisibilityChanged;return e((function(){var te=O.current;if(te){var oe=new IntersectionObserver((function(ne){ne.forEach((function(J){var ae=J.isIntersecting,ie=J.intersectionRatio;ee({isVisible:ae,ratio:ie}),ae&&K&&(oe.unobserve(te),oe.disconnect())}))}),{threshold:Z||0});return oe.observe(te),function(){oe.unobserve(te),oe.disconnect()}}}),[]),O},l=function(S){var O=S.children,K=S.ignoreDirection,Z=K!==void 0&&K,ee=S.size,te=ee===void 0?24:ee,oe=o.useContext(u).direction,ne=!Z&&oe===r.TextDirection.RightToLeft,J="".concat(te||24,"px");return o.createElement("svg",{"aria-hidden":"true",className:c({"rpv-core__icon":!0,"rpv-core__icon--rtl":ne}),focusable:"false",height:J,viewBox:"0 0 24 24",width:J},O)},s=function(){return o.createElement(l,{size:16},o.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},f=function(S){var O=S.children,K=S.testId,Z=S.onClick,ee=o.useContext(u).direction===r.TextDirection.RightToLeft,te=K?{"data-testid":K}:{};return o.createElement("button",n({className:c({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":ee}),type:"button",onClick:Z},te),O)},T=function(S){var O=S.size,K=O===void 0?"4rem":O,Z=S.testId,ee=o.useState(!1),te=ee[0],oe=ee[1],ne=Z?{"data-testid":Z}:{},J=t({onVisibilityChanged:function(ae){oe(ae.isVisible)}});return o.createElement("div",n({},ne,{className:c({"rpv-core__spinner":!0,"rpv-core__spinner--animating":te}),ref:J,style:{height:K,width:K}}))},y=function(S){var O=S.ariaLabel,K=O===void 0?"":O,Z=S.autoFocus,ee=Z!==void 0&&Z,te=S.placeholder,oe=te===void 0?"":te,ne=S.testId,J=S.type,ae=J===void 0?"text":J,ie=S.value,ge=ie===void 0?"":ie,me=S.onChange,pe=S.onKeyDown,Ce=pe===void 0?function(){}:pe,Ae=o.useContext(u).direction,we=o.useRef(),Ke=Ae===r.TextDirection.RightToLeft,De={ref:we,"data-testid":"","aria-label":K,className:c({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Ke}),placeholder:oe,value:ge,onChange:function(Oe){return me(Oe.target.value)},onKeyDown:Ce};return ne&&(De["data-testid"]=ne),e((function(){if(ee){var Oe=we.current;if(Oe){var ze=window.scrollX,xe=window.scrollY;Oe.focus(),window.scrollTo(ze,xe)}}}),[]),ae==="text"?o.createElement("input",n({type:"text"},De)):o.createElement("input",n({type:"password"},De))};(function(S){S[S.ExitFullScreen=0]="ExitFullScreen",S[S.FullScreenChange=1]="FullScreenChange",S[S.FullScreenElement=2]="FullScreenElement",S[S.FullScreenEnabled=3]="FullScreenEnabled",S[S.RequestFullScreen=4]="RequestFullScreen"})(a||(a={}));var g,A={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},D={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},P={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},R=typeof window<"u",j=R&&(a.FullScreenEnabled in document&&A||D.FullScreenEnabled in document&&D||P.FullScreenEnabled in document&&P)||A,w=function(){return R&&j.FullScreenEnabled in document&&document[j.FullScreenEnabled]===!0},N=function(S){return R?S[j.ExitFullScreen]():Promise.resolve({})},H=function(){return R?document[j.FullScreenElement]:null},G=function(S,O){var K=o.useRef(),Z=function(){K.current&&clearTimeout(K.current)};return o.useEffect((function(){return function(){return Z()}}),[]),o.useCallback((function(){for(var ee=[],te=0;te<arguments.length;te++)ee[te]=arguments[te];Z(),K.current=setTimeout((function(){S.apply(void 0,ee)}),O)}),[S,O])},$=function(){var S=o.useRef(!1);return o.useEffect((function(){return S.current=!0,function(){S.current=!1}}),[]),S},W=function(S){var O=o.useRef(S);return o.useEffect((function(){O.current=S}),[S]),O.current};(function(S){S.NotRenderedYet="NotRenderedYet",S.Rendering="Rendering",S.Rendered="Rendered"})(g||(g={}));var k,_=-9999,p=function(S){var O=S.doc,K=O.numPages,Z=O.loadingTask.docId,ee=o.useMemo((function(){return Array(K).fill(null).map((function(ne,J){return{pageIndex:J,renderStatus:g.NotRenderedYet,visibility:_}}))}),[Z]),te=o.useRef({currentRenderingPage:-1,startRange:0,endRange:K-1,visibilities:ee}),oe=function(ne,J){te.current.visibilities[ne].visibility=J};return{getHighestPriorityPage:function(){var ne=te.current.visibilities.slice(te.current.startRange,te.current.endRange+1).filter((function(me){return me.visibility>_}));if(!ne.length)return-1;for(var J=ne[0].pageIndex,ae=ne[ne.length-1].pageIndex,ie=ne.length,ge=0;ge<ie;ge++){if(ne[ge].renderStatus===g.Rendering)return-1;if(ne[ge].renderStatus===g.NotRenderedYet)return ne[ge].pageIndex}return ae+1<K&&te.current.visibilities[ae+1].renderStatus!==g.Rendered?ae+1:J-1>=0&&te.current.visibilities[J-1].renderStatus!==g.Rendered?J-1:-1},isInRange:function(ne){return ne>=te.current.startRange&&ne<=te.current.endRange},markNotRendered:function(){for(var ne=0;ne<K;ne++)te.current.visibilities[ne].renderStatus=g.NotRenderedYet},markRendered:function(ne){te.current.visibilities[ne].renderStatus=g.Rendered},markRendering:function(ne){te.current.currentRenderingPage!==-1&&te.current.currentRenderingPage!==ne&&te.current.visibilities[te.current.currentRenderingPage].renderStatus===g.Rendering&&(te.current.visibilities[te.current.currentRenderingPage].renderStatus=g.NotRenderedYet),te.current.visibilities[ne].renderStatus=g.Rendering,te.current.currentRenderingPage=ne},setOutOfRange:function(ne){oe(ne,_)},setRange:function(ne,J){te.current.startRange=ne,te.current.endRange=J;for(var ae=0;ae<K;ae++)(ae<ne||ae>J)&&(te.current.visibilities[ae].visibility=_,te.current.visibilities[ae].renderStatus=g.NotRenderedYet)},setVisibility:oe}},b={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},M=o.createContext({l10n:b,setL10n:function(){}}),F=0,I=function(){return F++},q=function(S,O,K){var Z=function(ee){var te=O.current;if(te){var oe=ee.target;if(oe instanceof Element&&oe.shadowRoot){var ne=ee.composedPath();ne.length>0&&!te.contains(ne[0])&&K()}else te.contains(oe)||K()}};o.useEffect((function(){if(S){var ee={capture:!0};return document.addEventListener("click",Z,ee),function(){document.removeEventListener("click",Z,ee)}}}),[])},B=function(S){var O=function(K){K.key==="Escape"&&S()};o.useEffect((function(){return document.addEventListener("keyup",O),function(){document.removeEventListener("keyup",O)}}),[])},v=function(S){var O=S.ariaControlsSuffix,K=S.children,Z=S.closeOnClickOutside,ee=S.closeOnEscape,te=S.onToggle,oe=o.useRef(),ne=o.useContext(u).direction===r.TextDirection.RightToLeft;return o.useEffect((function(){var J=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=J}}),[]),B((function(){oe.current&&ee&&te()})),q(Z,oe,te),e((function(){var J=oe.current;if(J){var ae=.75*document.body.clientHeight;J.getBoundingClientRect().height>=ae&&(J.style.overflow="auto",J.style.maxHeight="".concat(ae,"px"))}}),[]),o.createElement("div",{"aria-modal":"true",className:c({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":ne}),id:"rpv-core__modal-body-".concat(O),ref:oe,role:"dialog",tabIndex:-1},K)},C=function(S){var O=S.children;return o.createElement("div",{className:"rpv-core__modal-overlay"},O)};r.ToggleStatus=void 0,(k=r.ToggleStatus||(r.ToggleStatus={})).Close="Close",k.Open="Open",k.Toggle="Toggle";var L,V=function(S){var O=o.useState(S),K=O[0],Z=O[1];return{opened:K,toggle:function(ee){switch(ee){case r.ToggleStatus.Close:Z(!1);break;case r.ToggleStatus.Open:Z(!0);break;case r.ToggleStatus.Toggle:default:Z((function(te){return!te}))}}}},U=function(S){var O=S.content,K=S.isOpened,Z=K!==void 0&&K,ee=S.target,te=V(Z),oe=te.opened,ne=te.toggle;return o.createElement(o.Fragment,null,ee&&ee(ne,oe),oe&&O(ne))};r.Position=void 0,(L=r.Position||(r.Position={})).TopLeft="TOP_LEFT",L.TopCenter="TOP_CENTER",L.TopRight="TOP_RIGHT",L.RightTop="RIGHT_TOP",L.RightCenter="RIGHT_CENTER",L.RightBottom="RIGHT_BOTTOM",L.BottomLeft="BOTTOM_LEFT",L.BottomCenter="BOTTOM_CENTER",L.BottomRight="BOTTOM_RIGHT",L.LeftTop="LEFT_TOP",L.LeftCenter="LEFT_CENTER",L.LeftBottom="LEFT_BOTTOM";var Y,Q,le,_e,de,he,fe,re,ce=function(S,O,K,Z,ee){e((function(){var te=O.current,oe=S.current,ne=K.current;if(oe&&te&&ne){var J=ne.getBoundingClientRect(),ae=(function(me,pe,Ce,Ae){var we=pe.getBoundingClientRect(),Ke=me.getBoundingClientRect(),De=Ke.height,Oe=Ke.width,ze=0,xe=0;switch(Ce){case r.Position.TopLeft:ze=we.top-De,xe=we.left;break;case r.Position.TopCenter:ze=we.top-De,xe=we.left+we.width/2-Oe/2;break;case r.Position.TopRight:ze=we.top-De,xe=we.left+we.width-Oe;break;case r.Position.RightTop:ze=we.top,xe=we.left+we.width;break;case r.Position.RightCenter:ze=we.top+we.height/2-De/2,xe=we.left+we.width;break;case r.Position.RightBottom:ze=we.top+we.height-De,xe=we.left+we.width;break;case r.Position.BottomLeft:ze=we.top+we.height,xe=we.left;break;case r.Position.BottomCenter:ze=we.top+we.height,xe=we.left+we.width/2-Oe/2;break;case r.Position.BottomRight:ze=we.top+we.height,xe=we.left+we.width-Oe;break;case r.Position.LeftTop:ze=we.top,xe=we.left-Oe;break;case r.Position.LeftCenter:ze=we.top+we.height/2-De/2,xe=we.left-Oe;break;case r.Position.LeftBottom:ze=we.top+we.height-De,xe=we.left-Oe}return{left:xe+(Ae.left||0),top:ze+(Ae.top||0)}})(oe,te,Z,ee),ie=ae.top,ge=ae.left;oe.style.top="".concat(ie-J.top,"px"),oe.style.left="".concat(ge-J.left,"px")}}),[])},Se=function(S){var O,K=S.customClassName,Z=S.position;return o.createElement("div",{className:c((O={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Z===r.Position.TopLeft,"rpv-core__arrow--tc":Z===r.Position.TopCenter,"rpv-core__arrow--tr":Z===r.Position.TopRight,"rpv-core__arrow--rt":Z===r.Position.RightTop,"rpv-core__arrow--rc":Z===r.Position.RightCenter,"rpv-core__arrow--rb":Z===r.Position.RightBottom,"rpv-core__arrow--bl":Z===r.Position.BottomLeft,"rpv-core__arrow--bc":Z===r.Position.BottomCenter,"rpv-core__arrow--br":Z===r.Position.BottomRight,"rpv-core__arrow--lt":Z===r.Position.LeftTop,"rpv-core__arrow--lc":Z===r.Position.LeftCenter,"rpv-core__arrow--lb":Z===r.Position.LeftBottom},O["".concat(K)]=K!=="",O))})},ve=function(S){var O=S.ariaControlsSuffix,K=S.children,Z=S.closeOnClickOutside,ee=S.offset,te=S.position,oe=S.targetRef,ne=S.onClose,J=o.useRef(),ae=o.useRef(),ie=o.useRef(),ge=o.useContext(u).direction===r.TextDirection.RightToLeft;q(Z,J,ne),ce(J,oe,ie,te,ee),e((function(){var pe=ae.current;if(pe){var Ce=.75*document.body.clientHeight;pe.getBoundingClientRect().height>=Ce&&(pe.style.overflow="auto",pe.style.maxHeight="".concat(Ce,"px"))}}),[]);var me="rpv-core__popover-body-inner-".concat(O);return o.createElement(o.Fragment,null,o.createElement("div",{ref:ie,style:{left:0,position:"absolute",top:0}}),o.createElement("div",{"aria-describedby":me,className:c({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":ge}),id:"rpv-core__popover-body-".concat(O),ref:J,role:"dialog",tabIndex:-1},o.createElement(Se,{customClassName:"rpv-core__popover-body-arrow",position:te}),o.createElement("div",{id:me,ref:ae},K)))},be=function(S){var O=S.closeOnEscape,K=S.onClose,Z=o.useRef();return B((function(){Z.current&&O&&K()})),o.createElement("div",{className:"rpv-core__popover-overlay",ref:Z})},ke=function(S){var O=S.ariaControlsSuffix,K=S.children,Z=S.contentRef,ee=S.offset,te=S.position,oe=S.targetRef,ne=o.useRef(),J=o.useContext(u).direction===r.TextDirection.RightToLeft;return ce(Z,oe,ne,te,ee),o.createElement(o.Fragment,null,o.createElement("div",{ref:ne,style:{left:0,position:"absolute",top:0}}),o.createElement("div",{className:c({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":J}),id:"rpv-core__tooltip-body-".concat(O),ref:Z,role:"tooltip"},o.createElement(Se,{customClassName:"rpv-core__tooltip-body-arrow",position:te}),o.createElement("div",{className:"rpv-core__tooltip-body-content"},K)))};r.FullScreenMode=void 0,(Y=r.FullScreenMode||(r.FullScreenMode={})).Normal="Normal",Y.Entering="Entering",Y.Entered="Entered",Y.EnteredCompletely="EnteredCompletely",Y.Exitting="Exitting",Y.Exited="Exited",r.LayerRenderStatus=void 0,(Q=r.LayerRenderStatus||(r.LayerRenderStatus={}))[Q.PreRender=0]="PreRender",Q[Q.DidRender=1]="DidRender",r.PageMode=void 0,(le=r.PageMode||(r.PageMode={})).Attachments="UseAttachments",le.Bookmarks="UseOutlines",le.ContentGroup="UseOC",le.Default="UserNone",le.FullScreen="FullScreen",le.Thumbnails="UseThumbs",r.PasswordStatus=void 0,(_e=r.PasswordStatus||(r.PasswordStatus={})).RequiredPassword="RequiredPassword",_e.WrongPassword="WrongPassword",r.RotateDirection=void 0,(de=r.RotateDirection||(r.RotateDirection={})).Backward="Backward",de.Forward="Forward",r.ScrollMode=void 0,(he=r.ScrollMode||(r.ScrollMode={})).Page="Page",he.Horizontal="Horizontal",he.Vertical="Vertical",he.Wrapped="Wrapped",r.SpecialZoomLevel=void 0,(fe=r.SpecialZoomLevel||(r.SpecialZoomLevel={})).ActualSize="ActualSize",fe.PageFit="PageFit",fe.PageWidth="PageWidth",r.ViewMode=void 0,(re=r.ViewMode||(r.ViewMode={})).DualPage="DualPage",re.DualPageWithCover="DualPageWithCover",re.SinglePage="SinglePage";var Le,We=function(S,O){return S.reduce((function(K,Z,ee){return ee%O?K[K.length-1].push(Z):K.push([Z]),K}),[])},tt=function(S,O){switch(O[1].name){case"XYZ":return{bottomOffset:function(K,Z){return O[3]===null?Z:O[3]},leftOffset:function(K,Z){return O[2]===null?0:O[2]},pageIndex:S,scaleTo:O[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:S,scaleTo:r.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:O[2],leftOffset:0,pageIndex:S,scaleTo:r.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:S,scaleTo:1}}},Ze=new Map,gt=new Map,rt=function(S,O){return"".concat(S.loadingTask.docId,"___").concat(O.num,"R").concat(O.gen===0?"":O.gen)},ft=function(S,O,K){Ze.set(rt(S,O),K)},st=function(S,O){if(!S)return Promise.reject("The document is not loaded yet");var K="".concat(S.loadingTask.docId,"___").concat(O),Z=gt.get(K);return Z?Promise.resolve(Z):new Promise((function(ee,te){S.getPage(O+1).then((function(oe){gt.set(K,oe),oe.ref&&ft(S,oe.ref,O),ee(oe)}))}))},jt=function(S,O){return new Promise((function(K){new Promise((function(Z){typeof O=="string"?S.getDestination(O).then((function(ee){Z(ee)})):Z(O)})).then((function(Z){if(typeof Z[0]=="object"&&Z[0]!==null){var ee=Z[0],te=(function(ne,J){var ae=rt(ne,J);return Ze.has(ae)?Ze.get(ae):null})(S,ee);te===null?S.getPageIndex(ee).then((function(ne){ft(S,ee,ne),jt(S,O).then((function(J){return K(J)}))})):K(tt(te,Z))}else{var oe=tt(Z[0],Z);K(oe)}}))}))};(function(S){S[S.Solid=1]="Solid",S[S.Dashed=2]="Dashed",S[S.Beveled=3]="Beveled",S[S.Inset=4]="Inset",S[S.Underline=5]="Underline"})(Le||(Le={}));var _t,Ee=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),ue=function(S,O,K,Z){var ee=parseInt(S,10);return ee>=O&&ee<=K?ee:Z},se=function(S){return S.contentsObj?S.contentsObj.str:S.contents||""},Pe=function(S){return S.titleObj?S.titleObj.str:S.title||""},it=function(S){var O=S.annotation,K=o.useContext(u).direction,Z=Pe(O),ee=se(O),te=K===r.TextDirection.RightToLeft,oe=o.useRef(),ne="";if(O.modificationDate){var J=(function(ae){var ie=Ee.exec(ae);if(!ie)return null;var ge=parseInt(ie[1],10),me=ue(ie[2],1,12,1)-1,pe=ue(ie[3],1,31,1),Ce=ue(ie[4],0,23,0),Ae=ue(ie[5],0,59,0),we=ue(ie[6],0,59,0),Ke=ie[7]||"Z",De=ue(ie[8],0,23,0),Oe=ue(ie[9],0,59,0);switch(Ke){case"-":Ce+=De,Ae+=Oe;break;case"+":Ce-=De,Ae-=Oe}return new Date(Date.UTC(ge,me,pe,Ce,Ae,we))})(O.modificationDate);ne=J?"".concat(J.toLocaleDateString(),", ").concat(J.toLocaleTimeString()):""}return o.useLayoutEffect((function(){if(oe.current){var ae=document.querySelector('[data-annotation-id="'.concat(O.id,'"]'));if(ae){var ie=ae;return ie.style.zIndex+=1,function(){ie.style.zIndex="".concat(parseInt(ie.style.zIndex,10)-1)}}}}),[]),o.createElement("div",{ref:oe,className:c({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":te}),style:{top:O.annotationType===r.AnnotationType.Popup?"":"100%"}},Z&&o.createElement(o.Fragment,null,o.createElement("div",{className:c({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!te,"rpv-core__annotation-popup-title--rtl":te})},Z),o.createElement("div",{className:"rpv-core__annotation-popup-date"},ne)),ee&&o.createElement("div",{className:"rpv-core__annotation-popup-content"},ee.split(`
`).map((function(ae,ie){return o.createElement(o.Fragment,{key:ie},ae,o.createElement("br",null))}))))};(function(S){S.Click="Click",S.Hover="Hover"})(_t||(_t={}));var He,Je=function(S){var O,K=S.annotation,Z=S.children,ee=S.ignoreBorder,te=S.hasPopup,oe=S.isRenderable,ne=S.page,J=S.viewport,ae=K.rect,ie=(function(){var Be=V(!1),at=Be.opened,nt=Be.toggle,ot=o.useState(_t.Hover),ct=ot[0],ut=ot[1];return{opened:at,closeOnHover:function(){ct===_t.Hover&&nt(r.ToggleStatus.Close)},openOnHover:function(){ct===_t.Hover&&nt(r.ToggleStatus.Open)},toggleOnClick:function(){switch(ct){case _t.Click:at&&ut(_t.Hover),nt(r.ToggleStatus.Toggle);break;case _t.Hover:ut(_t.Click),nt(r.ToggleStatus.Open)}}}})(),ge=ie.closeOnHover,me=ie.opened,pe=ie.openOnHover,Ce=ie.toggleOnClick,Ae=(O=[ae[0],ne.view[3]+ne.view[1]-ae[1],ae[2],ne.view[3]+ne.view[1]-ae[3]],[Math.min(O[0],O[2]),Math.min(O[1],O[3]),Math.max(O[0],O[2]),Math.max(O[1],O[3])]),we=ae[2]-ae[0],Ke=ae[3]-ae[1],De={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!ee&&K.borderStyle.width>0){switch(K.borderStyle.style){case Le.Dashed:De.borderStyle="dashed";break;case Le.Solid:De.borderStyle="solid";break;case Le.Underline:De=Object.assign({borderBottomStyle:"solid"},De);case Le.Beveled:case Le.Inset:}var Oe=K.borderStyle.width;De.borderWidth="".concat(Oe,"px"),K.borderStyle.style!==Le.Underline&&(we-=2*Oe,Ke-=2*Oe);var ze=K.borderStyle,xe=ze.horizontalCornerRadius,qe=ze.verticalCornerRadius;(xe>0||qe>0)&&(De.borderRadius="".concat(xe,"px / ").concat(qe,"px")),K.color?De.borderColor="rgb(".concat(0|K.color[0],", ").concat(0|K.color[1],", ").concat(0|K.color[2],")"):De.borderWidth="0"}return o.createElement(o.Fragment,null,oe&&Z({popup:{opened:me,closeOnHover:ge,openOnHover:pe,toggleOnClick:Ce},slot:{attrs:{style:Object.assign({height:"".concat(Ke,"px"),left:"".concat(Ae[0],"px"),top:"".concat(Ae[1],"px"),transform:"matrix(".concat(J.transform.join(","),")"),transformOrigin:"-".concat(Ae[0],"px -").concat(Ae[1],"px"),width:"".concat(we,"px")},De)},children:o.createElement(o.Fragment,null,te&&me&&o.createElement(it,{annotation:K}))}}))},zt=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=O.hasPopup===!1,te=Pe(O),oe=se(O),ne=!!(O.hasPopup||te||oe);return o.createElement(Je,{annotation:O,hasPopup:ee,ignoreBorder:!0,isRenderable:ne,page:K,viewport:Z},(function(J){return o.createElement("div",n({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":O.id,onClick:J.popup.toggleOnClick,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},Nt=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=O.hasPopup===!1,te=Pe(O),oe=se(O),ne=!!(O.hasPopup||te||oe),J=O.rect,ae=J[2]-J[0],ie=J[3]-J[1],ge=O.borderStyle.width;return o.createElement(Je,{annotation:O,hasPopup:ee,ignoreBorder:!0,isRenderable:ne,page:K,viewport:Z},(function(me){return o.createElement("div",n({},me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":O.id,onClick:me.popup.toggleOnClick,onMouseEnter:me.popup.openOnHover,onMouseLeave:me.popup.closeOnHover}),o.createElement("svg",{height:"".concat(ie,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ae," ").concat(ie),width:"".concat(ae,"px")},o.createElement("circle",{cy:ie/2,fill:"none",rx:ae/2-ge/2,ry:ie/2-ge/2,stroke:"transparent",strokeWidth:ge||1})),me.slot.children)}))},Ht=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=Pe(O),te=se(O),oe=!(O.hasPopup!==!1||!ee&&!te),ne=function(){var J,ae,ie,ge,me=O.file;me&&(J=me.filename,ae=me.content,ie=typeof ae=="string"?"":URL.createObjectURL(new Blob([ae],{type:""})),(ge=document.createElement("a")).style.display="none",ge.href=ie||J,ge.setAttribute("download",(function(pe){var Ce=pe.split("/").pop();return Ce?Ce.split("#")[0].split("?")[0]:pe})(J)),document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),ie&&URL.revokeObjectURL(ie))};return o.createElement(Je,{annotation:O,hasPopup:oe,ignoreBorder:!0,isRenderable:!0,page:K,viewport:Z},(function(J){return o.createElement("div",n({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":O.id,onClick:J.popup.toggleOnClick,onDoubleClick:ne,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},xt=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=O.hasPopup===!1,te=Pe(O),oe=se(O),ne=!!(O.hasPopup||te||oe);return o.createElement(Je,{annotation:O,hasPopup:ee,ignoreBorder:!0,isRenderable:ne,page:K,viewport:Z},(function(J){return o.createElement("div",n({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":O.id,onClick:J.popup.toggleOnClick,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},Vt=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=Pe(O),te=se(O),oe=!(!ee&&!te),ne=!O.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(O.parentType)!==-1;return e((function(){if(O.parentId){var J=document.querySelector('[data-annotation-id="'.concat(O.parentId,'"]')),ae=document.querySelector('[data-annotation-id="'.concat(O.id,'"]'));if(J&&ae){var ie=parseFloat(J.style.left),ge=parseFloat(J.style.top)+parseFloat(J.style.height);ae.style.left="".concat(ie,"px"),ae.style.top="".concat(ge,"px"),ae.style.transformOrigin="-".concat(ie,"px -").concat(ge,"px")}}}),[]),o.createElement(Je,{annotation:O,hasPopup:ne,ignoreBorder:!1,isRenderable:oe,page:K,viewport:Z},(function(J){return o.createElement("div",n({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":O.id}),o.createElement(it,{annotation:O}))}))},Bt=function(S){var O=S.annotation,K=S.childAnnotation,Z=S.page,ee=S.viewport,te=O.hasPopup===!1,oe=Pe(O),ne=se(O),J=!!(O.hasPopup||oe||ne);if(O.quadPoints&&O.quadPoints.length>0){var ae=O.quadPoints.map((function(ie){return Object.assign({},O,{rect:[ie[2].x,ie[2].y,ie[1].x,ie[1].y],quadPoints:[]})}));return o.createElement(o.Fragment,null,ae.map((function(ie,ge){return o.createElement(Bt,{key:ge,annotation:ie,childAnnotation:K,page:Z,viewport:ee})})))}return o.createElement(Je,{annotation:O,hasPopup:te,ignoreBorder:!0,isRenderable:J,page:Z,viewport:ee},(function(ie){return o.createElement(o.Fragment,null,o.createElement("div",n({},ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":O.id,onClick:ie.popup.toggleOnClick,onMouseEnter:ie.popup.openOnHover,onMouseLeave:ie.popup.closeOnHover}),ie.slot.children),K&&K.annotationType===r.AnnotationType.Popup&&ie.popup.opened&&o.createElement(Vt,{annotation:K,page:Z,viewport:ee}))}))},$t=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=O.hasPopup===!1,te=Pe(O),oe=se(O),ne=!!(O.hasPopup||te||oe),J=O.rect,ae=J[2]-J[0],ie=J[3]-J[1],ge=O.borderStyle.width;return o.createElement(Je,{annotation:O,hasPopup:ee,ignoreBorder:!0,isRenderable:ne,page:K,viewport:Z},(function(me){return o.createElement("div",n({},me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":O.id,onClick:me.popup.toggleOnClick,onMouseEnter:me.popup.openOnHover,onMouseLeave:me.popup.closeOnHover}),O.inkLists&&O.inkLists.length&&o.createElement("svg",{height:"".concat(ie,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ae," ").concat(ie),width:"".concat(ae,"px")},O.inkLists.map((function(pe,Ce){return o.createElement("polyline",{key:Ce,fill:"none",stroke:"transparent",strokeWidth:ge||1,points:pe.map((function(Ae){return"".concat(Ae.x-J[0],",").concat(J[3]-Ae.y)})).join(" ")})}))),me.slot.children)}))},St=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=O.hasPopup===!1,te=Pe(O),oe=se(O),ne=!!(O.hasPopup||te||oe),J=O.rect,ae=J[2]-J[0],ie=J[3]-J[1],ge=O.borderStyle.width;return o.createElement(Je,{annotation:O,hasPopup:ee,ignoreBorder:!0,isRenderable:ne,page:K,viewport:Z},(function(me){return o.createElement("div",n({},me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":O.id,onClick:me.popup.toggleOnClick,onMouseEnter:me.popup.openOnHover,onMouseLeave:me.popup.closeOnHover}),o.createElement("svg",{height:"".concat(ie,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ae," ").concat(ie),width:"".concat(ae,"px")},o.createElement("line",{stroke:"transparent",strokeWidth:ge||1,x1:J[2]-O.lineCoordinates[0],x2:J[2]-O.lineCoordinates[2],y1:J[3]-O.lineCoordinates[1],y2:J[3]-O.lineCoordinates[3]})),me.slot.children)}))},Xt=/^([^\w]*)(javascript|data|vbscript)/im,Kt=/&#(\w+)(^\w|;)?/g,an=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,on=/^([^:]+):/gm,Zt=function(S,O){var K,Z=(K=S||"",K.replace(Kt,(function(ne,J){return String.fromCharCode(J)}))).replace(an,"").trim();if(!Z)return O;var ee=Z[0];if(ee==="."||ee==="/")return Z;var te=Z.match(on);if(!te)return Z;var oe=te[0];return Xt.test(oe)?O:Z},Dt=function(S){var O,K=S.annotation,Z=S.annotationContainerRef,ee=S.doc,te=S.outlines,oe=S.page,ne=S.pageIndex,J=S.scale,ae=S.viewport,ie=S.onExecuteNamedAction,ge=S.onJumpFromLinkAnnotation,me=S.onJumpToDest,pe=o.useRef(),Ce=te&&te.length&&K.dest&&typeof K.dest=="string"?(O=te.find((function(De){return De.dest===K.dest})))===null||O===void 0?void 0:O.title:"",Ae=!!(K.url||K.dest||K.action||K.unsafeUrl),we={};if(K.url||K.unsafeUrl){var Ke=Zt(K.url||K.unsafeUrl,"");Ke?we={"data-target":"external",href:Ke,rel:"noopener noreferrer nofollow",target:K.newWindow?"_blank":"",title:Ke}:Ae=!1}else we={href:"","data-annotation-link":K.id,onClick:function(De){De.preventDefault(),K.action?ie(K.action):jt(ee,K.dest).then((function(Oe){var ze=pe.current,xe=Z.current;if(ze&&xe){var qe=ze.getBoundingClientRect();xe.style.setProperty("height","100%"),xe.style.setProperty("width","100%");var Be=xe.getBoundingClientRect();xe.style.removeProperty("height"),xe.style.removeProperty("width");var at=(qe.left-Be.left)/J,nt=(Be.bottom-qe.bottom+qe.height)/J;ge({bottomOffset:nt,label:Ce,leftOffset:at,pageIndex:ne})}me(Oe)}))}};return Ce&&(we=Object.assign({},we,{title:Ce,"aria-label":Ce})),o.createElement(Je,{annotation:K,hasPopup:!1,ignoreBorder:!1,isRenderable:Ae,page:oe,viewport:ae},(function(De){return o.createElement("div",n({},De.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":K.id,"data-testid":"core__annotation--link-".concat(K.id)}),o.createElement("a",n({ref:pe},we)))}))},sn=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=O.hasPopup===!1,te=Pe(O),oe=se(O),ne=!!(O.hasPopup||te||oe),J=O.rect,ae=J[2]-J[0],ie=J[3]-J[1],ge=O.borderStyle.width;return o.createElement(Je,{annotation:O,hasPopup:ee,ignoreBorder:!0,isRenderable:ne,page:K,viewport:Z},(function(me){return o.createElement("div",n({},me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":O.id,onClick:me.popup.toggleOnClick,onMouseEnter:me.popup.openOnHover,onMouseLeave:me.popup.closeOnHover}),O.vertices&&O.vertices.length&&o.createElement("svg",{height:"".concat(ie,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ae," ").concat(ie),width:"".concat(ae,"px")},o.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:ge||1,points:O.vertices.map((function(pe){return"".concat(pe.x-J[0],",").concat(J[3]-pe.y)})).join(" ")})),me.slot.children)}))},fn=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=O.hasPopup===!1,te=Pe(O),oe=se(O),ne=!!(O.hasPopup||te||oe),J=O.rect,ae=J[2]-J[0],ie=J[3]-J[1],ge=O.borderStyle.width;return o.createElement(Je,{annotation:O,hasPopup:ee,ignoreBorder:!0,isRenderable:ne,page:K,viewport:Z},(function(me){return o.createElement("div",n({},me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":O.id,onClick:me.popup.toggleOnClick,onMouseEnter:me.popup.openOnHover,onMouseLeave:me.popup.closeOnHover}),O.vertices&&O.vertices.length&&o.createElement("svg",{height:"".concat(ie,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ae," ").concat(ie),width:"".concat(ae,"px")},o.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:ge||1,points:O.vertices.map((function(pe){return"".concat(pe.x-J[0],",").concat(J[3]-pe.y)})).join(" ")})),me.slot.children)}))},Qn=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=O.hasPopup===!1,te=Pe(O),oe=se(O),ne=!!(O.hasPopup||te||oe),J=O.rect,ae=J[2]-J[0],ie=J[3]-J[1],ge=O.borderStyle.width;return o.createElement(Je,{annotation:O,hasPopup:ee,ignoreBorder:!0,isRenderable:ne,page:K,viewport:Z},(function(me){return o.createElement("div",n({},me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":O.id,onClick:me.popup.toggleOnClick,onMouseEnter:me.popup.openOnHover,onMouseLeave:me.popup.closeOnHover}),o.createElement("svg",{height:"".concat(ie,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ae," ").concat(ie),width:"".concat(ae,"px")},o.createElement("rect",{height:ie-ge,fill:"none",stroke:"transparent",strokeWidth:ge||1,x:ge/2,y:ge/2,width:ae-ge})),me.slot.children)}))},er=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=O.hasPopup===!1,te=Pe(O),oe=se(O),ne=!!(O.hasPopup||te||oe);return o.createElement(Je,{annotation:O,hasPopup:ee,ignoreBorder:!0,isRenderable:ne,page:K,viewport:Z},(function(J){return o.createElement("div",n({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":O.id,onClick:J.popup.toggleOnClick,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},tr=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=O.hasPopup===!1,te=Pe(O),oe=se(O),ne=!!(O.hasPopup||te||oe);return o.createElement(Je,{annotation:O,hasPopup:ee,ignoreBorder:!0,isRenderable:ne,page:K,viewport:Z},(function(J){return o.createElement("div",n({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":O.id,onClick:J.popup.toggleOnClick,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},nr=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=O.hasPopup===!1,te=Pe(O),oe=se(O),ne=!!(O.hasPopup||te||oe);return o.createElement(Je,{annotation:O,hasPopup:ee,ignoreBorder:!0,isRenderable:ne,page:K,viewport:Z},(function(J){return o.createElement("div",n({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":O.id,onClick:J.popup.toggleOnClick,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},rr=function(){return o.createElement(l,{size:16},o.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),o.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),o.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),o.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ir=function(){return o.createElement(l,{size:16},o.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),o.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),o.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),o.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),o.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),o.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),o.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),o.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),o.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),o.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},ar=function(){return o.createElement(l,{size:16},o.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),o.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},or=function(){return o.createElement(l,{size:16},o.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),o.createElement("path",{d:"M6 4.5L6 0.5"}),o.createElement("path",{d:"M18 4.5L18 0.5"}),o.createElement("path",{d:"M10 4.5L10 0.5"}),o.createElement("path",{d:"M14 4.5L14 0.5"}))},sr=function(){return o.createElement(l,{size:16},o.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),o.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),o.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},cr=function(){return o.createElement(l,{size:16},o.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},lr=function(S){var O=S.annotation,K=S.childAnnotation,Z=S.page,ee=S.viewport,te=O.hasPopup===!1,oe=Pe(O),ne=se(O),J=!!(O.hasPopup||oe||ne),ae=O.name?O.name.toLowerCase():"";return o.createElement(Je,{annotation:O,hasPopup:te,ignoreBorder:!1,isRenderable:J,page:Z,viewport:ee},(function(ie){return o.createElement(o.Fragment,null,o.createElement("div",n({},ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":O.id,onClick:ie.popup.toggleOnClick,onMouseEnter:ie.popup.openOnHover,onMouseLeave:ie.popup.closeOnHover}),ae&&o.createElement("div",{className:"rpv-core__annotation-text-icon"},ae==="check"&&o.createElement(s,null),ae==="comment"&&o.createElement(rr,null),ae==="help"&&o.createElement(ir,null),ae==="insert"&&o.createElement(cr,null),ae==="key"&&o.createElement(ar,null),ae==="note"&&o.createElement(or,null),(ae==="newparagraph"||ae==="paragraph")&&o.createElement(sr,null)),ie.slot.children),K&&K.annotationType===r.AnnotationType.Popup&&ie.popup.opened&&o.createElement(Vt,{annotation:K,page:Z,viewport:ee}))}))},ur=function(S){var O=S.annotation,K=S.page,Z=S.viewport,ee=O.hasPopup===!1,te=Pe(O),oe=se(O),ne=!!(O.hasPopup||te||oe);return o.createElement(Je,{annotation:O,hasPopup:ee,ignoreBorder:!0,isRenderable:ne,page:K,viewport:Z},(function(J){return o.createElement("div",n({},J.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":O.id,onClick:J.popup.toggleOnClick,onMouseEnter:J.popup.openOnHover,onMouseLeave:J.popup.closeOnHover}),J.slot.children)}))},dr=function(S){var O=S.annotations,K=S.doc,Z=S.outlines,ee=S.page,te=S.pageIndex,oe=S.plugins,ne=S.rotation,J=S.scale,ae=S.onExecuteNamedAction,ie=S.onJumpFromLinkAnnotation,ge=S.onJumpToDest,me=o.useRef(),pe=ee.getViewport({rotation:ne,scale:J}).clone({dontFlip:!0}),Ce=O.filter((function(Ae){return!Ae.parentId}));return e((function(){var Ae=me.current;Ae&&oe.forEach((function(we){we.onAnnotationLayerRender&&we.onAnnotationLayerRender({annotations:Ce,container:Ae,pageIndex:te,rotation:ne,scale:J})}))}),[]),o.createElement("div",{ref:me,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(te)},Ce.map((function(Ae){var we=O.find((function(Ke){return Ke.parentId===Ae.id}));switch(Ae.annotationType){case r.AnnotationType.Caret:return o.createElement(zt,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.Circle:return o.createElement(Nt,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.FileAttachment:return o.createElement(Ht,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.FreeText:return o.createElement(xt,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.Highlight:return o.createElement(Bt,{key:Ae.id,annotation:Ae,childAnnotation:we,page:ee,viewport:pe});case r.AnnotationType.Ink:return o.createElement($t,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.Line:return o.createElement(St,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.Link:return o.createElement(Dt,{key:Ae.id,annotation:Ae,annotationContainerRef:me,doc:K,outlines:Z,page:ee,pageIndex:te,scale:J,viewport:pe,onExecuteNamedAction:ae,onJumpFromLinkAnnotation:ie,onJumpToDest:ge});case r.AnnotationType.Polygon:return o.createElement(sn,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.Polyline:return o.createElement(fn,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.Popup:return o.createElement(Vt,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.Square:return o.createElement(Qn,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.Squiggly:return o.createElement(er,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.Stamp:return o.createElement(tr,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.StrikeOut:return o.createElement(nr,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});case r.AnnotationType.Text:return o.createElement(lr,{key:Ae.id,annotation:Ae,childAnnotation:we,page:ee,viewport:pe});case r.AnnotationType.Underline:return o.createElement(ur,{key:Ae.id,annotation:Ae,page:ee,viewport:pe});default:return o.createElement(o.Fragment,{key:Ae.id})}})))},hr=function(S){var O=S.page,K=S.renderAnnotations,Z=$(),ee=o.useState({loading:!0,annotations:[]}),te=ee[0],oe=ee[1];return o.useEffect((function(){O.getAnnotations({intent:"display"}).then((function(ne){Z.current&&oe({loading:!1,annotations:ne})}))}),[]),te.loading?o.createElement(o.Fragment,null):K(te.annotations)},fr=function(S){var O=S.doc,K=S.outlines,Z=S.page,ee=S.pageIndex,te=S.plugins,oe=S.rotation,ne=S.scale,J=S.onExecuteNamedAction,ae=S.onJumpFromLinkAnnotation,ie=S.onJumpToDest;return o.createElement(hr,{page:Z,renderAnnotations:function(ge){return o.createElement(dr,{annotations:ge,doc:O,outlines:K,page:Z,pageIndex:ee,plugins:te,rotation:oe,scale:ne,onExecuteNamedAction:J,onJumpFromLinkAnnotation:ae,onJumpToDest:ie})}})},gn=function(S,O){var K=S%O;return K===0?S:Math.floor(S-K)},pr=function(S){var O=S.canvasLayerRef,K=S.height,Z=S.page,ee=S.pageIndex,te=S.plugins,oe=S.rotation,ne=S.scale,J=S.width,ae=S.onRenderCanvasCompleted,ie=o.useRef();return e((function(){var ge=ie.current;ge&&ge.cancel();var me=O.current;me.removeAttribute("data-testid"),te.forEach((function(Be){Be.onCanvasLayerRender&&Be.onCanvasLayerRender({ele:me,pageIndex:ee,rotation:oe,scale:ne,status:r.LayerRenderStatus.PreRender})}));var pe=Z.getViewport({rotation:oe,scale:ne}),Ce=window.devicePixelRatio||1,Ae=Math.sqrt(16777216/(pe.width*pe.height)),we=Ce>Ae;we?me.style.transform="scale(1, 1)":me.style.removeProperty("transform");var Ke=Math.min(Ae,Ce),De=(function(Be,at){var nt,ot;if(Math.floor(Be)===Be)return[Be,1];var ct=1/Be;if(ct>at)return[1,at];if(Math.floor(ct)===ct)return[1,ct];for(var ut=Be>1?ct:Be,kt=0,Et=1,Mt=1,wt=1;;){var Ct=kt+Mt,Pt=Et+wt;if(Pt>at)break;ut<=Ct/Pt?(Mt=(nt=[Ct,Pt])[0],wt=nt[1]):(kt=(ot=[Ct,Pt])[0],Et=ot[1])}return ut<(kt/Et+Mt/wt)/2?ut===Be?[kt,Et]:[Et,kt]:ut===Be?[Mt,wt]:[wt,Mt]})(Ke,8),Oe=De[0],ze=De[1];me.width=gn(pe.width*Ke,Oe),me.height=gn(pe.height*Ke,Oe),me.style.width="".concat(gn(pe.width,ze),"px"),me.style.height="".concat(gn(pe.height,ze),"px"),me.hidden=!0;var xe=me.getContext("2d",{alpha:!1}),qe=we||Ce!==1?[Ke,0,0,Ke,0,0]:null;return ie.current=Z.render({canvasContext:xe,transform:qe,viewport:pe}),ie.current.promise.then((function(){me.hidden=!1,me.setAttribute("data-testid","core__canvas-layer-".concat(ee)),te.forEach((function(Be){Be.onCanvasLayerRender&&Be.onCanvasLayerRender({ele:me,pageIndex:ee,rotation:oe,scale:ne,status:r.LayerRenderStatus.DidRender})})),ae()}),(function(){ae()})),function(){me&&(me.width=0,me.height=0)}}),[]),o.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(K,"px"),width:"".concat(J,"px")}},o.createElement("canvas",{ref:O}))},mr=function(S){var O=S.height,K=S.page,Z=S.rotation,ee=S.scale,te=S.width,oe=o.useRef();return e((function(){var ne=oe.current,J=K.getViewport({rotation:Z,scale:ee});K.getOperatorList().then((function(ae){(function(){var ie=oe.current;ie&&(ie.innerHTML="")})(),new x.SVGGraphics(K.commonObjs,K.objs).getSVG(ae,J).then((function(ie){ie.style.height="".concat(O,"px"),ie.style.width="".concat(te,"px"),ne.appendChild(ie)}))}))}),[]),o.createElement("div",{className:"rpv-core__svg-layer",ref:oe})},gr=function(S){var O=S.containerRef,K=S.page,Z=S.pageIndex,ee=S.plugins,te=S.rotation,oe=S.scale,ne=S.onRenderTextCompleted,J=o.useRef(),ae=function(){var ie=O.current;ie&&([].slice.call(ie.querySelectorAll(".rpv-core__text-layer-text")).forEach((function(ge){return ie.removeChild(ge)})),[].slice.call(ie.querySelectorAll('br[role="presentation"]')).forEach((function(ge){return ie.removeChild(ge)})))};return e((function(){var ie=J.current;ie&&ie.cancel();var ge=O.current;if(ge){ge.removeAttribute("data-testid");var me=K.getViewport({rotation:te,scale:oe});return ee.forEach((function(pe){pe.onTextLayerRender&&pe.onTextLayerRender({ele:ge,pageIndex:Z,scale:oe,status:r.LayerRenderStatus.PreRender})})),K.getTextContent().then((function(pe){ae(),J.current=x.renderTextLayer({container:ge,textContent:pe,textContentSource:pe,viewport:me}),J.current.promise.then((function(){ge.setAttribute("data-testid","core__text-layer-".concat(Z)),[].slice.call(ge.children).forEach((function(Ce){Ce.classList.contains("rpv-core__text-layer-text--not")||Ce.classList.add("rpv-core__text-layer-text")})),ee.forEach((function(Ce){Ce.onTextLayerRender&&Ce.onTextLayerRender({ele:ge,pageIndex:Z,scale:oe,status:r.LayerRenderStatus.DidRender})})),ne()}),(function(){ge.removeAttribute("data-testid"),ne()}))})),function(){var pe;ae(),(pe=J.current)===null||pe===void 0||pe.cancel()}}}),[]),o.createElement("div",{className:"rpv-core__text-layer",ref:O})},vr=function(S){var O=S.doc,K=S.measureRef,Z=S.outlines,ee=S.pageIndex,te=S.pageRotation,oe=S.pageSize,ne=S.plugins,J=S.renderPage,ae=S.renderQueueKey,ie=S.rotation,ge=S.scale,me=S.shouldRender,pe=S.viewMode,Ce=S.onExecuteNamedAction,Ae=S.onJumpFromLinkAnnotation,we=S.onJumpToDest,Ke=S.onRenderCompleted,De=S.onRotatePage,Oe=$(),ze=o.useState(null),xe=ze[0],qe=ze[1],Be=o.useState(!1),at=Be[0],nt=Be[1],ot=o.useState(!1),ct=ot[0],ut=ot[1],kt=o.useRef(),Et=o.useRef(),Mt=Math.abs(ie+te)%180==0,wt=oe.pageWidth*ge,Ct=oe.pageHeight*ge,Pt=Mt?wt:Ct,At=Mt?Ct:wt,Ot=(oe.rotation+ie+te)%360,Yt=o.useRef(0),Gt=J||function(Lt){return o.createElement(o.Fragment,null,Lt.canvasLayer.children,Lt.textLayer.children,Lt.annotationLayer.children)};return o.useEffect((function(){qe(null),nt(!1),ut(!1)}),[te,ie,ge]),o.useEffect((function(){me&&Oe.current&&!xe&&st(O,ee).then((function(Lt){Oe.current&&(Yt.current=ae,qe(Lt))}))}),[me,xe]),o.useEffect((function(){at&&ct&&(ae!==Yt.current?(qe(null),nt(!1),ut(!1)):Ke(ee))}),[at,ct]),o.createElement("div",{className:c({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":pe===r.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":pe===r.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":pe===r.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(ee),ref:K,style:{height:"".concat(At,"px"),width:"".concat(Pt,"px")}},xe?o.createElement(o.Fragment,null,Gt({annotationLayer:{attrs:{},children:o.createElement(fr,{doc:O,outlines:Z,page:xe,pageIndex:ee,plugins:ne,rotation:Ot,scale:ge,onExecuteNamedAction:Ce,onJumpFromLinkAnnotation:Ae,onJumpToDest:we})},canvasLayer:{attrs:{},children:o.createElement(pr,{canvasLayerRef:kt,height:At,page:xe,pageIndex:ee,plugins:ne,rotation:Ot,scale:ge,width:Pt,onRenderCanvasCompleted:function(){Oe.current&&nt(!0)}})},canvasLayerRendered:at,doc:O,height:At,pageIndex:ee,rotation:Ot,scale:ge,svgLayer:{attrs:{},children:o.createElement(mr,{height:At,page:xe,rotation:Ot,scale:ge,width:Pt})},textLayer:{attrs:{},children:o.createElement(gr,{containerRef:Et,page:xe,pageIndex:ee,plugins:ne,rotation:Ot,scale:ge,onRenderTextCompleted:function(){Oe.current&&ut(!0)}})},textLayerRendered:ct,width:Pt,markRendered:Ke,onRotatePage:function(Lt){return De(ee,Lt)}}),ne.map((function(Lt,qt){return Lt.renderPageLayer?o.createElement(o.Fragment,{key:qt},Lt.renderPageLayer({canvasLayerRef:kt,canvasLayerRendered:at,doc:O,height:At,pageIndex:ee,rotation:Ot,scale:ge,textLayerRef:Et,textLayerRendered:ct,width:Pt})):o.createElement(o.Fragment,{key:qt})}))):o.createElement(T,{testId:"core__page-layer-loading-".concat(ee)}))},br=function(S,O){var K=O.rect;return S.height!==K.height||S.width!==K.width?K:S};(function(S){S.Horizontal="Horizontal",S.Vertical="Vertical",S.Both="Both"})(He||(He={}));var _r=function(S){return 1-Math.pow(1-S,4)},vn=1e-4,Dn={left:0,top:0},On={capture:!1,passive:!0},Er=function(S){var O=S.elementRef,K=S.enableSmoothScroll,Z=S.isRtl,ee=S.scrollDirection,te=S.onSmoothScroll,oe=o.useState(Dn),ne=oe[0],J=oe[1],ae=o.useState(O.current),ie=ae[0],ge=ae[1],me=Z?-1:1,pe=o.useRef(ee);pe.current=ee;var Ce=o.useRef(Dn),Ae=o.useRef(!0),we=o.useCallback((function(){Ae.current=!0,K&&J(Ce.current),te(!1)}),[]),Ke=o.useCallback((function(){if(ie){switch(pe.current){case He.Horizontal:Ce.current={left:me*ie.scrollLeft,top:0};break;case He.Both:Ce.current={left:me*ie.scrollLeft,top:ie.scrollTop};break;case He.Vertical:default:Ce.current={left:0,top:ie.scrollTop}}K&&!Ae.current||J(Ce.current)}}),[ie]);e((function(){ge(O.current)})),e((function(){if(ie)return ie.addEventListener("scroll",Ke,On),function(){ie.removeEventListener("scroll",Ke,On)}}),[ie]);var De=o.useCallback((function(Oe,ze){var xe=O.current;if(!xe)return Promise.resolve();var qe={left:0,top:0};switch(pe.current){case He.Horizontal:qe.left=me*Oe.left;break;case He.Both:qe.left=me*Oe.left,qe.top=Oe.top;break;case He.Vertical:default:qe.top=Oe.top}return ze?(Ae.current=!1,te(!0),new Promise((function(Be,at){(function(nt,ot,ct,ut,kt,Et){kt===void 0&&(kt=function(qt){return qt}),Et===void 0&&(Et=function(){});var Mt=0,wt=0,Ct=!1;switch(ot){case He.Horizontal:wt=nt.scrollLeft,Mt=0;case He.Both:wt=nt.scrollLeft,Mt=nt.scrollTop;break;case He.Vertical:default:wt=0,Mt=nt.scrollTop}var Pt=function(){Ct||(Ct=!0,nt.scrollLeft=ct.left,nt.scrollTop=ct.top,Et())};if(Math.abs(Mt-ct.top)<=vn&&ot===He.Vertical)Pt();else if(Math.abs(wt-ct.left)<=vn&&ot===He.Horizontal)Pt();else{var At,Ot=-1,Yt=wt-ct.left,Gt=Mt-ct.top,Lt=function(qt){Ot===-1&&(Ot=qt);var Jt=qt-Ot,je=Math.min(Jt/ut,1),Ne=kt(je),Te={left:wt-Yt*Ne,top:Mt-Gt*Ne};switch(ot){case He.Horizontal:nt.scrollLeft=Te.left;break;case He.Both:nt.scrollLeft=Te.left,nt.scrollTop=Te.top;break;case He.Vertical:default:nt.scrollTop=Te.top}Math.abs(Te.top-ct.top)<=vn&&Math.abs(Te.left-ct.left)<=vn&&!Ct&&(window.cancelAnimationFrame(At),Pt()),Jt<ut?At=window.requestAnimationFrame(Lt):window.cancelAnimationFrame(At)};At=window.requestAnimationFrame(Lt)}})(xe,pe.current,qe,400,_r,(function(){we(),Be()}))}))):new Promise((function(Be,at){switch(pe.current){case He.Horizontal:xe.scrollLeft=qe.left;break;case He.Both:xe.scrollLeft=qe.left,xe.scrollTop=qe.top;break;case He.Vertical:default:xe.scrollTop=qe.top}Be()}))}),[O]);return{scrollOffset:ne,scrollTo:De}},pn=function(S,O,K){return Math.max(S,Math.min(K,O))},yr=function(S,O){if(O!==r.ViewMode.DualPageWithCover)return 0;if(!(function(ee){var te=ee.length;if(te===1)return!1;for(var oe=1;oe<te;oe++)if(ee[oe].height!==ee[0].height||ee[oe].width!==ee[0].width)return!0;return!1})(S))return 2*S[0].width;var K=We(S.slice(1),2).map((function(ee){return ee.length===2?ee[0].width+ee[1].width:ee[0].width})),Z=[S[0].width].concat(K);return Math.max.apply(Math,Z)},Sr={left:0,top:0},wr={left:0,top:0},wn={left:0,top:0},Ar={left:0,top:0},Cr={height:0,width:0},Nn={left:0,top:0},Bn="data-virtual-index",Pr=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],kr=function(S){var O=S.enableSmoothScroll,K=S.isRtl,Z=S.numberOfItems,ee=S.parentRef,te=S.setRenderRange,oe=S.sizes,ne=S.scrollMode,J=S.viewMode,ae=o.useState(!1),ie=ae[0],ge=ae[1],me=o.useCallback((function(je){return ge(je)}),[]),pe=o.useRef(ne);pe.current=ne;var Ce=o.useRef(J);Ce.current=J;var Ae=ne===r.ScrollMode.Wrapped||J===r.ViewMode.DualPageWithCover||J===r.ViewMode.DualPage?He.Both:ne===r.ScrollMode.Horizontal?He.Horizontal:He.Vertical,we=Er({elementRef:ee,enableSmoothScroll:O,isRtl:K,scrollDirection:Ae,onSmoothScroll:me}),Ke=we.scrollOffset,De=we.scrollTo,Oe=(function(je){var Ne=je.elementRef,Te=o.useState(Ne.current),Fe=Te[0],Re=Te[1],Ve=o.useRef(!1),Ue=o.useReducer(br,{height:0,width:0}),Ie=Ue[0],Me=Ue[1];return e((function(){Ne.current!==Fe&&Re(Ne.current)})),e((function(){if(Fe&&!Ve.current){Ve.current=!0;var Ge=Fe.getBoundingClientRect(),Ye=Ge.height,vt=Ge.width;Me({rect:{height:Ye,width:vt}})}}),[Fe]),o.useEffect((function(){if(Fe){var Ge=new ResizeObserver((function(Ye,vt){Ye.forEach((function(pt){if(pt.target===Fe){var Ft=pt.contentRect,Wt=Ft.height,Xe=Ft.width;Me({rect:{height:Wt,width:Xe}})}}))}));return Ge.observe(Fe),function(){Ge.unobserve(Fe)}}}),[Fe]),Ie})({elementRef:ee}),ze=o.useRef({scrollOffset:Nn,measurements:[]});ze.current.scrollOffset=Ke;var xe=o.useMemo((function(){return Array(Z).fill(-1)}),[]),qe=o.useState(xe),Be=qe[0],at=qe[1],nt=o.useMemo((function(){var je=new IntersectionObserver((function(Ne){Ne.forEach((function(Te){var Fe=Te.isIntersecting?Te.intersectionRatio:-1,Re=Te.target.getAttribute(Bn);if(Re){var Ve=parseInt(Re,10);0<=Ve&&Ve<Z&&at((function(Ue){return Ue[Ve]=Fe,(function(Ie,Me,Ge){for(var Ye,vt=0,pt=Me.length;vt<pt;vt++)!Ye&&vt in Me||(Ye||(Ye=Array.prototype.slice.call(Me,0,vt)),Ye[vt]=Me[vt]);return Ie.concat(Ye||Array.prototype.slice.call(Me))})([],Ue)}))}}))}),{threshold:Pr});return je}),[]),ot=o.useMemo((function(){return ne===r.ScrollMode.Page&&J===r.ViewMode.SinglePage?(function(je,Ne,Te){for(var Fe=[],Re=0;Re<je;Re++){var Ve={height:Math.max(Ne.height,Te[Re].height),width:Math.max(Ne.width,Te[Re].width)},Ue=Re===0?Ar:Fe[Re-1].end,Ie={left:Ue.left+Ve.width,top:Ue.top+Ve.height};Fe[Re]={index:Re,start:Ue,size:Ve,end:Ie,visibility:-1}}return Fe})(Z,Oe,oe):J===r.ViewMode.DualPageWithCover?(function(je,Ne,Te,Fe){for(var Re=[],Ve=0,Ue=0,Ie=wn,Me=0;Me<je;Me++){var Ge=Me===0?{height:Fe===r.ScrollMode.Page?Math.max(Ne.height,Te[Me].height):Te[Me].height,width:Fe===r.ScrollMode.Page?Math.max(Ne.width,Te[Me].width):Te[Me].width}:{height:Fe===r.ScrollMode.Page?Math.max(Ne.height,Te[Me].height):Te[Me].height,width:Math.max(Ne.width/2,Te[Me].width)};Fe===r.ScrollMode.Page?Ie=Me===0?wn:{left:Me%2==0?Ge.width:0,top:Math.floor((Me-1)/2)*Ge.height+Re[0].end.top}:Me===0?(Ie=wn,Ve=Te[0].height,Ue=0):Me%2==1?(Ie={left:0,top:Ve+=Ue},Ue=Me===je-1?Te[Me].height:Math.max(Te[Me].height,Te[Me+1].height)):Ie={left:Re[Me-1].end.left,top:Ve};var Ye={left:Ie.left+Ge.width,top:Ie.top+Ge.height};Re[Me]={index:Me,start:Ie,size:Ge,end:Ye,visibility:-1}}return Re})(Z,Oe,oe,ne):J===r.ViewMode.DualPage?(function(je,Ne,Te,Fe){for(var Re=[],Ve=0,Ue=0,Ie=wr,Me=0;Me<je;Me++){var Ge={height:Fe===r.ScrollMode.Page?Math.max(Ne.height,Te[Me].height):Te[Me].height,width:Math.max(Ne.width/2,Te[Me].width)};Fe===r.ScrollMode.Page?Ie={left:Me%2==0?0:Ge.width,top:Math.floor(Me/2)*Ge.height}:Me%2==0?(Ie={left:0,top:Ve+=Ue},Ue=Me===je-1?Te[Me].height:Math.max(Te[Me].height,Te[Me+1].height)):Ie={left:Re[Me-1].end.left,top:Ve};var Ye={left:Ie.left+Ge.width,top:Ie.top+Ge.height};Re[Me]={index:Me,start:Ie,size:Ge,end:Ye,visibility:-1}}return Re})(Z,Oe,oe,ne):(function(je,Ne,Te,Fe){for(var Re=[],Ve=0,Ue={left:0,top:0},Ie=0,Me=Sr,Ge=0;Ge<je;Ge++){var Ye=Te[Ge];if(Ge===0)Ve=Ye.width,Ue={left:0,top:0},Ie=Ye.height;else switch(Fe){case r.ScrollMode.Wrapped:(Ve+=Ye.width)<Ne.width?(Me={left:Re[Ge-1].end.left,top:Ue.top},Ie=Math.max(Ie,Ye.height)):(Ve=Ye.width,Ue={left:(Me={left:Ue.left,top:Ue.top+Ie}).left,top:Me.top},Ie=Ye.height);break;case r.ScrollMode.Horizontal:case r.ScrollMode.Vertical:default:Me=Re[Ge-1].end}var vt={left:Me.left+Ye.width,top:Me.top+Ye.height};Re[Ge]={index:Ge,start:Me,size:Ye,end:vt,visibility:-1}}return Re})(Z,Oe,oe,ne)}),[ne,oe,J,Oe]),ct=ot[Z-1]?{height:ot[Z-1].end.top,width:ot[Z-1].end.left}:Cr;ze.current.measurements=ot;var ut=o.useMemo((function(){var je=(function(Ge,Ye,vt,pt){var Ft=0;switch(Ge){case He.Horizontal:Ft=pt.left;break;case He.Vertical:default:Ft=pt.top}var Wt=Ye.length-1,Xe=(function(ht,Qt,dn,_n){for(;ht<=Qt;){var cn=(ht+Qt)/2|0,mn=_n(cn);if(mn<dn)ht=cn+1;else{if(!(mn>dn))return cn;Qt=cn-1}}return ht>0?ht-1:0})(0,Wt,Ft,(function(ht){switch(Ge){case He.Horizontal:return Ye[ht].start.left;case He.Both:case He.Vertical:default:return Ye[ht].start.top}}));if(Ge===He.Both)for(var It=Ye[Xe].start.top;Xe-1>=0&&Ye[Xe-1].start.top===It&&Ye[Xe-1].start.left>=pt.left;)Xe--;for(var bt=Xe;bt<=Wt;){var yt={top:Ye[bt].start.top-pt.top,left:Ye[bt].start.left-pt.left},Tt={height:vt.height-yt.top,width:vt.width-yt.left};if(Ge===He.Horizontal&&Tt.width<0||Ge===He.Vertical&&Tt.height<0||Ge===He.Both&&(Tt.width<0||Tt.height<0))break;bt++}return{start:Xe,end:bt}})(Ae,ot,Oe,Ke),Ne=je.start,Te=je.end,Fe=Be.slice(pn(0,Z,Ne),pn(0,Z,Te)),Re=Ne+Fe.reduce((function(Ge,Ye,vt,pt){return Ye>pt[Ge]?vt:Ge}),0),Ve=Re=pn(0,Z-1,Re),Ue=te({endPage:Te,numPages:Z,startPage:Ne}),Ie=Ue.startPage,Me=Ue.endPage;switch(Ie=Math.max(Ie,0),Me=Math.min(Me,Z-1),J){case r.ViewMode.DualPageWithCover:Re>0&&(Ve=Re%2==1?Re:Re-1),Ie=Ie===0?0:Ie%2==1?Ie:Ie-1,Z-(Me=Me%2==1?Me-1:Me)<=2&&(Me=Z-1);break;case r.ViewMode.DualPage:Ve=Re%2==0?Re:Re-1,Ie=Ie%2==0?Ie:Ie-1,Me=Me%2==1?Me:Me-1;break;case r.ViewMode.SinglePage:default:Ve=Re}return{startPage:Ie,endPage:Me,maxVisbilityIndex:Ve}}),[ot,Oe,Ke,J,Be]),kt=ut.startPage,Et=ut.endPage,Mt=ut.maxVisbilityIndex,wt=o.useMemo((function(){for(var je=[],Ne=function(Fe){var Re=ot[Fe],Ve=n(n({},Re),{visibility:Be[Fe]!==void 0?Be[Fe]:-1,measureRef:function(Ue){Ue&&(Ue.setAttribute(Bn,"".concat(Fe)),nt.observe(Ue))}});je.push(Ve)},Te=kt;Te<=Et;Te++)Ne(Te);return je}),[kt,Et,Be,ot]),Ct=o.useCallback((function(je,Ne){var Te=ze.current.measurements[pn(0,Z-1,je)],Fe=pe.current===r.ScrollMode.Page?Nn:Ne;return Te?De({left:Fe.left+Te.start.left,top:Fe.top+Te.start.top},O):Promise.resolve()}),[De,O]),Pt=o.useCallback((function(je,Ne){var Te=ze.current.measurements,Fe=Te[je].start,Re=Te.find((function(Ue){return Ue.start.top-Fe.top>1e-12}));if(!Re)return Promise.resolve();var Ve=Re.index;switch(Ce.current){case r.ViewMode.DualPage:Ve=Ve%2==0?Ve:Ve+1;break;case r.ViewMode.DualPageWithCover:Ve=Ve%2==1?Ve:Ve+1}return Ct(Ve,Ne)}),[]),At=o.useCallback((function(je,Ne){for(var Te=ze.current.measurements,Fe=Te[je].start,Re=je,Ve=!1,Ue=Z-1;Ue>=0;Ue--)if(Fe.top-Te[Ue].start.top>1e-12){Ve=!0,Re=Te[Ue].index;break}if(!Ve)return Promise.resolve();switch(Ce.current){case r.ViewMode.DualPage:Re=Re%2==0?Re:Re-1;break;case r.ViewMode.DualPageWithCover:Re=Re%2==0?Re-1:Re}return Re===je&&(Re=je-1),Ct(Re,Ne)}),[]),Ot=o.useCallback((function(je,Ne){if(Ce.current===r.ViewMode.DualPageWithCover||Ce.current===r.ViewMode.DualPage)return Pt(je,Ne);switch(pe.current){case r.ScrollMode.Wrapped:return Pt(je,Ne);case r.ScrollMode.Horizontal:case r.ScrollMode.Vertical:default:return Ct(je+1,Ne)}}),[]),Yt=o.useCallback((function(je,Ne){if(Ce.current===r.ViewMode.DualPageWithCover||Ce.current===r.ViewMode.DualPage)return At(je,Ne);switch(pe.current){case r.ScrollMode.Wrapped:return At(je,Ne);case r.ScrollMode.Horizontal:case r.ScrollMode.Vertical:default:return Ct(je-1,Ne)}}),[]),Gt=o.useCallback((function(){return(function(je,Ne){switch(Ne){case r.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(je.width,"px")};case r.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(je.height,"px"),width:"100%"}}})(ct,pe.current)}),[ct]),Lt=o.useCallback((function(je){return(function(Ne,Te,Fe){return Fe!==r.ScrollMode.Page?{}:{height:"".concat(Te.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Ne.start.top,"px)")}})(je,Oe,pe.current)}),[Oe]),qt=o.useCallback((function(je){return(function(Ne,Te,Fe,Re,Ve){var Ue,Ie,Me,Ge,Ye,vt,pt,Ft=Te?"right":"left",Wt=Te?-1:1,Xe=Fe.length,It=Ne.start.left*Wt,bt=Ne.size,yt=bt.height,Tt=bt.width;if(Re===r.ViewMode.DualPageWithCover){var ht=Ve===r.ScrollMode.Page?0:Ne.start.top;return Ne.index===0||Xe%2==0&&Ne.index===Xe-1?((Ue={height:"".concat(yt,"px"),minWidth:"".concat(yr(Fe,Re),"px"),width:"100%"})[Ft]=0,Ue.position="absolute",Ue.top=0,Ue.transform="translate(".concat(It,"px, ").concat(ht,"px)"),Ue):((Ie={height:"".concat(yt,"px"),width:"".concat(Tt,"px")})[Ft]=0,Ie.position="absolute",Ie.top=0,Ie.transform="translate(".concat(It,"px, ").concat(ht,"px)"),Ie)}if(Re===r.ViewMode.DualPage)return(Me={height:"".concat(yt,"px"),width:"".concat(Tt,"px")})[Ft]=0,Me.position="absolute",Me.top=0,Me.transform="translate(".concat(It,"px, ").concat(Ve===r.ScrollMode.Page?0:Ne.start.top,"px)"),Me;switch(Ve){case r.ScrollMode.Horizontal:return(Ge={height:"100%",width:"".concat(Tt,"px")})[Ft]=0,Ge.position="absolute",Ge.top=0,Ge.transform="translateX(".concat(It,"px)"),Ge;case r.ScrollMode.Page:return(Ye={height:"".concat(yt,"px"),width:"".concat(Tt,"px")})[Ft]=0,Ye.position="absolute",Ye.top=0,Ye;case r.ScrollMode.Wrapped:return(vt={height:"".concat(yt,"px"),width:"".concat(Tt,"px")})[Ft]=0,vt.position="absolute",vt.top=0,vt.transform="translate(".concat(It,"px, ").concat(Ne.start.top,"px)"),vt;case r.ScrollMode.Vertical:default:return(pt={height:"".concat(yt,"px"),width:"100%"})[Ft]=0,pt.position="absolute",pt.top=0,pt.transform="translateY(".concat(Ne.start.top,"px)"),pt}})(je,K,oe,Ce.current,pe.current)}),[K,oe]),Jt=o.useCallback((function(je,Ne){var Te=ze.current,Fe=Te.measurements,Re=Te.scrollOffset,Ve=Fe[pn(0,Z-1,Ne)];if(Ve){var Ue=pe.current===r.ScrollMode.Page?{left:Ve.start.left,top:Ve.start.top}:{left:Re.left*je,top:Re.top*je};return De(Ue,!1)}return Promise.resolve()}),[]);return o.useEffect((function(){return function(){nt.disconnect()}}),[]),{boundingClientRect:Oe,isSmoothScrolling:ie,startPage:kt,endPage:Et,maxVisbilityIndex:Mt,virtualItems:wt,getContainerStyles:Gt,getItemContainerStyles:Lt,getItemStyles:qt,scrollToItem:Ct,scrollToNextItem:Ot,scrollToPreviousItem:Yt,zoom:Jt}},An=function(S,O,K,Z,ee,te){var oe=K;switch(!0){case(ee===r.ViewMode.DualPageWithCover&&te>=3):case(ee===r.ViewMode.DualPage&&te>=3):oe=2*K;break;default:oe=K}switch(Z){case r.SpecialZoomLevel.ActualSize:return 1;case r.SpecialZoomLevel.PageFit:return Math.min((S.clientWidth-17)/oe,(S.clientHeight-16)/O);case r.SpecialZoomLevel.PageWidth:return(S.clientWidth-17)/oe}},Mr=function(S){var O,K,Z=S.getCurrentPage,ee=(O=50,K=o.useRef([]),o.useEffect((function(){return function(){K.current=[]}}),[]),{push:function(ae){var ie=K.current;ie.length+1>O&&ie.shift(),ie.push(ae),K.current=ie},map:function(ae){return K.current.map((function(ie){return ae(ie)}))},pop:function(){var ae=K.current;if(ae.length===0)return null;var ie=ae.pop();return K.current=ae,ie}}),te=(function(ae){var ie=o.useRef([]);return o.useEffect((function(){return function(){ie.current=[]}}),[]),{dequeue:function(){var ge=ie.current;if(ge.length===0)return null;var me=ge.shift();return ie.current=ge,me||null},enqueue:function(ge){var me=ie.current;me.length+1>ae&&me.pop(),ie.current=[ge].concat(me)},map:function(ge){return ie.current.map((function(me){return ge(me)}))}}})(50),oe=function(){var ae=te.dequeue();return ae&&ee.push(ae),ae&&ae.pageIndex===Z()?oe():ae},ne=function(){var ae=ee.pop();return ae&&te.enqueue(ae),ae&&ae.pageIndex===Z()?ne():ae},J=o.useCallback((function(ae){ee.push(ae)}),[]);return{getNextDestination:oe,getPreviousDestination:ne,markVisitedDestination:J}},jn=function(S){var O=[];return S.map((function(K){O=O.concat(K).concat((function(Z){var ee=[];return Z.items&&Z.items.length>0&&(ee=ee.concat(jn(Z.items))),ee})(K))})),O},zn={capture:!1,passive:!0},xr={height:0,width:0},Cn={height:0,width:0},Tr=function(S){var O=S.getCurrentPage,K=S.getCurrentScrollMode,Z=S.jumpToPage,ee=S.targetRef,te=o.useState(r.FullScreenMode.Normal),oe=te[0],ne=te[1],J=(function(){var Be=o.useState(xr),at=Be[0],nt=Be[1],ot=G((function(){nt({height:window.innerHeight,width:window.innerWidth})}),100);return e((function(){return window.addEventListener("resize",ot,zn),function(){window.removeEventListener("resize",ot,zn)}}),[]),at})(),ae=o.useState(Cn),ie=ae[0],ge=ae[1],me=o.useRef(Cn),pe=o.useRef(O()),Ce=o.useRef(Cn),Ae=o.useState(ee.current),we=Ae[0],Ke=Ae[1],De=o.useRef();e((function(){ee.current!==we&&Ke(ee.current)}),[]),e((function(){if(we){var Be=new ResizeObserver((function(at){at.forEach((function(nt){var ot=nt.target.getBoundingClientRect(),ct=ot.height,ut=ot.width;ge({height:ct,width:ut})}))}));return Be.observe(we),function(){Be.unobserve(we),Be.disconnect()}}}),[we]);var Oe=o.useCallback((function(Be){var at=H();return at&&at!==Be?(ne(r.FullScreenMode.Normal),N(at)):Promise.resolve()}),[]),ze=o.useCallback((function(Be){Be&&w()&&(Ke(Be),Oe(Be).then((function(){De.current=Be,ne(r.FullScreenMode.Entering),(function(at){R&&at[j.RequestFullScreen]()})(Be)})))}),[]),xe=o.useCallback((function(){H()&&(ne(r.FullScreenMode.Exitting),N(document))}),[]),qe=o.useCallback((function(){we&&H()!==we&&ne(r.FullScreenMode.Exitting)}),[we]);return o.useEffect((function(){switch(oe){case r.FullScreenMode.Entering:De.current&&(De.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),pe.current=O(),me.current={height:window.innerHeight,width:window.innerWidth};break;case r.FullScreenMode.Entered:K()===r.ScrollMode.Page?Z(pe.current).then((function(){ne(r.FullScreenMode.EnteredCompletely)})):ne(r.FullScreenMode.EnteredCompletely);break;case r.FullScreenMode.Exitting:De.current&&(De.current.style.backgroundColor="",De.current=null),pe.current=O();break;case r.FullScreenMode.Exited:ne(r.FullScreenMode.Normal),K()===r.ScrollMode.Page&&Z(pe.current)}}),[oe]),o.useEffect((function(){if(oe!==r.FullScreenMode.Normal)return oe===r.FullScreenMode.Entering&&J.height===ie.height&&J.width===ie.width&&J.height>0&&J.width>0&&(Ce.current.height===0||J.height==Ce.current.height)?(Ce.current={height:window.innerHeight,width:window.innerWidth},void ne(r.FullScreenMode.Entered)):void(oe===r.FullScreenMode.Exitting&&me.current.height===J.height&&me.current.width===J.width&&J.height>0&&J.width>0&&ne(r.FullScreenMode.Exited))}),[oe,J,ie]),o.useEffect((function(){var Be;return Be=qe,R&&document.addEventListener(j.FullScreenChange,Be),function(){(function(at){R&&document.removeEventListener(j.FullScreenChange,at)})(qe)}}),[we]),{enterFullScreenMode:ze,exitFullScreenMode:xe,fullScreenMode:oe}},Rr={buildPageStyles:function(){return{}},transformSize:function(S){return S.size}},un={left:0,top:0},Lr=function(S){var O=S.currentFile,K=S.defaultScale,Z=S.doc,ee=S.enableSmoothScroll,te=S.initialPage,oe=S.initialRotation,ne=S.initialScale,J=S.pageLayout,ae=S.pageSizes,ie=S.plugins,ge=S.renderPage,me=S.scrollMode,pe=S.setRenderRange,Ce=S.viewMode,Ae=S.viewerState,we=S.onDocumentLoad,Ke=S.onOpenFile,De=S.onPageChange,Oe=S.onRotate,ze=S.onRotatePage,xe=S.onZoom,qe=Z.numPages,Be=Z.loadingTask.docId,at=o.useContext(M).l10n,nt=o.useContext(u),ot=nt.direction===r.TextDirection.RightToLeft,ct=o.useRef(),ut=o.useRef(),kt=o.useState(te),Et=kt[0],Mt=kt[1],wt=o.useRef(null),Ct=Mr({getCurrentPage:function(){return Xe.current.pageIndex}}),Pt=o.useState(oe),At=Pt[0],Ot=Pt[1],Yt=W(At),Gt=o.useState(!1),Lt=Gt[0],qt=Gt[1],Jt=o.useState(new Map),je=Jt[0],Ne=Jt[1],Te=o.useState(me),Fe=Te[0],Re=Te[1],Ve=W(Fe),Ue=o.useState(Ce),Ie=Ue[0],Me=Ue[1],Ge=W(Ie),Ye=(function(ye){var $e=$(),Qe=o.useState([]),dt=Qe[0],lt=Qe[1];return o.useEffect((function(){ye.getOutline().then((function(et){if($e.current&&et!==null){var Rt=jn(et);lt(Rt)}}))}),[]),dt})(Z),vt=o.useState(ne),pt=vt[0],Ft=vt[1],Wt=W(pt),Xe=o.useRef(Ae),It=o.useRef(typeof K=="string"?K:null),bt=o.useRef(-1),yt=o.useRef(-1),Tt=o.useRef(te),ht=Tr({getCurrentPage:function(){return Xe.current.pageIndex},getCurrentScrollMode:function(){return Xe.current.scrollMode},jumpToPage:function(ye){return tn(ye)},targetRef:ut}),Qt=o.useState(-1),dn=Qt[0],_n=Qt[1],cn=o.useState(0),mn=cn[0],Br=cn[1],Ut=p({doc:Z});o.useEffect((function(){return function(){Ze.clear(),gt.clear()}}),[Be]);var Wn=o.useMemo((function(){return Object.assign({},Rr,J)}),[]),jr=o.useMemo((function(){return Array(qe).fill(0).map((function(ye,$e){var Qe=[ae[$e].pageHeight,ae[$e].pageWidth],dt=Math.abs(At)%180==0?{height:Qe[0],width:Qe[1]}:{height:Qe[1],width:Qe[0]},lt={height:dt.height*pt,width:dt.width*pt};return Wn.transformSize({numPages:qe,pageIndex:$e,size:lt})}))}),[At,pt]),mt=kr({enableSmoothScroll:ee,isRtl:ot,numberOfItems:qe,parentRef:ut,scrollMode:Fe,setRenderRange:pe,sizes:jr,viewMode:Ie}),zr=G((function(){!It.current||Xe.current.fullScreenMode!==r.FullScreenMode.Normal||te>0&&Tt.current===te||ln(It.current)}),200);(function(ye){var $e=ye.targetRef,Qe=ye.onResize;e((function(){var dt=new ResizeObserver((function(et){et.forEach((function(Rt){Qe(Rt.target)}))})),lt=$e.current;if(lt)return dt.observe(lt),function(){dt.unobserve(lt)}}),[])})({targetRef:ut,onResize:zr});var en=function(ye){var $e=ye;ie.forEach((function(Qe){Qe.onViewerStateChange&&($e=Qe.onViewerStateChange($e))})),Xe.current=$e},Hr=function(){return ut.current},qr=function(){return Xe.current},Vr=o.useCallback((function(ye){Ct.markVisitedDestination(ye)}),[]),Mn=o.useCallback((function(ye){var $e=ye.pageIndex,Qe=ye.bottomOffset,dt=ye.leftOffset,lt=ye.scaleTo,et=ut.current,Rt=Xe.current;return et&&Rt?new Promise((function(nn,In){st(Z,$e).then((function(En){var rn=En.getViewport({scale:1}),yn=0,Jn=(typeof Qe=="function"?Qe(rn.width,rn.height):Qe)||0,Sn=(typeof dt=="function"?dt(rn.width,rn.height):dt)||0,hn=Rt.scale;switch(lt){case r.SpecialZoomLevel.PageFit:yn=0,Sn=0,ln(r.SpecialZoomLevel.PageFit);break;case r.SpecialZoomLevel.PageWidth:hn=An(et,ae[$e].pageHeight,ae[$e].pageWidth,r.SpecialZoomLevel.PageWidth,Ce,qe),yn=(rn.height-Jn)*hn,Sn*=hn,ln(hn);break;default:yn=(rn.height-Jn)*hn,Sn*=hn}switch(Rt.scrollMode){case r.ScrollMode.Horizontal:mt.scrollToItem($e,{left:Sn,top:0}).then((function(){nn()}));break;case r.ScrollMode.Vertical:default:mt.scrollToItem($e,{left:0,top:yn}).then((function(){nn()}))}}))})):Promise.resolve()}),[]),Un=o.useCallback((function(ye){return Ct.markVisitedDestination(ye),Mn(ye)}),[]),Wr=o.useCallback((function(){var ye=Ct.getNextDestination();return ye?Mn(ye):Promise.resolve()}),[]),Ur=o.useCallback((function(){var ye=Ct.getPreviousDestination();return ye?Mn(ye):Promise.resolve()}),[]),$r=o.useCallback((function(){return mt.scrollToNextItem(Xe.current.pageIndex,un)}),[]),tn=o.useCallback((function(ye){return 0<=ye&&ye<qe?mt.scrollToItem(ye,un):Promise.resolve()}),[]),Gr=o.useCallback((function(){return mt.scrollToPreviousItem(Xe.current.pageIndex,un)}),[]),$n=o.useCallback((function(ye){var $e,Qe;($e=ye.name,Qe=$e.split(/\./).pop(),Qe?Qe.toLowerCase():"").toLowerCase()==="pdf"&&new Promise((function(dt){var lt=new FileReader;lt.readAsArrayBuffer(ye),lt.onload=function(){var et=new Uint8Array(lt.result);dt(et)}})).then((function(dt){Ke(ye.name,dt)}))}),[Ke]),Gn=o.useCallback((function(ye){var $e=ye===r.RotateDirection.Backward?-90:90,Qe=Xe.current.rotation,dt=Qe===360||Qe===-360?$e:Qe+$e;Ut.markNotRendered(),Ot(dt),en(n(n({},Xe.current),{rotation:dt})),Oe({direction:ye,doc:Z,rotation:dt})}),[]),xn=o.useCallback((function(ye,$e){var Qe=$e===r.RotateDirection.Backward?-90:90,dt=Xe.current.pagesRotation,lt=(dt.has(ye)?dt.get(ye):oe)+Qe,et=dt.set(ye,lt);Ne(et),qt((function(Rt){return!Rt})),en(n(n({},Xe.current),{pagesRotation:et,rotatedPage:ye})),ze({direction:$e,doc:Z,pageIndex:ye,rotation:lt}),Ut.markRendering(ye),_n(ye)}),[]),Xn=o.useCallback((function(ye){en(n(n({},Xe.current),{scrollMode:ye})),Re(ye)}),[]),Kn=o.useCallback((function(ye){en(n(n({},Xe.current),{viewMode:ye})),Me(ye)}),[]),ln=o.useCallback((function(ye){var $e=ut.current,Qe=Xe.current.pageIndex;if(!(Qe<0||Qe>=qe)){var dt=ae[Qe].pageHeight,lt=ae[Qe].pageWidth,et=$e?typeof ye=="string"?An($e,dt,lt,ye,Xe.current.viewMode,qe):ye:1;It.current=typeof ye=="string"?ye:null,et!==Xe.current.scale&&(Br((function(Rt){return Rt+1})),Ut.markNotRendered(),Ft(et),xe({doc:Z,scale:et}),en(n(n({},Xe.current),{scale:et})))}}),[]),Xr=o.useCallback((function(ye){ht.enterFullScreenMode(ye)}),[]),Kr=o.useCallback((function(){ht.exitFullScreenMode()}),[]);o.useEffect((function(){en(n(n({},Xe.current),{fullScreenMode:ht.fullScreenMode}))}),[ht.fullScreenMode]),o.useEffect((function(){var ye={enterFullScreenMode:Xr,exitFullScreenMode:Kr,getPagesContainer:Hr,getViewerState:qr,jumpToDestination:Un,jumpToNextDestination:Wr,jumpToPreviousDestination:Ur,jumpToNextPage:$r,jumpToPreviousPage:Gr,jumpToPage:tn,openFile:$n,rotate:Gn,rotatePage:xn,setViewerState:en,switchScrollMode:Xn,switchViewMode:Kn,zoom:ln};return ie.forEach((function($e){$e.install&&$e.install(ye)})),function(){ie.forEach((function($e){$e.uninstall&&$e.uninstall(ye)}))}}),[Be]),o.useEffect((function(){we({doc:Z,file:O}),ie.forEach((function(ye){ye.onDocumentLoad&&ye.onDocumentLoad({doc:Z,file:O})}))}),[Be]);var Tn,Rn,Ln,Yn=mt.boundingClientRect;Tn=function(){te&&tn(te)},Rn=Yn.height>0&&Yn.width>0,Ln=o.useRef(!1),e((function(){Rn&&!Ln.current&&(Ln.current=!0,Tn())}),[Tn,Rn]),e((function(){var ye=Xe.current.pageIndex;ye>-1&&Ve!==Fe&&mt.scrollToItem(ye,un).then((function(){ht.fullScreenMode===r.FullScreenMode.EnteredCompletely&&(ee||Ut.markNotRendered(),bt.current=-1)}))}),[Fe]),e((function(){var ye=Xe.current.pageIndex;ye>-1&&Yt!==At&&mt.scrollToItem(ye,un)}),[At]),e((function(){Wt!=0&&Wt!=Xe.current.scale&&mt.zoom(Xe.current.scale/Wt,Xe.current.pageIndex).then((function(){ht.fullScreenMode===r.FullScreenMode.EnteredCompletely&&(yt.current=-1)}))}),[pt]),e((function(){if(Ge!==Xe.current.viewMode){var ye=mt.startPage,$e=mt.endPage,Qe=mt.virtualItems;Ut.markNotRendered(),Ut.setRange(ye,$e);for(var dt=function(et){var Rt=Qe.find((function(nn){return nn.index===et}));Rt&&Ut.setVisibility(et,Rt.visibility)},lt=ye;lt<=$e;lt++)dt(lt);Fn()}}),[Ie]),e((function(){var ye=Xe.current.pageIndex;ye>-1&&Ge!==Ie&&mt.scrollToItem(ye,un)}),[Ie]),e((function(){var ye=Xe.current.pageIndex;ye>0&&ye===te&&Tt.current===te&&It.current&&(Tt.current=-1,ln(It.current))}),[Et]),o.useEffect((function(){mt.isSmoothScrolling||wt.current!==null&&wt.current===Et||(wt.current=Et,De({currentPage:Et,doc:Z}))}),[Et,mt.isSmoothScrolling]),o.useEffect((function(){ht.fullScreenMode===r.FullScreenMode.Entering&&Xe.current.scrollMode===r.ScrollMode.Page&&(bt.current=Xe.current.pageIndex),ht.fullScreenMode===r.FullScreenMode.EnteredCompletely&&Xe.current.scrollMode===r.ScrollMode.Page&&ee&&(bt.current=-1),ht.fullScreenMode===r.FullScreenMode.EnteredCompletely&&It.current&&(yt.current=Xe.current.pageIndex,ln(It.current))}),[ht.fullScreenMode]),o.useEffect((function(){if(ht.fullScreenMode!==r.FullScreenMode.Entering&&ht.fullScreenMode!==r.FullScreenMode.Exitting&&!mt.isSmoothScrolling){var ye=mt.startPage,$e=mt.endPage,Qe=mt.maxVisbilityIndex,dt=mt.virtualItems,lt=Qe,et=ht.fullScreenMode===r.FullScreenMode.Entered||ht.fullScreenMode===r.FullScreenMode.EnteredCompletely;if(!(et&&lt!==bt.current&&bt.current>-1||et&&lt!==yt.current&&yt.current>-1)){Mt(lt),en(n(n({},Xe.current),{pageIndex:lt})),Ut.setRange(ye,$e);for(var Rt=function(In){var En=dt.find((function(rn){return rn.index===In}));En&&Ut.setVisibility(In,En.visibility)},nn=ye;nn<=$e;nn++)Rt(nn);Fn()}}}),[mt.startPage,mt.endPage,mt.isSmoothScrolling,mt.maxVisbilityIndex,ht.fullScreenMode,Lt,At,pt]);var Yr=o.useCallback((function(ye){Ut.markRendered(ye),Fn()}),[mn]),Fn=function(){var ye=Ut.getHighestPriorityPage();ye>-1&&Ut.isInRange(ye)&&(Ut.markRendering(ye),_n(ye))},Zr=function(ye){var $e=Et-1,Qe=Et+1;switch(ye){case"FirstPage":tn(0);break;case"LastPage":tn(qe-1);break;case"NextPage":Qe<qe&&tn(Qe);break;case"PrevPage":$e>=0&&tn($e)}},Jr=o.useCallback((function(){var ye=mt.virtualItems,$e=[];switch(Ie){case r.ViewMode.DualPage:$e=We(ye,2);break;case r.ViewMode.DualPageWithCover:ye.length&&($e=ye[0].index===0?[[ye[0]]].concat(We(ye.slice(1),2)):We(ye,2));break;case r.ViewMode.SinglePage:default:$e=We(ye,1)}var Qe=at&&at.core?at.core.pageLabel:"Page {{pageIndex}}",dt={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:ct,style:{height:"100%"}},children:o.createElement(o.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:c({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Fe===r.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":ot,"rpv-core__inner-pages--single":Fe===r.ScrollMode.Page,"rpv-core__inner-pages--vertical":Fe===r.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Fe===r.ScrollMode.Wrapped}),ref:ut,style:{height:"100%",position:"relative"}},children:o.createElement("div",{"data-testid":"core__inner-current-page-".concat(Et),style:Object.assign({"--scale-factor":pt},mt.getContainerStyles())},$e.map((function(lt){return o.createElement("div",{className:c({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Fe===r.ScrollMode.Page}),style:mt.getItemContainerStyles(lt[0]),key:"".concat(lt[0].index,"-").concat(Ie)},lt.map((function(et){var Rt=Ie===r.ViewMode.DualPageWithCover&&(et.index===0||qe%2==0&&et.index===qe-1);return o.createElement("div",{"aria-label":Qe.replace("{{pageIndex}}","".concat(et.index+1)),className:c({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Ie===r.ViewMode.DualPage&&et.index%2==0,"rpv-core__inner-page--dual-odd":Ie===r.ViewMode.DualPage&&et.index%2==1,"rpv-core__inner-page--dual-cover":Rt,"rpv-core__inner-page--dual-cover-even":Ie===r.ViewMode.DualPageWithCover&&!Rt&&et.index%2==0,"rpv-core__inner-page--dual-cover-odd":Ie===r.ViewMode.DualPageWithCover&&!Rt&&et.index%2==1,"rpv-core__inner-page--single":Ie===r.ViewMode.SinglePage&&Fe===r.ScrollMode.Page}),role:"region",key:"".concat(et.index,"-").concat(Ie),style:Object.assign({},mt.getItemStyles(et),Wn.buildPageStyles({numPages:qe,pageIndex:et.index,scrollMode:Fe,viewMode:Ie}))},o.createElement(vr,{doc:Z,measureRef:et.measureRef,outlines:Ye,pageIndex:et.index,pageRotation:je.has(et.index)?je.get(et.index):0,pageSize:ae[et.index],plugins:ie,renderPage:ge,renderQueueKey:mn,rotation:At,scale:pt,shouldRender:dn===et.index,viewMode:Ie,onExecuteNamedAction:Zr,onJumpFromLinkAnnotation:Vr,onJumpToDest:Un,onRenderCompleted:Yr,onRotatePage:xn}))})))})))}};return ie.forEach((function(lt){lt.renderViewer&&(dt=lt.renderViewer({containerRef:ct,doc:Z,pagesContainerRef:ut,pagesRotation:je,pageSizes:ae,rotation:At,slot:dt,themeContext:nt,jumpToPage:tn,openFile:$n,rotate:Gn,rotatePage:xn,switchScrollMode:Xn,switchViewMode:Kn,zoom:ln}))})),dt}),[ie,mt]),Zn=o.useCallback((function(ye){return o.createElement("div",n({},ye.attrs,{style:ye.attrs&&ye.attrs.style?ye.attrs.style:{}}),ye.children,ye.subSlot&&Zn(ye.subSlot))}),[]);return Zn(Jr())},Hn=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Fr=function(S){var O=S.defaultScale,K=S.doc,Z=S.render,ee=S.scrollMode,te=S.viewMode,oe=o.useRef(),ne=o.useState({pageSizes:[],scale:0}),J=ne[0],ae=ne[1];return o.useLayoutEffect((function(){var ie=Array(K.numPages).fill(0).map((function(ge,me){return new Promise((function(pe,Ce){st(K,me).then((function(Ae){var we=Ae.getViewport({scale:1});pe({pageHeight:we.height,pageWidth:we.width,rotation:we.rotation})}))}))}));Promise.all(ie).then((function(ge){var me=oe.current;if(me&&ge.length!==0){var pe=ge[0].pageWidth,Ce=ge[0].pageHeight,Ae=me.parentElement,we=(Ae.clientWidth-45)/pe,Ke=(Ae.clientHeight-45)/Ce,De=we;switch(ee){case r.ScrollMode.Horizontal:De=Math.min(we,Ke);break;case r.ScrollMode.Vertical:default:De=we}var Oe,ze,xe=O?typeof O=="string"?An(Ae,Ce,pe,O,te,K.numPages):O:(Oe=De,(ze=Hn.findIndex((function(qe){return qe>=Oe})))===-1||ze===0?Oe:Hn[ze-1]);ae({pageSizes:ge,scale:xe})}}))}),[K.loadingTask.docId]),J.pageSizes.length===0||J.scale===0?o.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:oe},o.createElement(T,null)):Z(J.pageSizes,J.scale)},bn=function(){},Pn=(function(S){function O(K,Z){var ee=S.call(this)||this;return ee.verifyPassword=K,ee.passwordStatus=Z,ee}return X(O,S),O})(bn),Ir=function(S){var O=S.passwordStatus,K=S.renderProtectedView,Z=S.verifyPassword,ee=S.onDocumentAskPassword,te=o.useContext(M).l10n,oe=o.useState(""),ne=oe[0],J=oe[1],ae=o.useContext(u).direction===r.TextDirection.RightToLeft,ie=function(){return Z(ne)};return o.useEffect((function(){ee&&ee({verifyPassword:Z})}),[]),K?K({passwordStatus:O,verifyPassword:Z}):o.createElement("div",{className:"rpv-core__asking-password-wrapper"},o.createElement("div",{className:c({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":ae})},o.createElement("div",{className:"rpv-core__asking-password-message"},O===r.PasswordStatus.RequiredPassword&&te.core.askingPassword.requirePasswordToOpen,O===r.PasswordStatus.WrongPassword&&te.core.wrongPassword.tryAgain),o.createElement("div",{className:"rpv-core__asking-password-body"},o.createElement("div",{className:c({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!ae,"rpv-core__asking-password-input--rtl":ae})},o.createElement(y,{testId:"core__asking-password-input",type:"password",value:ne,onChange:J,onKeyDown:function(ge){ge.key==="Enter"&&ie()}})),o.createElement(f,{onClick:ie},te.core.askingPassword.submit))))},qn=(function(S){function O(K){var Z=S.call(this)||this;return Z.doc=K,Z}return X(O,S),O})(bn),Vn=(function(S){function O(K){var Z=S.call(this)||this;return Z.error=K,Z}return X(O,S),O})(bn),kn=(function(S){function O(K){var Z=S.call(this)||this;return Z.percentages=K,Z}return X(O,S),O})(bn),Dr=function(S){var O=S.characterMap,K=S.file,Z=S.httpHeaders,ee=S.render,te=S.renderError,oe=S.renderLoader,ne=S.renderProtectedView,J=S.transformGetDocumentParams,ae=S.withCredentials,ie=S.onDocumentAskPassword,ge=o.useContext(u).direction===r.TextDirection.RightToLeft,me=o.useState(new kn(0)),pe=me[0],Ce=me[1],Ae=o.useRef(""),we=$();return o.useEffect((function(){Ae.current="",Ce(new kn(0));var Ke=new x.PDFWorker({name:"PDFWorker_".concat(Date.now())}),De=Object.assign({httpHeaders:Z,withCredentials:ae,worker:Ke},typeof K=="string"?{url:K}:{data:K},O?{cMapUrl:O.url,cMapPacked:O.isCompressed}:{}),Oe=J?J(De):De,ze=x.getDocument(Oe);return ze.onPassword=function(xe,qe){switch(qe){case x.PasswordResponses.NEED_PASSWORD:we.current&&Ce(new Pn(xe,r.PasswordStatus.RequiredPassword));break;case x.PasswordResponses.INCORRECT_PASSWORD:we.current&&Ce(new Pn(xe,r.PasswordStatus.WrongPassword))}},ze.onProgress=function(xe){var qe=xe.total>0?Math.min(100,100*xe.loaded/xe.total):100;we.current&&Ae.current===""&&Ce(new kn(qe))},ze.promise.then((function(xe){Ae.current=xe.loadingTask.docId,we.current&&Ce(new qn(xe))}),(function(xe){return we.current&&!Ke.destroyed&&Ce(new Vn({message:xe.message||"Cannot load document",name:xe.name}))})),function(){ze.destroy(),Ke.destroy()}}),[K]),pe instanceof Pn?o.createElement(Ir,{passwordStatus:pe.passwordStatus,renderProtectedView:ne,verifyPassword:pe.verifyPassword,onDocumentAskPassword:ie}):pe instanceof qn?ee(pe.doc):pe instanceof Vn?te?te(pe.error):o.createElement("div",{className:c({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":ge})},o.createElement("div",{className:"rpv-core__doc-error-text"},pe.error.message)):o.createElement("div",{"data-testid":"core__doc-loading",className:c({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":ge})},oe?oe(pe.percentages):o.createElement(T,null))},Or=function(S,O){var K=o.useMemo((function(){return S==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":S}),[]),Z=o.useState(K),ee=Z[0],te=Z[1],oe=W(ee);return o.useEffect((function(){if(S==="auto"){var ne=window.matchMedia("(prefers-color-scheme: dark)"),J=function(ae){te(ae.matches?"dark":"light")};return ne.addEventListener("change",J),function(){return ne.removeEventListener("change",J)}}}),[]),o.useEffect((function(){ee!==oe&&O&&O(ee)}),[ee]),o.useEffect((function(){S!==ee&&te(S)}),[S]),{currentTheme:ee,setCurrentTheme:te}},Nr=function(S){return{startPage:S.startPage-3,endPage:S.endPage+3}};r.Button=function(S){var O=S.children,K=S.testId,Z=S.onClick,ee=o.useContext(u).direction===r.TextDirection.RightToLeft,te=K?{"data-testid":K}:{};return o.createElement("button",n({className:c({"rpv-core__button":!0,"rpv-core__button--rtl":ee}),type:"button",onClick:Z},te),O)},r.Icon=l,r.LazyRender=function(S){var O=S.attrs,K=S.children,Z=S.testId,ee=o.useState(!1),te=ee[0],oe=ee[1],ne=Z?n(n({},O),{"data-testid":Z}):O,J=t({once:!0,onVisibilityChanged:function(ae){ae.isVisible&&oe(!0)}});return o.createElement("div",n({ref:J},ne),te&&K)},r.LocalizationContext=M,r.Menu=function(S){var O=S.children,K=o.useRef(),Z=o.useRef([]),ee=o.useContext(u).direction===r.TextDirection.RightToLeft,te=function(ne){if(K.current)switch(ne.key){case"Tab":ne.preventDefault();break;case"ArrowDown":ne.preventDefault(),oe((function(J,ae){return ae+1}));break;case"ArrowUp":ne.preventDefault(),oe((function(J,ae){return ae-1}));break;case"End":ne.preventDefault(),oe((function(J,ae){return J.length-1}));break;case"Home":ne.preventDefault(),oe((function(J,ae){return 0}))}},oe=function(ne){if(K.current){var J=Z.current,ae=J.findIndex((function(ge){return ge.getAttribute("tabindex")==="0"})),ie=Math.min(J.length-1,Math.max(0,ne(J,ae)));ae>=0&&ae<=J.length-1&&J[ae].setAttribute("tabindex","-1"),J[ie].setAttribute("tabindex","0"),J[ie].focus()}};return e((function(){var ne=K.current;if(ne){var J=(function(ae){var ie=[];return ae.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach((function(ge){if(ge instanceof HTMLElement){var me=ge.parentElement;(me===ae||window.getComputedStyle(me).display!=="none")&&ie.push(ge)}})),ie})(ne);Z.current=J}}),[]),e((function(){return document.addEventListener("keydown",te),function(){document.removeEventListener("keydown",te)}}),[]),o.createElement("div",{ref:K,"aria-orientation":"vertical",className:c({"rpv-core__menu":!0,"rpv-core__menu--rtl":ee}),role:"menu",tabIndex:0},O)},r.MenuDivider=function(){return o.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},r.MenuItem=function(S){var O=S.checked,K=O!==void 0&&O,Z=S.children,ee=S.icon,te=ee===void 0?null:ee,oe=S.isDisabled,ne=oe!==void 0&&oe,J=S.testId,ae=S.onClick,ie=o.useContext(u).direction===r.TextDirection.RightToLeft,ge=J?{"data-testid":J}:{};return o.createElement("button",n({className:c({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":ne,"rpv-core__menu-item--ltr":!ie,"rpv-core__menu-item--rtl":ie}),role:"menuitem",tabIndex:-1,type:"button",onClick:ae},ge),o.createElement("div",{className:c({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!ie,"rpv-core__menu-item-icon--rtl":ie})},te),o.createElement("div",{className:c({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!ie,"rpv-core__menu-item-label--rtl":ie})},Z),o.createElement("div",{className:c({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!ie,"rpv-core__menu-item-check--rtl":ie})},K&&o.createElement(s,null)))},r.MinimalButton=function(S){var O=S.ariaLabel,K=O===void 0?"":O,Z=S.ariaKeyShortcuts,ee=Z===void 0?"":Z,te=S.children,oe=S.isDisabled,ne=oe!==void 0&&oe,J=S.isSelected,ae=J!==void 0&&J,ie=S.testId,ge=S.onClick,me=o.useContext(u).direction===r.TextDirection.RightToLeft,pe=ie?{"data-testid":ie}:{};return o.createElement("button",n({"aria-label":K},ee&&{"aria-keyshortcuts":ee},ne&&{"aria-disabled":!0},{className:c({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":ne,"rpv-core__minimal-button--rtl":me,"rpv-core__minimal-button--selected":ae}),type:"button",onClick:ge},pe),te)},r.Modal=function(S){var O=S.ariaControlsSuffix,K=S.closeOnClickOutside,Z=S.closeOnEscape,ee=S.content,te=S.isOpened,oe=te!==void 0&&te,ne=S.target,J=O||"".concat(I());return o.createElement(U,{target:ne?function(ae,ie){return o.createElement("div",{"aria-expanded":ie?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(J)},ne(ae,ie))}:null,content:function(ae){return o.createElement(C,null,o.createElement(v,{ariaControlsSuffix:J,closeOnClickOutside:K,closeOnEscape:Z,onToggle:ae},ee(ae)))},isOpened:oe})},r.Popover=function(S){var O=S.ariaHasPopup,K=O===void 0?"dialog":O,Z=S.ariaControlsSuffix,ee=S.closeOnClickOutside,te=S.closeOnEscape,oe=S.content,ne=S.lockScroll,J=ne===void 0||ne,ae=S.offset,ie=S.position,ge=S.target,me=V(!1),pe=me.opened,Ce=me.toggle,Ae=o.useRef(),we=o.useMemo((function(){return Z||"".concat(I())}),[]);return o.createElement("div",{ref:Ae,"aria-expanded":pe?"true":"false","aria-haspopup":K,"aria-controls":"rpv-core__popver-body-".concat(we)},ge(Ce,pe),pe&&o.createElement(o.Fragment,null,J&&o.createElement(be,{closeOnEscape:te,onClose:Ce}),o.createElement(ve,{ariaControlsSuffix:we,closeOnClickOutside:ee,offset:ae,position:ie,targetRef:Ae,onClose:Ce},oe(Ce))))},r.PrimaryButton=f,r.ProgressBar=function(S){var O=S.progress,K=o.useContext(u).direction===r.TextDirection.RightToLeft;return o.createElement("div",{className:c({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":K})},o.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(O,"%")}},O,"%"))},r.Separator=function(){return o.createElement("div",{className:"rpv-core__separator"})},r.Spinner=T,r.Splitter=function(S){var O=S.constrain,K=o.useContext(u).direction===r.TextDirection.RightToLeft,Z=o.useRef(),ee=o.useRef(),te=o.useRef(),oe=o.useRef(0),ne=o.useRef(0),J=o.useRef(0),ae=o.useRef(0),ie={capture:!0},ge=function(pe){var Ce=Z.current,Ae=ee.current,we=te.current;if(Ce&&Ae&&we){var Ke=ae.current,De=pe.clientX-oe.current,Oe=J.current+(K?-De:De),ze=Ce.parentElement.getBoundingClientRect().width,xe=100*Oe/ze;if(Ce.classList.add("rpv-core__splitter--resizing"),O){var qe=ze-Oe-Ke;if(!O({firstHalfPercentage:xe,firstHalfSize:Oe,secondHalfPercentage:100*qe/ze,secondHalfSize:qe}))return}Ae.style.width="".concat(xe,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Ae.classList.add("rpv-core__splitter-sibling--resizing"),we.classList.add("rpv-core__splitter-sibling--resizing")}},me=function(pe){var Ce=Z.current,Ae=ee.current,we=te.current;Ce&&Ae&&we&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Ce.classList.remove("rpv-core__splitter--resizing"),Ae.classList.remove("rpv-core__splitter-sibling--resizing"),we.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",ge,ie),document.removeEventListener("mouseup",me,ie))};return o.useEffect((function(){var pe=Z.current;pe&&(ae.current=pe.getBoundingClientRect().width,ee.current=pe.previousElementSibling,te.current=pe.nextElementSibling)}),[]),o.createElement("div",{ref:Z,className:"rpv-core__splitter",onMouseDown:function(pe){var Ce=ee.current;Ce&&(oe.current=pe.clientX,ne.current=pe.clientY,J.current=Ce.getBoundingClientRect().width,document.addEventListener("mousemove",ge,ie),document.addEventListener("mouseup",me,ie))}})},r.TextBox=y,r.ThemeContext=u,r.Tooltip=function(S){var O=S.ariaControlsSuffix,K=S.content,Z=S.offset,ee=S.position,te=S.target,oe=V(!1),ne=oe.opened,J=oe.toggle,ae=o.useRef(),ie=o.useRef(),ge=o.useMemo((function(){return O||"".concat(I())}),[]);B((function(){ae.current&&document.activeElement&&ae.current.contains(document.activeElement)&&pe()}));var me=function(){J(r.ToggleStatus.Open)},pe=function(){J(r.ToggleStatus.Close)};return o.createElement(o.Fragment,null,o.createElement("div",{ref:ae,"aria-describedby":"rpv-core__tooltip-body-".concat(ge),onBlur:function(Ce){Ce.relatedTarget instanceof HTMLElement&&Ce.currentTarget.parentElement&&Ce.currentTarget.parentElement.contains(Ce.relatedTarget)?ie.current&&(ie.current.style.display="none"):pe()},onFocus:me,onMouseEnter:me,onMouseLeave:pe},te),ne&&o.createElement(ke,{ariaControlsSuffix:ge,contentRef:ie,offset:Z,position:ee,targetRef:ae},K()))},r.Viewer=function(S){var O=S.characterMap,K=S.defaultScale,Z=S.enableSmoothScroll,ee=Z===void 0||Z,te=S.fileUrl,oe=S.httpHeaders,ne=oe===void 0?{}:oe,J=S.initialPage,ae=J===void 0?0:J,ie=S.pageLayout,ge=S.initialRotation,me=ge===void 0?0:ge,pe=S.localization,Ce=S.plugins,Ae=Ce===void 0?[]:Ce,we=S.renderError,Ke=S.renderLoader,De=S.renderPage,Oe=S.renderProtectedView,ze=S.scrollMode,xe=ze===void 0?r.ScrollMode.Vertical:ze,qe=S.setRenderRange,Be=qe===void 0?Nr:qe,at=S.transformGetDocumentParams,nt=S.theme,ot=nt===void 0?{direction:r.TextDirection.LeftToRight,theme:"light"}:nt,ct=S.viewMode,ut=ct===void 0?r.ViewMode.SinglePage:ct,kt=S.withCredentials,Et=kt!==void 0&&kt,Mt=S.onDocumentAskPassword,wt=S.onDocumentLoad,Ct=wt===void 0?function(){}:wt,Pt=S.onPageChange,At=Pt===void 0?function(){}:Pt,Ot=S.onRotate,Yt=Ot===void 0?function(){}:Ot,Gt=S.onRotatePage,Lt=Gt===void 0?function(){}:Gt,qt=S.onSwitchTheme,Jt=qt===void 0?function(){}:qt,je=S.onZoom,Ne=je===void 0?function(){}:je,Te=o.useState({data:te,name:typeof te=="string"?te:"",shouldLoad:!1}),Fe=Te[0],Re=Te[1],Ve=function(bt,yt){Re({data:yt,name:bt,shouldLoad:!0})},Ue=o.useState(!1),Ie=Ue[0],Me=Ue[1],Ge=W(Fe);o.useEffect((function(){var bt,yt,Tt,ht;bt=Ge.data,ht=typeof(yt=te),(Tt=typeof bt)=="string"&&ht==="string"&&bt===yt||Tt==="object"&&ht==="object"&&bt.length===yt.length&&bt.every((function(Qt,dn){return Qt===yt[dn]}))||Re({data:te,name:typeof te=="string"?te:"",shouldLoad:Ie})}),[te,Ie]);var Ye=t({onVisibilityChanged:function(bt){Me(bt.isVisible),bt.isVisible&&Re((function(yt){return Object.assign({},yt,{shouldLoad:!0})}))}}),vt=typeof ot=="string"?{direction:r.TextDirection.LeftToRight,theme:ot}:ot,pt=o.useState(pe||b),Ft=pt[0],Wt=pt[1],Xe={l10n:Ft,setL10n:Wt},It=Object.assign({},{direction:vt.direction},Or(vt.theme||"light",Jt));return o.useEffect((function(){pe&&Wt(pe)}),[pe]),o.createElement(M.Provider,{value:Xe},o.createElement(u.Provider,{value:It},o.createElement("div",{ref:Ye,className:"rpv-core__viewer rpv-core__viewer--".concat(It.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Fe.shouldLoad&&o.createElement(Dr,{characterMap:O,file:Fe.data,httpHeaders:ne,render:function(bt){return o.createElement(Fr,{defaultScale:K,doc:bt,render:function(yt,Tt){return o.createElement(Lr,{currentFile:{data:Fe.data,name:Fe.name},defaultScale:K,doc:bt,enableSmoothScroll:ee,initialPage:ae,initialRotation:me,initialScale:Tt,pageLayout:ie,pageSizes:yt,plugins:Ae,renderPage:De,scrollMode:xe,setRenderRange:Be,viewMode:ut,viewerState:{file:Fe,fullScreenMode:r.FullScreenMode.Normal,pageIndex:-1,pageHeight:yt[0].pageHeight,pageWidth:yt[0].pageWidth,pagesRotation:new Map,rotation:me,scale:Tt,scrollMode:xe,viewMode:ut},onDocumentLoad:Ct,onOpenFile:Ve,onPageChange:At,onRotate:Yt,onRotatePage:Lt,onZoom:Ne})},scrollMode:xe,viewMode:ut})},renderError:we,renderLoader:Ke,renderProtectedView:Oe,transformGetDocumentParams:at,withCredentials:Et,onDocumentAskPassword:Mt}))))},r.Worker=function(S){var O=S.children,K=S.workerUrl;return x.GlobalWorkerOptions.workerSrc=K,o.createElement(o.Fragment,null,O)},r.chunk=We,r.classNames=c,r.createStore=function(S){var O=S||{},K={},Z=function(te,oe){var ne;O=n(n({},O),((ne={})[te]=oe,ne)),(K[te]||[]).forEach((function(J){return J(O[te])}))},ee=function(te){return O[te]};return{subscribe:function(te,oe){K[te]=(K[te]||[]).concat(oe)},unsubscribe:function(te,oe){K[te]=(K[te]||[]).filter((function(ne){return ne!==oe}))},update:function(te,oe){Z(te,oe)},updateCurrentValue:function(te,oe){var ne=ee(te);ne!==void 0&&Z(te,oe(ne))},get:function(te){return ee(te)}}},r.getDestination=jt,r.getPage=st,r.isFullScreenEnabled=w,r.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},r.useDebounceCallback=G,r.useIntersectionObserver=t,r.useIsMounted=$,r.useIsomorphicLayoutEffect=e,r.usePrevious=W,r.useRenderQueue=p})(core_min)),core_min}var hasRequiredLib$h;function requireLib$h(){if(hasRequiredLib$h)return lib$g.exports;hasRequiredLib$h=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$g.exports=requireCore_min(),lib$g.exports}var lib$f={exports:{}},attachment_min={},hasRequiredAttachment_min;function requireAttachment_min(){if(hasRequiredAttachment_min)return attachment_min;hasRequiredAttachment_min=1;var r=requireLib$h();function d(x){var z=Object.create(null);return x&&Object.keys(x).forEach((function(X){if(X!=="default"){var h=Object.getOwnPropertyDescriptor(x,X);Object.defineProperty(z,X,h.get?h:{enumerable:!0,get:function(){return x[X]}})}})),z.default=x,Object.freeze(z)}var i=d(requireReact()),m=function(x){var z=x.files,X=i.useRef(),h=i.useContext(r.LocalizationContext).l10n,n=i.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,a=i.useRef([]),u=h&&h.attachment?h.attachment.clickToDownload:"Click to download",c=function(e){var t=X.current,l=[].slice.call(t.getElementsByClassName("rpv-attachment__item"));if(l.length!==0){l.forEach((function(T){return T.setAttribute("tabindex","-1")}));var s=document.activeElement,f=l[Math.min(l.length-1,Math.max(0,e(l,s)))];f.setAttribute("tabindex","0"),f.focus()}};return r.useIsomorphicLayoutEffect((function(){var e=X.current;if(e){var t=[].slice.call(e.getElementsByClassName("rpv-attachment__item"));if(a.current=t,t.length>0){var l=t[0];l.focus(),l.setAttribute("tabindex","0")}}}),[]),i.createElement("div",{"data-testid":"attachment__list",className:r.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":n}),ref:X,tabIndex:-1,onKeyDown:function(e){switch(e.key){case"ArrowDown":e.preventDefault(),c((function(t,l){return t.indexOf(l)+1}));break;case"ArrowUp":e.preventDefault(),c((function(t,l){return t.indexOf(l)-1}));break;case"End":e.preventDefault(),c((function(t,l){return t.length-1}));break;case"Home":e.preventDefault(),c((function(t,l){return 0}))}}},z.map((function(e){return i.createElement("button",{className:"rpv-attachment__item",key:e.fileName,tabIndex:-1,title:u,type:"button",onClick:function(){return t=e.fileName,l=e.data,s=typeof l=="string"?"":URL.createObjectURL(new Blob([l],{type:""})),(f=document.createElement("a")).style.display="none",f.href=s||t,f.setAttribute("download",(function(T){var y=T.split("/").pop();return y?y.split("#")[0].split("?")[0]:T})(t)),document.body.appendChild(f),f.click(),document.body.removeChild(f),void(s&&URL.revokeObjectURL(s));var t,l,s,f}},e.fileName)})))},E=function(x){var z=x.doc,X=i.useContext(r.LocalizationContext).l10n,h=i.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,n=X&&X.attachment?X.attachment.noAttachment:"There is no attachment",a=i.useState({files:[],isLoaded:!1}),u=a[0],c=a[1];return i.useEffect((function(){z.getAttachments().then((function(e){var t=e?Object.keys(e).map((function(l){return{data:e[l].content,fileName:e[l].filename}})):[];c({files:t,isLoaded:!0})}))}),[z]),u.isLoaded?u.files.length===0?i.createElement("div",{"data-testid":"attachment__empty",className:r.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":h})},n):i.createElement(m,{files:u.files}):i.createElement(r.Spinner,null)},o=function(x){var z=x.store,X=i.useState(z.get("doc")),h=X[0],n=X[1],a=function(u){n(u)};return i.useEffect((function(){return z.subscribe("doc",a),function(){z.unsubscribe("doc",a)}}),[]),h?i.createElement(E,{doc:h}):i.createElement("div",{className:"rpv-attachment__loader"},i.createElement(r.Spinner,null))};return attachment_min.attachmentPlugin=function(){var x=i.useMemo((function(){return r.createStore({})}),[]);return{onDocumentLoad:function(z){x.update("doc",z.doc)},Attachments:function(){return i.createElement(o,{store:x})}}},attachment_min}var hasRequiredLib$g;function requireLib$g(){if(hasRequiredLib$g)return lib$f.exports;hasRequiredLib$g=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$f.exports=requireAttachment_min(),lib$f.exports}var lib$e={exports:{}},bookmark_min={},hasRequiredBookmark_min;function requireBookmark_min(){if(hasRequiredBookmark_min)return bookmark_min;hasRequiredBookmark_min=1;var r=requireLib$h();function d(u){var c=Object.create(null);return u&&Object.keys(u).forEach((function(e){if(e!=="default"){var t=Object.getOwnPropertyDescriptor(u,e);Object.defineProperty(c,e,t.get?t:{enumerable:!0,get:function(){return u[e]}})}})),c.default=u,Object.freeze(c)}var i,m=d(requireReact()),E=function(){return E=Object.assign||function(u){for(var c,e=1,t=arguments.length;e<t;e++)for(var l in c=arguments[e])Object.prototype.hasOwnProperty.call(c,l)&&(u[l]=c[l]);return u},E.apply(this,arguments)},o=function(){return m.createElement(r.Icon,{size:16},m.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},x=function(){return m.createElement(r.Icon,{size:16},m.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},z=function(u){var c=u.bookmark,e=u.depth,t=u.doc,l=u.index,s=u.isBookmarkExpanded,f=u.numberOfSiblings,T=u.pathFromRoot,y=u.renderBookmarkItem,g=u.store,A=T?"".concat(T,".").concat(l):"".concat(l),D=m.useMemo((function(){return(function(M){var F=M.count,I=M.items;if(F>=0)return!1;var q=I.length;if(q===0)return!1;for(var B=I.concat([]);B.length>0;){var v=B.shift(),C=v.items;v.count&&C&&v.count>0&&C.length>0&&(q+=C.length,B=B.concat(C))}return Math.abs(F)===q})(c)}),[c]),P=g.get("bookmarkExpandedMap"),R=s?s({bookmark:c,doc:t,depth:e,index:l}):P.has(A)?P.get(A):!D,j=m.useState(R),w=j[0],N=j[1],H=c.items&&c.items.length>0,G=function(){var M=!w;g.updateCurrentValue("bookmarkExpandedMap",(function(F){return F.set(A,M)})),N(M)},$=function(){var M=c.dest,F=g.get("jumpToDestination");r.getDestination(t,M).then((function(I){F&&F(E({label:c.title},I))}))},W=function(){H&&c.dest&&$()},k=function(){!H&&c.dest&&$()},_=function(M,F){return m.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*e,"rem")},onClick:M},F)},p=function(M,F){return H?m.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(e,"-").concat(l),onClick:G},w?M:F):m.createElement("span",{className:"rpv-bookmark__toggle"})},b=function(M){return c.url?m.createElement("a",{className:"rpv-bookmark__title",href:c.url,rel:"noopener noreferrer nofollow",target:c.newWindow?"_blank":""},c.title):m.createElement("div",{className:"rpv-bookmark__title","aria-label":c.title,onClick:M},c.title)};return m.createElement("li",{"aria-expanded":w?"true":"false","aria-label":c.title,"aria-level":e+1,"aria-posinset":l+1,"aria-setsize":f,role:"treeitem",tabIndex:-1},y?y({bookmark:c,depth:e,hasSubItems:H,index:l,isExpanded:w,path:A,defaultRenderItem:_,defaultRenderTitle:b,defaultRenderToggle:p,onClickItem:k,onClickTitle:W,onToggleSubItems:G}):_(k,m.createElement(m.Fragment,null,p(m.createElement(o,null),m.createElement(x,null)),b(W))),H&&w&&m.createElement(X,{bookmarks:c.items,depth:e+1,doc:t,isBookmarkExpanded:s,isRoot:!1,pathFromRoot:A,renderBookmarkItem:y,store:g}))},X=function(u){var c=u.bookmarks,e=u.depth,t=e===void 0?0:e,l=u.doc,s=u.isBookmarkExpanded,f=u.isRoot,T=u.pathFromRoot,y=u.renderBookmarkItem,g=u.store;return m.createElement("ul",{className:"rpv-bookmark__list",role:f?"tree":"group",tabIndex:-1},c.map((function(A,D){return m.createElement(z,{bookmark:A,depth:t,doc:l,index:D,isBookmarkExpanded:s,key:D,numberOfSiblings:c.length,pathFromRoot:T,renderBookmarkItem:y,store:g})})))};(function(u){u[u.Collapse=0]="Collapse",u[u.Expand=1]="Expand"})(i||(i={}));var h=function(u){var c=u.bookmarks,e=u.doc,t=u.isBookmarkExpanded,l=u.renderBookmarkItem,s=u.store,f=m.useRef(),T=function(D){var P=f.current;if(P&&D.target instanceof HTMLElement&&P.contains(D.target))switch(D.key){case"ArrowDown":D.preventDefault(),g((function(R,j){return R.indexOf(j)+1}));break;case"ArrowLeft":D.preventDefault(),A(i.Collapse);break;case"ArrowRight":D.preventDefault(),A(i.Expand);break;case"ArrowUp":D.preventDefault,g((function(R,j){return R.indexOf(j)-1}));break;case"End":D.preventDefault(),g((function(R,j){return R.length-1}));break;case" ":case"Enter":case"Space":D.preventDefault(),y();break;case"Home":D.preventDefault(),g((function(R,j){return 0}))}},y=function(){var D=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");D&&D.click()},g=function(D){var P=f.current,R=[].slice.call(P.getElementsByClassName("rpv-bookmark__item"));if(R.length!==0){var j=document.activeElement,w=R[Math.min(R.length-1,Math.max(0,D(R,j)))];j.setAttribute("tabindex","-1"),w.setAttribute("tabindex","0"),w.focus()}},A=function(D){var P=f.current;if([].slice.call(P.getElementsByClassName("rpv-bookmark__item")).length!==0){var R=document.activeElement.closest(".rpv-bookmark__item"),j=D===i.Collapse?"true":"false";if(R&&R.parentElement.getAttribute("aria-expanded")===j){var w=R.querySelector(".rpv-bookmark__toggle");w&&w.click()}}};return m.useEffect((function(){return document.addEventListener("keydown",T),function(){document.removeEventListener("keydown",T)}}),[]),m.useEffect((function(){var D=f.current;if(D){var P=[].slice.call(D.getElementsByClassName("rpv-bookmark__item"));P.length>0&&(P[0].focus(),P[0].setAttribute("tabindex","0"))}}),[]),m.createElement("div",{ref:f},m.createElement(X,{bookmarks:c,depth:0,doc:e,isBookmarkExpanded:t,isRoot:!0,pathFromRoot:"",renderBookmarkItem:l,store:s}))},n=function(u){var c=u.doc,e=u.isBookmarkExpanded,t=u.renderBookmarkItem,l=u.store,s=m.useContext(r.LocalizationContext).l10n,f=m.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,T=m.useState({isLoaded:!1,items:[]}),y=T[0],g=T[1];return m.useEffect((function(){g({isLoaded:!1,items:[]}),c.getOutline().then((function(A){g({isLoaded:!0,items:A||[]})}))}),[c]),y.isLoaded?y.items.length===0?m.createElement("div",{"data-testid":"bookmark__empty",className:r.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":f})},s&&s.bookmark?s.bookmark.noBookmark:"There is no bookmark"):m.createElement("div",{"data-testid":"bookmark__container",className:r.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":f})},m.createElement(h,{bookmarks:y.items,doc:c,isBookmarkExpanded:e,renderBookmarkItem:t,store:l})):m.createElement("div",{className:"rpv-bookmark__loader"},m.createElement(r.Spinner,null))},a=function(u){var c=u.isBookmarkExpanded,e=u.renderBookmarkItem,t=u.store,l=m.useState(t.get("doc")),s=l[0],f=l[1],T=function(y){f(y)};return m.useEffect((function(){return t.subscribe("doc",T),function(){t.unsubscribe("doc",T)}}),[]),s?m.createElement(n,{doc:s,isBookmarkExpanded:c,renderBookmarkItem:e,store:t}):m.createElement("div",{className:"rpv-bookmark__loader"},m.createElement(r.Spinner,null))};return bookmark_min.DownArrowIcon=o,bookmark_min.RightArrowIcon=x,bookmark_min.bookmarkPlugin=function(){var u=m.useMemo((function(){return r.createStore({bookmarkExpandedMap:new Map})}),[]);return{install:function(c){u.update("jumpToDestination",c.jumpToDestination)},onDocumentLoad:function(c){u.update("doc",c.doc)},Bookmarks:function(c){return m.createElement(a,{isBookmarkExpanded:c?.isBookmarkExpanded,renderBookmarkItem:c?.renderBookmarkItem,store:u})}}},bookmark_min}var hasRequiredLib$f;function requireLib$f(){if(hasRequiredLib$f)return lib$e.exports;hasRequiredLib$f=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$e.exports=requireBookmark_min(),lib$e.exports}var lib$d={exports:{}},thumbnail_min={},hasRequiredThumbnail_min;function requireThumbnail_min(){return hasRequiredThumbnail_min||(hasRequiredThumbnail_min=1,(function(r){var d=requireLib$h();function i(t){var l=Object.create(null);return t&&Object.keys(t).forEach((function(s){if(s!=="default"){var f=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(l,s,f.get?f:{enumerable:!0,get:function(){return t[s]}})}})),l.default=t,Object.freeze(l)}var m,E=i(requireReact());r.ThumbnailDirection=void 0,(m=r.ThumbnailDirection||(r.ThumbnailDirection={})).Horizontal="Horizontal",m.Vertical="Vertical";var o=function(){return o=Object.assign||function(t){for(var l,s=1,f=arguments.length;s<f;s++)for(var T in l=arguments[s])Object.prototype.hasOwnProperty.call(l,T)&&(t[T]=l[T]);return t},o.apply(this,arguments)},x=function(t){var l=t.doc,s=t.getPageIndex,f=t.renderSpinner,T=t.store,y=t.width,g=l.numPages,A=s?s({numPages:g}):0,D=Math.max(0,Math.min(A,g-1)),P=T.get("pagesRotation")||new Map,R=P.has(D)?P.get(D):0,j=E.useState(""),w=j[0],N=j[1],H=d.useIsMounted(),G=E.useRef(),$=E.useState(T.get("rotation")||0),W=$[0],k=$[1],_=E.useState(R),p=_[0],b=_[1],M=E.useState(!1),F=M[0],I=M[1],q=function(C){var L=C.has(D)?C.get(D):0;b(L)},B=function(C){k(C)},v=d.useIntersectionObserver({onVisibilityChanged:function(C){I(C.isVisible)}});return E.useEffect((function(){if(F){var C=v.current;C&&(N(""),d.getPage(l,D).then((function(L){var V=L.getViewport({scale:1}),U=(V.rotation+W+p)%360,Y=Math.abs(W+p)%180==0,Q=Y?V.width:V.height,le=Y?V.height:V.width,_e=document.createElement("canvas"),de=_e.getContext("2d",{alpha:!1}),he=C.clientWidth,fe=C.clientHeight,re=y?y/Q:Math.min(he/Q,fe/le),ce=re*Q,Se=re*le;_e.height=Se,_e.width=ce,_e.style.opacity="0";var ve=L.getViewport({rotation:U,scale:re});G.current=L.render({canvasContext:de,viewport:ve}),G.current.promise.then((function(){H.current&&N(_e.toDataURL()),_e.width=0,_e.height=0}),(function(){}))})))}}),[p,F]),E.useEffect((function(){return T.subscribe("pagesRotation",q),T.subscribe("rotation",B),function(){T.unsubscribe("pagesRotation",q),T.unsubscribe("rotation",B)}}),[]),E.useEffect((function(){return function(){var C;(C=G.current)===null||C===void 0||C.cancel()}}),[]),E.createElement("div",{ref:v,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},w?E.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:w}):E.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},f?f():E.createElement(d.Spinner,null)))},z=function(t){var l=t.getPageIndex,s=t.renderSpinner,f=t.store,T=t.width,y=E.useState(f.get("doc")),g=y[0],A=y[1],D=function(P){A(P)};return E.useEffect((function(){return f.subscribe("doc",D),function(){f.unsubscribe("doc",D)}}),[]),E.createElement("div",{className:"rpv-thumbnail__cover"},g?E.createElement(x,{doc:g,getPageIndex:l,renderSpinner:s,store:f,width:T}):E.createElement("div",{className:"rpv-thumbnail__cover-loader"},s?s():E.createElement(d.Spinner,null)))},X=function(){return E.createElement(d.Spinner,null)},h=E.createContext({renderSpinner:X}),n=function(t){var l=t.children,s=t.doc,f=d.useIsMounted(),T=E.useState({loading:!0,labels:[]}),y=T[0],g=T[1];return E.useEffect((function(){s.getPageLabels().then((function(A){f.current&&g({loading:!1,labels:A||[]})}))}),[s.loadingTask.docId]),y.loading?E.createElement(E.Fragment,null):l(y.labels)},a=function(t){var l=t.page,s=t.pageHeight,f=t.pageIndex,T=t.pageWidth,y=t.rotation,g=t.thumbnailHeight,A=t.thumbnailWidth,D=t.onRenderCompleted,P=E.useContext(d.LocalizationContext).l10n,R=E.useRef(),j=E.useState(""),w=j[0],N=j[1],H=P&&P.thumbnail?P.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return E.useEffect((function(){var G=R.current;G&&G.cancel();var $=document.createElement("canvas"),W=$.getContext("2d",{alpha:!1}),k=A,_=k/(T/s),p=k/T;$.height=_,$.width=k,$.style.height="".concat(_,"px"),$.style.width="".concat(k,"px");var b=l.getViewport({rotation:y,scale:p});return R.current=l.render({canvasContext:W,viewport:b}),R.current.promise.then((function(){N($.toDataURL()),D(f)}),(function(){D(f)})),function(){var M;(M=R.current)===null||M===void 0||M.cancel()}}),[y]),w?E.createElement("img",{"aria-label":H.replace("{{pageIndex}}","".concat(f+1)),src:w,height:"".concat(g,"px"),width:"".concat(A,"px")}):E.useContext(h).renderSpinner()},u=function(t){var l=t.doc,s=t.pageHeight,f=t.pageIndex,T=t.pageRotation,y=t.pageWidth,g=t.rotation,A=t.shouldRender,D=t.thumbnailWidth,P=t.onRenderCompleted,R=t.onVisibilityChanged,j=d.useIsMounted(),w=E.useState({height:s,page:null,viewportRotation:0,width:y}),N=w[0],H=w[1],G=N.page,$=N.height,W=N.width,k=W/$,_=Math.abs(g+T)%180==0,p=_?D:D/k,b=_?D/k:D;E.useEffect((function(){A&&d.getPage(l,f).then((function(I){var q=I.getViewport({scale:1});j.current&&H({height:q.height,page:I,viewportRotation:q.rotation,width:q.width})}))}),[A]);var M=(N.viewportRotation+g+T)%360,F=d.useIntersectionObserver({onVisibilityChanged:function(I){R(f,I)}});return E.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(f),ref:F,style:{height:"".concat(b,"px"),width:"".concat(p,"px")}},G?E.createElement(a,{page:G,pageHeight:_?$:W,pageIndex:f,pageWidth:_?W:$,rotation:M,thumbnailHeight:b,thumbnailWidth:p,onRenderCompleted:P}):E.useContext(h).renderSpinner())},c=function(t){var l=t.currentPage,s=t.doc,f=t.labels,T=t.pagesRotation,y=t.pageHeight,g=t.pageWidth,A=t.renderCurrentPageLabel,D=t.renderThumbnailItem,P=t.rotatedPage,R=t.rotation,j=t.thumbnailDirection,w=t.thumbnailWidth,N=t.viewMode,H=t.onJumpToPage,G=t.onRotatePage,$=s.numPages,W=s.loadingTask.docId,k=E.useRef(null),_=E.useRef([]),p=E.useState(l),b=p[0],M=p[1],F=E.useContext(d.ThemeContext).direction===d.TextDirection.RightToLeft,I=E.useState(-1),q=I[0],B=I[1],v=d.useIsMounted(),C=d.usePrevious(N),L=E.useRef(!1),V=d.useRenderQueue({doc:s}),U=E.useMemo((function(){return Array($).fill(0).map((function(re,ce){return ce}))}),[W]),Y=E.useMemo((function(){switch(N){case d.ViewMode.DualPage:return d.chunk(U,2);case d.ViewMode.DualPageWithCover:return[[U[0]]].concat(d.chunk(U.slice(1),2));case d.ViewMode.SinglePage:default:return d.chunk(U,1)}}),[W,N]),Q=function(){if(k.current){var re=_.current,ce=b+1;ce<re.length&&(b>=0&&re[b].setAttribute("tabindex","-1"),M(ce))}},le=function(){if(k.current){var re=_.current,ce=b-1;ce>=0&&(b>=0&&re[b].setAttribute("tabindex","-1"),M(ce))}},_e=function(){b>=0&&b<$&&H(b)};d.useIsomorphicLayoutEffect((function(){var re=k.current;re&&(_.current=Array.from(re.querySelectorAll(".rpv-thumbnail__item")))}),[N]),E.useEffect((function(){var re=_.current;if(!(re.length===0||b<0||b>re.length)){var ce=re[b];ce.setAttribute("tabindex","0"),ce.focus()}}),[b]),d.useIsomorphicLayoutEffect((function(){var re=k.current,ce=_.current;if(!(!re||ce.length===0||l<0||l>ce.length)){var Se=ce[l].closest(".rpv-thumbnail__items");Se&&(j===r.ThumbnailDirection.Vertical?(function(ve,be){var ke=ve.getBoundingClientRect().top-be.getBoundingClientRect().top,Le=ve.clientHeight,We=be.clientHeight;ke<0?be.scrollTop+=ke:ke+Le<=We||(be.scrollTop+=ke+Le-We)})(Se,re):(function(ve,be){var ke=ve.getBoundingClientRect().left-be.getBoundingClientRect().left,Le=ve.clientWidth,We=be.clientWidth;ke<0?be.scrollLeft+=ke:ke+Le<=We||(be.scrollLeft+=ke+Le-We)})(Se,re))}}),[l,j]);var de=E.useCallback((function(re){v.current&&(V.markRendered(re),L.current=!1,fe())}),[W]),he=E.useCallback((function(re,ce){ce.isVisible?V.setVisibility(re,ce.ratio):V.setOutOfRange(re),fe()}),[W]),fe=E.useCallback((function(){if(!L.current){var re=V.getHighestPriorityPage();re>-1&&(V.markRendering(re),L.current=!0,B(re))}}),[W]);return E.useEffect((function(){P>=0&&(V.markRendering(P),L.current=!0,B(P))}),[W,P]),d.useIsomorphicLayoutEffect((function(){C!==N&&(V.markNotRendered(),fe())}),[N]),E.createElement("div",{ref:k,"data-testid":"thumbnail__list",className:d.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":j===r.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":F,"rpv-thumbnail__list--vertical":j===r.ThumbnailDirection.Vertical}),onKeyDown:function(re){switch(re.key){case"ArrowDown":Q();break;case"ArrowUp":le();break;case"Enter":_e()}}},Y.map((function(re,ce){var Se=!1;switch(N){case d.ViewMode.DualPage:Se=l===2*ce||l===2*ce+1;break;case d.ViewMode.DualPageWithCover:Se=l===0&&ce===0||ce>0&&l===2*ce-1||ce>0&&l===2*ce;break;case d.ViewMode.SinglePage:default:Se=l===ce}return E.createElement("div",{className:d.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":N===d.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":N===d.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":N===d.ViewMode.SinglePage,"rpv-thumbnail__items--selected":Se}),key:"".concat(ce,"___").concat(N)},re.map((function(ve){return(function(be){var ke=N===d.ViewMode.DualPageWithCover&&(be===0||$%2==0&&be===$-1),Le="".concat(s.loadingTask.docId,"___").concat(be),We=f.length===$?f[be]:"".concat(be+1),tt=A?A({currentPage:l,pageIndex:be,numPages:$,pageLabel:We}):We,Ze=T.has(be)?T.get(be):0,gt=E.createElement(u,{doc:s,pageHeight:y,pageIndex:be,pageRotation:Ze,pageWidth:g,rotation:R,shouldRender:q===be,thumbnailWidth:w,onRenderCompleted:de,onVisibilityChanged:he});return D?D({currentPage:l,key:Le,numPages:$,pageIndex:be,renderPageLabel:E.createElement(E.Fragment,null,tt),renderPageThumbnail:gt,onJumpToPage:function(){return H(be)},onRotatePage:function(rt){return G(be,rt)}}):E.createElement("div",{key:Le},E.createElement("div",{className:d.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":N===d.ViewMode.DualPage&&be%2==0,"rpv-thumbnail__item--dual-odd":N===d.ViewMode.DualPage&&be%2==1,"rpv-thumbnail__item--dual-cover":ke,"rpv-thumbnail__item--dual-cover-even":N===d.ViewMode.DualPageWithCover&&!ke&&be%2==0,"rpv-thumbnail__item--dual-cover-odd":N===d.ViewMode.DualPageWithCover&&!ke&&be%2==1,"rpv-thumbnail__item--single":N===d.ViewMode.SinglePage,"rpv-thumbnail__item--selected":l===be}),role:"button",tabIndex:l===be?0:-1,onClick:function(){return H(be)}},gt),E.createElement("div",{"data-testid":"thumbnail__label-".concat(be),className:"rpv-thumbnail__label"},tt))})(ve)})))})))},e=function(t){var l=t.renderCurrentPageLabel,s=t.renderThumbnailItem,f=t.store,T=t.thumbnailDirection,y=t.thumbnailWidth,g=E.useState(f.get("doc")),A=g[0],D=g[1],P=E.useState(f.get("currentPage")||0),R=P[0],j=P[1],w=E.useState(f.get("pageHeight")||0),N=w[0],H=w[1],G=E.useState(f.get("pageWidth")||0),$=G[0],W=G[1],k=E.useState(f.get("rotation")||0),_=k[0],p=k[1],b=E.useState(f.get("pagesRotation")||new Map),M=b[0],F=b[1],I=E.useState(f.get("rotatedPage")||-1),q=I[0],B=I[1],v=E.useState(f.get("viewMode")),C=v[0],L=v[1],V=function(ce){j(ce)},U=function(ce){D(ce)},Y=function(ce){H(ce)},Q=function(ce){W(ce)},le=function(ce){p(ce)},_e=function(ce){F(ce)},de=function(ce){B(ce)},he=function(ce){L(ce)},fe=function(ce){var Se=f.get("jumpToPage");Se&&Se(ce)},re=function(ce,Se){f.get("rotatePage")(ce,Se)};return E.useEffect((function(){return f.subscribe("doc",U),f.subscribe("pageHeight",Y),f.subscribe("pageWidth",Q),f.subscribe("rotatedPage",de),f.subscribe("rotation",le),f.subscribe("pagesRotation",_e),f.subscribe("viewMode",he),function(){f.unsubscribe("doc",U),f.unsubscribe("pageHeight",Y),f.unsubscribe("pageWidth",Q),f.unsubscribe("rotatedPage",de),f.unsubscribe("rotation",le),f.unsubscribe("pagesRotation",_e),f.unsubscribe("viewMode",he)}}),[]),d.useIsomorphicLayoutEffect((function(){return f.subscribe("currentPage",V),function(){f.unsubscribe("currentPage",V)}}),[]),A?E.createElement(d.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},E.createElement(n,{doc:A},(function(ce){return E.createElement(c,{currentPage:R,doc:A,labels:ce,pagesRotation:M,pageHeight:N,pageWidth:$,renderCurrentPageLabel:l,renderThumbnailItem:s,rotatedPage:q,rotation:_,thumbnailDirection:T,thumbnailWidth:y,viewMode:C,onJumpToPage:fe,onRotatePage:re})}))):E.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},E.useContext(h).renderSpinner())};r.thumbnailPlugin=function(t){var l=E.useMemo((function(){return d.createStore({rotatePage:function(){},viewMode:d.ViewMode.SinglePage})}),[]),s=E.useState(""),f=s[0],T=s[1];return{install:function(y){l.update("jumpToPage",y.jumpToPage),l.update("rotatePage",y.rotatePage)},onDocumentLoad:function(y){T(y.doc.loadingTask.docId),l.update("doc",y.doc)},onViewerStateChange:function(y){return l.update("currentPage",y.pageIndex),l.update("pagesRotation",y.pagesRotation),l.update("pageHeight",y.pageHeight),l.update("pageWidth",y.pageWidth),l.update("rotation",y.rotation),l.update("rotatedPage",y.rotatedPage),l.update("viewMode",y.viewMode),y},Cover:function(y){return E.createElement(z,o({},y,{renderSpinner:t?.renderSpinner,store:l}))},Thumbnails:E.useCallback((function(y){return E.createElement(h.Provider,{value:{renderSpinner:t?.renderSpinner||X}},E.createElement(e,{renderCurrentPageLabel:t?.renderCurrentPageLabel,renderThumbnailItem:y?.renderThumbnailItem,store:l,thumbnailDirection:y?.thumbnailDirection||r.ThumbnailDirection.Vertical,thumbnailWidth:t?.thumbnailWidth||100}))}),[f])}}})(thumbnail_min)),thumbnail_min}var hasRequiredLib$e;function requireLib$e(){if(hasRequiredLib$e)return lib$d.exports;hasRequiredLib$e=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$d.exports=requireThumbnail_min(),lib$d.exports}var lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={},hasRequiredSelectionMode_min;function requireSelectionMode_min(){return hasRequiredSelectionMode_min||(hasRequiredSelectionMode_min=1,(function(r){var d=requireLib$h();function i(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(l){if(l!=="default"){var s=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(t,l,s.get?s:{enumerable:!0,get:function(){return e[l]}})}})),t.default=e,Object.freeze(t)}var m,E=i(requireReact()),o=function(){return E.createElement(d.Icon,{size:16},E.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},x=function(){return x=Object.assign||function(e){for(var t,l=1,s=arguments.length;l<s;l++)for(var f in t=arguments[l])Object.prototype.hasOwnProperty.call(t,f)&&(e[f]=t[f]);return e},x.apply(this,arguments)};r.SelectionMode=void 0,(m=r.SelectionMode||(r.SelectionMode={})).Hand="Hand",m.Text="Text";var z=function(){return E.createElement(d.Icon,{size:16},E.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},X=function(e){var t=e.children,l=e.mode,s=e.onClick,f=E.useContext(d.LocalizationContext).l10n,T="",y=E.createElement(z,null);switch(l){case r.SelectionMode.Hand:T=f&&f.selectionMode?f.selectionMode.handTool:"Hand tool",y=E.createElement(o,null);break;case r.SelectionMode.Text:default:T=f&&f.selectionMode?f.selectionMode.textSelectionTool:"Text selection tool",y=E.createElement(z,null)}return t({icon:y,label:T,onClick:s})},h={left:0,top:8},n=function(e){var t=e.isSelected,l=e.mode,s=e.onClick,f="";switch(l){case r.SelectionMode.Hand:f="selection-mode__hand-button";break;case r.SelectionMode.Text:default:f="selection-mode__text-button"}return E.createElement(X,{mode:l,onClick:s},(function(T){return E.createElement(d.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:d.Position.BottomCenter,target:E.createElement(d.MinimalButton,{ariaLabel:T.label,isSelected:t,testId:f,onClick:T.onClick},T.icon),content:function(){return T.label},offset:h})}))},a=function(e){var t=e.children,l=e.mode,s=e.store,f=l===s.get("selectionMode");return(t||function(T){return E.createElement(n,{isSelected:f,mode:T.mode,onClick:T.onClick})})({isSelected:f,mode:l,onClick:function(){return s.update("selectionMode",l)}})},u=function(e){var t=e.isSelected,l=e.mode,s=e.onClick,f="";switch(l){case r.SelectionMode.Hand:f="selection-mode__hand-menu";break;case r.SelectionMode.Text:default:f="selection-mode__text-menu"}return E.createElement(X,{mode:l,onClick:s},(function(T){return E.createElement(d.MenuItem,{checked:t,icon:T.icon,testId:f,onClick:T.onClick},T.label)}))},c=function(e){var t=e.store,l=E.useRef(null),s=E.useState(r.SelectionMode.Text),f=s[0],T=s[1],y=E.useRef({top:0,left:0,x:0,y:0}),g=function(j){var w=l.current;w&&(w.scrollTop=y.current.top-(j.clientY-y.current.y),w.scrollLeft=y.current.left-(j.clientX-y.current.x))},A=function(){var j=l.current;j&&(j.classList.add("rpv-selection-mode__grab"),j.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",A))},D=function(j){var w=l.current;w&&f!==r.SelectionMode.Text&&(w.classList.remove("rpv-selection-mode__grab"),w.classList.add("rpv-selection-mode__grabbing"),j.preventDefault(),j.stopPropagation(),y.current={left:w.scrollLeft,top:w.scrollTop,x:j.clientX,y:j.clientY},document.addEventListener("mousemove",g),document.addEventListener("mouseup",A))},P=function(j){l.current=j()},R=function(j){T(j)};return E.useEffect((function(){var j=l.current;if(j)return f===r.SelectionMode.Hand?j.classList.add("rpv-selection-mode__grab"):j.classList.remove("rpv-selection-mode__grab"),j.addEventListener("mousedown",D),function(){j.removeEventListener("mousedown",D)}}),[f]),E.useEffect((function(){return t.subscribe("getPagesContainer",P),t.subscribe("selectionMode",R),function(){t.unsubscribe("getPagesContainer",P),t.unsubscribe("selectionMode",R)}}),[]),E.createElement(E.Fragment,null)};r.HandToolIcon=o,r.TextSelectionIcon=z,r.selectionModePlugin=function(e){var t=E.useMemo((function(){return d.createStore()}),[]),l=function(s){return E.createElement(a,x({},s,{store:t}))};return{install:function(s){t.update("selectionMode",e&&e.selectionMode?e.selectionMode:r.SelectionMode.Text),t.update("getPagesContainer",s.getPagesContainer)},renderViewer:function(s){var f=s.slot;return f.subSlot&&f.subSlot.children&&(f.subSlot.children=E.createElement(E.Fragment,null,E.createElement(c,{store:t}),f.subSlot.children)),f},SwitchSelectionMode:l,SwitchSelectionModeButton:function(s){return E.createElement(l,{mode:s.mode},(function(f){return E.createElement(n,{isSelected:f.isSelected,mode:f.mode,onClick:function(){f.onClick()}})}))},SwitchSelectionModeMenuItem:function(s){return E.createElement(l,{mode:s.mode},(function(f){return E.createElement(u,{isSelected:f.isSelected,mode:f.mode,onClick:function(){f.onClick(),s.onClick()}})}))}}}})(selectionMode_min)),selectionMode_min}var hasRequiredLib$d;function requireLib$d(){if(hasRequiredLib$d)return lib$b.exports;hasRequiredLib$d=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$b.exports=requireSelectionMode_min(),lib$b.exports}var lib$a={exports:{}},fullScreen_min={},hasRequiredFullScreen_min;function requireFullScreen_min(){if(hasRequiredFullScreen_min)return fullScreen_min;hasRequiredFullScreen_min=1;var r=requireLib$h();function d(s){var f=Object.create(null);return s&&Object.keys(s).forEach((function(T){if(T!=="default"){var y=Object.getOwnPropertyDescriptor(s,T);Object.defineProperty(f,T,y.get?y:{enumerable:!0,get:function(){return s[T]}})}})),f.default=s,Object.freeze(f)}var i=d(requireReact()),m=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),i.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),i.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),i.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),i.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},E=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:"M0.5 12L23.5 12"}),i.createElement("path",{d:"M11.5 1L11.5 23"}),i.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),i.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),i.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),i.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},o=function(){return o=Object.assign||function(s){for(var f,T=1,y=arguments.length;T<y;T++)for(var g in f=arguments[T])Object.prototype.hasOwnProperty.call(f,g)&&(s[g]=f[g]);return s},o.apply(this,arguments)},x={left:0,top:8},z=function(s){var f=s.enableShortcuts,T=s.onClick,y=i.useContext(r.LocalizationContext).l10n,g=y&&y.fullScreen?y.fullScreen.enterFullScreen:"Full screen",A=f?r.isMac()?"Meta+Ctrl+F":"F11":"";return i.createElement(r.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaKeyShortcuts:A,ariaLabel:g,isDisabled:!r.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:T},i.createElement(E,null)),content:function(){return g},offset:x})},X={left:0,top:8},h=function(s){var f=s.onClick,T=i.useContext(r.LocalizationContext).l10n,y=T&&T.fullScreen?T.fullScreen.exitFullScreen:"Exit full screen";return i.createElement(r.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:y,testId:"full-screen__exit-button-with-tooltip",onClick:f},i.createElement(m,null)),content:function(){return y},offset:X})},n=function(s,f){var T=i.useState(f.get("fullScreenMode")),y=T[0],g=T[1],A=i.useCallback((function(D){g(D)}),[]);return i.useEffect((function(){return f.subscribe("fullScreenMode",A),function(){f.unsubscribe("fullScreenMode",A)}}),[]),{enterFullScreen:function(){var D=f.get("getPagesContainer");if(D){var P=s(D());f.get("enterFullScreenMode")(P)}},exitFullScreen:function(){f.get("exitFullScreenMode")()},isFullScreen:y===r.FullScreenMode.Entering||y===r.FullScreenMode.EnteredCompletely}},a=function(s){var f=s.children,T=s.enableShortcuts,y=s.getFullScreenTarget,g=s.store,A=n(y,g),D=A.enterFullScreen,P=A.exitFullScreen,R=A.isFullScreen;return(f||function(j){return R?i.createElement(h,{onClick:j.onClick}):i.createElement(z,{enableShortcuts:T,onClick:j.onClick})})({onClick:R?P:D})},u=function(s){var f=s.onClick,T=i.useContext(r.LocalizationContext).l10n,y=T&&T.fullScreen?T.fullScreen.enterFullScreen:"Full screen";return i.createElement(r.MenuItem,{icon:i.createElement(E,null),isDisabled:!r.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:f},y)},c=function(s){var f=s.onClick,T=i.useContext(r.LocalizationContext).l10n,y=i.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,g=T&&T.fullScreen?T.fullScreen.exitFullScreen:"Exit full screen";return i.createElement("div",{className:r.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!y,"rpv-full-screen__exit-button--rtl":y})},i.createElement(r.MinimalButton,{ariaLabel:g,testId:"full-screen__exit-button",onClick:f},i.createElement(m,null)))},e=function(s){var f=s.children,T=s.getFullScreenTarget,y=s.store,g=n(T,y),A=g.enterFullScreen,D=g.exitFullScreen,P=g.isFullScreen;return P&&(f||function(R){return i.createElement(c,{onClick:R.onClick})})({onClick:P?D:A})},t=function(s){var f=s.store,T=s.onEnterFullScreen,y=s.onExitFullScreen,g=i.useState(f.get("fullScreenMode")),A=g[0],D=g[1],P=i.useCallback((function(R){D(R)}),[]);return i.useEffect((function(){switch(A){case r.FullScreenMode.EnteredCompletely:T(f.get("zoom"));break;case r.FullScreenMode.Exited:y(f.get("zoom"))}}),[A]),i.useEffect((function(){return f.subscribe("fullScreenMode",P),function(){f.unsubscribe("fullScreenMode",P)}}),[]),(A===r.FullScreenMode.Entering||A===r.FullScreenMode.Entered)&&i.createElement("div",{className:"rpv-full-screen__overlay"},i.createElement(r.Spinner,null))},l=function(s){var f=s.containerRef,T=s.getFullScreenTarget,y=s.store,g=n(T,y).enterFullScreen,A=function(D){if(!D.shiftKey&&!D.altKey&&(r.isMac()?D.metaKey&&D.ctrlKey&&D.key==="f":D.key==="F11")){var P=f.current;P&&document.activeElement&&P.contains(document.activeElement)&&(D.preventDefault(),g())}};return i.useEffect((function(){if(f.current)return document.addEventListener("keydown",A),function(){document.removeEventListener("keydown",A)}}),[f.current]),i.createElement(i.Fragment,null)};return fullScreen_min.ExitFullScreenIcon=m,fullScreen_min.FullScreenIcon=E,fullScreen_min.fullScreenPlugin=function(s){var f=s?.getFullScreenTarget||function(D){return D},T=i.useMemo((function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},s)}),[]),y=i.useMemo((function(){return r.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:r.FullScreenMode.Normal,zoom:function(){}})}),[]),g=function(D){return i.createElement(a,o({},D,{enableShortcuts:T.enableShortcuts,getFullScreenTarget:f,store:y}))},A=function(){return i.createElement(e,{getFullScreenTarget:f,store:y},s?.renderExitFullScreenButton)};return{install:function(D){y.update("enterFullScreenMode",D.enterFullScreenMode),y.update("exitFullScreenMode",D.exitFullScreenMode),y.update("getPagesContainer",D.getPagesContainer),y.update("zoom",D.zoom)},onViewerStateChange:function(D){return y.update("fullScreenMode",D.fullScreenMode),D},renderViewer:function(D){var P=D.slot;return P.subSlot&&(P.subSlot.children=i.createElement(i.Fragment,null,T.enableShortcuts&&i.createElement(l,{containerRef:D.containerRef,getFullScreenTarget:f,store:y}),i.createElement(t,{store:y,onEnterFullScreen:T.onEnterFullScreen,onExitFullScreen:T.onExitFullScreen}),i.createElement(A,null),P.subSlot.children)),P},EnterFullScreen:g,EnterFullScreenButton:function(){return i.createElement(g,null,(function(D){return i.createElement(z,o({enableShortcuts:T.enableShortcuts},D))}))},EnterFullScreenMenuItem:function(D){return i.createElement(g,null,(function(P){return i.createElement(u,{onClick:function(){P.onClick(),D.onClick()}})}))}}},fullScreen_min}var hasRequiredLib$c;function requireLib$c(){if(hasRequiredLib$c)return lib$a.exports;hasRequiredLib$c=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$a.exports=requireFullScreen_min(),lib$a.exports}var lib$9={exports:{}},getFile_min={},hasRequiredGetFile_min;function requireGetFile_min(){if(hasRequiredGetFile_min)return getFile_min;hasRequiredGetFile_min=1;var r=requireLib$h();function d(u){var c=Object.create(null);return u&&Object.keys(u).forEach((function(e){if(e!=="default"){var t=Object.getOwnPropertyDescriptor(u,e);Object.defineProperty(c,e,t.get?t:{enumerable:!0,get:function(){return u[e]}})}})),c.default=u,Object.freeze(c)}var i=d(requireReact()),m=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),i.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},E=function(){return E=Object.assign||function(u){for(var c,e=1,t=arguments.length;e<t;e++)for(var l in c=arguments[e])Object.prototype.hasOwnProperty.call(c,l)&&(u[l]=c[l]);return u},E.apply(this,arguments)},o={left:0,top:8},x=function(u){var c=u.onClick,e=i.useContext(r.LocalizationContext).l10n,t=e&&e.download?e.download.download:"Download";return i.createElement(r.Tooltip,{ariaControlsSuffix:"get-file",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:t,testId:"get-file__download-button",onClick:c},i.createElement(m,null)),content:function(){return t},offset:o})},z=function(u,c){var e=document.createElement("a");e.style.display="none",e.href=u,e.setAttribute("download",c),document.body.appendChild(e),e.click(),document.body.removeChild(e)},X=function(u,c,e){var t=URL.createObjectURL(new Blob([u],{type:e}));z(t,c),t&&URL.revokeObjectURL(t)},h=function(u,c){u.getData().then((function(e){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?X(e,c,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?z("data:application/pdf;base64,".concat((function(t){return btoa(Array(t.length).fill("").map((function(l,s){return String.fromCharCode(t[s])})).join(""))})(e)),c):X(e,c,"application/pdf")}))},n=function(u){var c=u.children,e=u.fileNameGenerator,t=u.store,l=i.useState(t.get("file")),s=l[0],f=l[1],T=i.useState(t.get("doc")),y=T[0],g=T[1],A=function(P){g(P)},D=function(P){f(P)};return i.useEffect((function(){return t.subscribe("doc",A),t.subscribe("file",D),function(){t.subscribe("doc",A),t.unsubscribe("file",D)}}),[]),(c||function(P){return i.createElement(x,{onClick:P.onClick})})({onClick:function(){y&&s&&h(y,e(s))}})},a=function(u){var c=u.onClick,e=i.useContext(r.LocalizationContext).l10n,t=e&&e.download?e.download.download:"Download";return i.createElement(r.MenuItem,{icon:i.createElement(m,null),testId:"get-file__download-menu",onClick:c},t)};return getFile_min.DownloadIcon=m,getFile_min.getFilePlugin=function(u){var c=i.useMemo((function(){return r.createStore({})}),[]),e=function(l){return l.name?(s=l.name,(f=s.split("/").pop())?f.split("#")[0].split("?")[0]:s):"document.pdf";var s,f},t=function(l){return i.createElement(n,E({},l,{fileNameGenerator:u&&u.fileNameGenerator||e,store:c}))};return{onDocumentLoad:function(l){c.update("doc",l.doc),c.update("file",l.file)},Download:t,DownloadButton:function(){return i.createElement(t,null,(function(l){return i.createElement(x,E({},l))}))},DownloadMenuItem:function(l){return i.createElement(t,null,(function(s){return i.createElement(a,{onClick:function(){s.onClick(),l.onClick()}})}))}}},getFile_min}var hasRequiredLib$b;function requireLib$b(){if(hasRequiredLib$b)return lib$9.exports;hasRequiredLib$b=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$9.exports=requireGetFile_min(),lib$9.exports}var lib$8={exports:{}},open_min={},hasRequiredOpen_min;function requireOpen_min(){if(hasRequiredOpen_min)return open_min;hasRequiredOpen_min=1;var r=requireLib$h();function d(a){var u=Object.create(null);return a&&Object.keys(a).forEach((function(c){if(c!=="default"){var e=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(u,c,e.get?e:{enumerable:!0,get:function(){return a[c]}})}})),u.default=a,Object.freeze(u)}var i=d(requireReact()),m=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),i.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},E=function(){return E=Object.assign||function(a){for(var u,c=1,e=arguments.length;c<e;c++)for(var t in u=arguments[c])Object.prototype.hasOwnProperty.call(u,t)&&(a[t]=u[t]);return a},E.apply(this,arguments)},o=function(a){var u=i.useRef(),c=function(){var t=u.current;t&&(t.click(),a.get("triggerOpenFile")&&a.update("triggerOpenFile",!1))},e=function(t){t&&c()};return i.useEffect((function(){return a.subscribe("triggerOpenFile",e),function(){a.unsubscribe("triggerOpenFile",e)}}),[]),{inputRef:u,openFile:c}},x={left:0,top:8},z=function(a){var u=a.enableShortcuts,c=a.store,e=a.onClick,t=i.useContext(r.LocalizationContext).l10n,l=t&&t.open?t.open.openFile:"Open file",s=o(c),f=s.inputRef,T=s.openFile,y=u?r.isMac()?"Meta+O":"Ctrl+O":"";return i.createElement(r.Tooltip,{ariaControlsSuffix:"open",position:r.Position.BottomCenter,target:i.createElement("div",{className:"rpv-open__input-wrapper"},i.createElement("input",{accept:".pdf",ref:f,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:e}),i.createElement(r.MinimalButton,{ariaKeyShortcuts:y,ariaLabel:l,testId:"open__button",onClick:T},i.createElement(m,null))),content:function(){return l},offset:x})},X=function(a){var u=a.children,c=a.enableShortcuts,e=a.store;return(u||function(t){return i.createElement(z,{enableShortcuts:c,store:e,onClick:t.onClick})})({onClick:function(t){var l=t.target.files;if(l&&l.length){var s=e.get("openFile");s&&s(l[0])}}})},h=function(a){var u=a.store,c=a.onClick,e=i.useContext(r.LocalizationContext).l10n,t=e&&e.open?e.open.openFile:"Open file",l=o(u),s=l.inputRef,f=l.openFile;return i.createElement(r.MenuItem,{icon:i.createElement(m,null),testId:"open__menu",onClick:f},i.createElement("div",{className:"rpv-open__input-wrapper"},i.createElement("input",{accept:".pdf",ref:s,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:c}),t))},n=function(a){var u=a.containerRef,c=a.store,e=function(t){if(!t.shiftKey&&!t.altKey&&t.key==="o"&&(r.isMac()?t.metaKey:t.ctrlKey)){var l=u.current;l&&document.activeElement&&l.contains(document.activeElement)&&(t.preventDefault(),c.update("triggerOpenFile",!0))}};return i.useEffect((function(){if(u.current)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[u.current]),i.createElement(i.Fragment,null)};return open_min.OpenFileIcon=m,open_min.openPlugin=function(a){var u=i.useMemo((function(){return Object.assign({},{enableShortcuts:!0},a)}),[]),c=i.useMemo((function(){return r.createStore({})}),[]),e=function(t){return i.createElement(X,E({enableShortcuts:u.enableShortcuts},t,{store:c}))};return{install:function(t){c.update("openFile",t.openFile)},renderViewer:function(t){var l=t.slot,s={children:i.createElement(i.Fragment,null,u.enableShortcuts&&i.createElement(n,{containerRef:t.containerRef,store:c}),l.children)};return E(E({},l),s)},Open:e,OpenButton:function(){return i.createElement(e,null)},OpenMenuItem:function(){return i.createElement(e,null,(function(t){return i.createElement(h,{store:c,onClick:t.onClick})}))}}},open_min}var hasRequiredLib$a;function requireLib$a(){if(hasRequiredLib$a)return lib$8.exports;hasRequiredLib$a=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$8.exports=requireOpen_min(),lib$8.exports}var lib$7={exports:{}},pageNavigation_min={},hasRequiredPageNavigation_min;function requirePageNavigation_min(){if(hasRequiredPageNavigation_min)return pageNavigation_min;hasRequiredPageNavigation_min=1;var r=requireLib$h();function d($){var W=Object.create(null);return $&&Object.keys($).forEach((function(k){if(k!=="default"){var _=Object.getOwnPropertyDescriptor($,k);Object.defineProperty(W,k,_.get?_:{enumerable:!0,get:function(){return $[k]}})}})),W.default=$,Object.freeze(W)}var i=d(requireReact()),m=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},E=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o=function(){return o=Object.assign||function($){for(var W,k=1,_=arguments.length;k<_;k++)for(var p in W=arguments[k])Object.prototype.hasOwnProperty.call(W,p)&&($[p]=W[p]);return $},o.apply(this,arguments)},x=function($){var W=i.useState($.get("currentPage")||0),k=W[0],_=W[1],p=function(b){_(b)};return r.useIsomorphicLayoutEffect((function(){return $.subscribe("currentPage",p),function(){$.unsubscribe("currentPage",p)}}),[]),{currentPage:k}},z=function($){var W=i.useState($.get("numberOfPages")||0),k=W[0],_=W[1],p=function(b){_(b)};return i.useEffect((function(){return $.subscribe("numberOfPages",p),function(){$.unsubscribe("numberOfPages",p)}}),[]),{numberOfPages:k}},X=function($){var W=$.store,k=i.useContext(r.LocalizationContext).l10n,_=i.useState("1"),p=_[0],b=_[1],M=x(W).currentPage,F=z(W).numberOfPages;i.useEffect((function(){return b("".concat(M+1))}),[M]);var I=function(B){var v=W.get("jumpToPage");v&&v(B)},q=k&&k.pageNavigation?k.pageNavigation.enterPageNumber:"Enter a page number";return i.createElement("span",{className:"rpv-page-navigation__current-page-input"},i.createElement(r.TextBox,{ariaLabel:q,testId:"page-navigation__current-page-input",type:"text",value:p,onChange:b,onKeyDown:function(B){switch(B.key){case"ArrowUp":(L=M-1)>=0&&(b("".concat(L+1)),I(L));break;case"ArrowDown":(C=M+1)<F&&(b("".concat(C+1)),I(C));break;case"Enter":v=parseInt(p,10),p===""||v<1||v>F?b("".concat(M+1)):I(v-1)}var v,C,L}}))},h=function($){var W=$.children,k=$.doc,_=r.useIsMounted(),p=i.useState({loading:!0,labels:[]}),b=p[0],M=p[1];return i.useEffect((function(){k.getPageLabels().then((function(F){_.current&&M({loading:!1,labels:F||[]})}))}),[k.loadingTask.docId]),b.loading?i.createElement(i.Fragment,null):W(b.labels)},n=function($){var W=$.children,k=$.store,_=(function(F){var I=i.useState(F.get("doc")),q=I[0],B=I[1],v=function(C){B(C)};return i.useEffect((function(){return F.subscribe("doc",v),function(){F.unsubscribe("doc",v)}}),[]),q})(k),p=x(k).currentPage,b=z(k).numberOfPages,M=W||function(F){return i.createElement(i.Fragment,null,F.currentPage+1)};return _?i.createElement(h,{doc:_},(function(F){var I=F.length===b&&b>0?F[p]:"";return M({currentPage:p,numberOfPages:b,pageLabel:I})})):i.createElement(i.Fragment,null)},a=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},u={left:0,top:8},c=function($){var W=$.isDisabled,k=$.onClick,_=i.useContext(r.LocalizationContext).l10n,p=_&&_.pageNavigation?_.pageNavigation.goToFirstPage:"First page";return i.createElement(r.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:p,isDisabled:W,testId:"page-navigation__first-button",onClick:k},i.createElement(a,null)),content:function(){return p},offset:u})},e=function($){var W=$.children,k=$.store;return(W||function(_){return i.createElement(c,{isDisabled:_.isDisabled,onClick:_.onClick})})({isDisabled:x(k).currentPage===0,onClick:function(){var _=k.get("jumpToPage");_&&_(0)}})},t=function($){var W=$.isDisabled,k=$.onClick,_=i.useContext(r.LocalizationContext).l10n,p=_&&_.pageNavigation?_.pageNavigation.goToFirstPage:"First page";return i.createElement(r.MenuItem,{icon:i.createElement(a,null),isDisabled:W,testId:"page-navigation__first-menu",onClick:k},p)},l={left:0,top:8},s=function($){var W=$.isDisabled,k=$.onClick,_=i.useContext(r.LocalizationContext).l10n,p=_&&_.pageNavigation?_.pageNavigation.goToLastPage:"Last page";return i.createElement(r.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:p,isDisabled:W,testId:"page-navigation__last-button",onClick:k},i.createElement(m,null)),content:function(){return p},offset:l})},f=function($){var W=$.children,k=$.store,_=x(k).currentPage,p=z(k).numberOfPages;return(W||function(b){return i.createElement(s,{isDisabled:b.isDisabled,onClick:b.onClick})})({isDisabled:_+1>=p,onClick:function(){var b=k.get("jumpToPage");b&&b(p-1)}})},T=function($){var W=$.isDisabled,k=$.onClick,_=i.useContext(r.LocalizationContext).l10n,p=_&&_.pageNavigation?_.pageNavigation.goToLastPage:"Last page";return i.createElement(r.MenuItem,{icon:i.createElement(m,null),isDisabled:W,testId:"page-navigation__last-menu",onClick:k},p)},y={left:0,top:8},g=function($){var W=$.isDisabled,k=$.onClick,_=i.useContext(r.LocalizationContext).l10n,p=_&&_.pageNavigation?_.pageNavigation.goToNextPage:"Next page";return i.createElement(r.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:p,isDisabled:W,testId:"page-navigation__next-button",onClick:k},i.createElement(E,null)),content:function(){return p},offset:y})},A=function($){var W=$.children,k=$.store;return(W||function(_){return i.createElement(g,{onClick:_.onClick,isDisabled:_.isDisabled})})({isDisabled:x(k).currentPage+1>=z(k).numberOfPages,onClick:function(){var _=k.get("jumpToNextPage");_&&_()}})},D=function($){var W=$.isDisabled,k=$.onClick,_=i.useContext(r.LocalizationContext).l10n,p=_&&_.pageNavigation?_.pageNavigation.goToNextPage:"Next page";return i.createElement(r.MenuItem,{icon:i.createElement(E,null),isDisabled:W,testId:"page-navigation__next-menu",onClick:k},p)},P=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},R={left:0,top:8},j=function($){var W=$.isDisabled,k=$.onClick,_=i.useContext(r.LocalizationContext).l10n,p=_&&_.pageNavigation?_.pageNavigation.goToPreviousPage:"Previous page";return i.createElement(r.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:p,isDisabled:W,testId:"page-navigation__previous-button",onClick:k},i.createElement(P,null)),content:function(){return p},offset:R})},w=function($){var W=$.store;return($.children||function(k){return i.createElement(j,{isDisabled:k.isDisabled,onClick:k.onClick})})({isDisabled:x(W).currentPage<=0,onClick:function(){var k=W.get("jumpToPreviousPage");k&&k()}})},N=function($){var W=$.isDisabled,k=$.onClick,_=i.useContext(r.LocalizationContext).l10n,p=_&&_.pageNavigation?_.pageNavigation.goToPreviousPage:"Previous page";return i.createElement(r.MenuItem,{icon:i.createElement(P,null),isDisabled:W,testId:"page-navigation__previous-menu",onClick:k},p)},H=function($){var W=$.children,k=$.store,_=z(k).numberOfPages;return W?W({numberOfPages:_}):i.createElement(i.Fragment,null,_)},G=function($){var W=$.containerRef,k=$.numPages,_=$.store,p=x(_).currentPage,b=i.useRef(p);b.current=p;var M=i.useRef(!1),F=function(){M.current=!0},I=function(){M.current=!1},q=function(B){var v=W.current,C=M.current||document.activeElement&&v.contains(document.activeElement);if(v&&C){var L,V,U=B.altKey&&B.key==="ArrowDown"||!B.shiftKey&&!B.altKey&&B.key==="PageDown",Y=B.altKey&&B.key==="ArrowUp"||!B.shiftKey&&!B.altKey&&B.key==="PageUp";if(U)return B.preventDefault(),L=_.get("jumpToPage"),V=b.current+1,void(L&&V<k&&L(V));if(Y)return B.preventDefault(),void(function(){var Q=_.get("jumpToPage"),le=b.current-1;Q&&le>=0&&Q(le)})();if(r.isMac()?B.metaKey&&!B.ctrlKey:B.altKey)switch(B.key){case"ArrowLeft":B.preventDefault(),(function(){var Q=_.get("jumpToPreviousDestination");Q&&Q()})();break;case"ArrowRight":B.preventDefault(),(function(){var Q=_.get("jumpToNextDestination");Q&&Q()})()}}};return i.useEffect((function(){var B=W.current;if(B)return document.addEventListener("keydown",q),B.addEventListener("mouseenter",F),B.addEventListener("mouseleave",I),function(){document.removeEventListener("keydown",q),B.removeEventListener("mouseenter",F),B.removeEventListener("mouseleave",I)}}),[W.current]),i.createElement(i.Fragment,null)};return pageNavigation_min.DownArrowIcon=m,pageNavigation_min.NextIcon=E,pageNavigation_min.PreviousIcon=P,pageNavigation_min.UpArrowIcon=a,pageNavigation_min.pageNavigationPlugin=function($){var W=i.useMemo((function(){return Object.assign({},{enableShortcuts:!0},$)}),[]),k=i.useMemo((function(){return r.createStore()}),[]),_=function(F){return i.createElement(e,o({},F,{store:k}))},p=function(F){return i.createElement(f,o({},F,{store:k}))},b=function(F){return i.createElement(A,o({},F,{store:k}))},M=function(F){return i.createElement(w,o({},F,{store:k}))};return{install:function(F){k.update("jumpToDestination",F.jumpToDestination),k.update("jumpToNextDestination",F.jumpToNextDestination),k.update("jumpToNextPage",F.jumpToNextPage),k.update("jumpToPage",F.jumpToPage),k.update("jumpToPreviousDestination",F.jumpToPreviousDestination),k.update("jumpToPreviousPage",F.jumpToPreviousPage)},renderViewer:function(F){var I=F.slot;if(!W.enableShortcuts)return I;var q={children:i.createElement(i.Fragment,null,i.createElement(G,{containerRef:F.containerRef,numPages:F.doc.numPages,store:k}),I.children)};return o(o({},I),q)},onDocumentLoad:function(F){k.update("doc",F.doc),k.update("numberOfPages",F.doc.numPages)},onViewerStateChange:function(F){return k.update("currentPage",F.pageIndex),F},jumpToNextPage:function(){var F=k.get("jumpToNextPage");F&&F()},jumpToPage:function(F){var I=k.get("jumpToPage");I&&I(F)},jumpToPreviousPage:function(){var F=k.get("jumpToPreviousPage");F&&F()},CurrentPageInput:function(){return i.createElement(X,{store:k})},CurrentPageLabel:function(F){return i.createElement(n,o({},F,{store:k}))},GoToFirstPage:_,GoToFirstPageButton:function(){return i.createElement(_,null,(function(F){return i.createElement(c,o({},F))}))},GoToFirstPageMenuItem:function(F){return i.createElement(_,null,(function(I){return i.createElement(t,{isDisabled:I.isDisabled,onClick:function(){I.onClick(),F.onClick()}})}))},GoToLastPage:p,GoToLastPageButton:function(){return i.createElement(p,null,(function(F){return i.createElement(s,o({},F))}))},GoToLastPageMenuItem:function(F){return i.createElement(p,null,(function(I){return i.createElement(T,{isDisabled:I.isDisabled,onClick:function(){I.onClick(),F.onClick()}})}))},GoToNextPage:b,GoToNextPageButton:function(){return i.createElement(b,null,(function(F){return i.createElement(g,o({},F))}))},GoToNextPageMenuItem:function(F){return i.createElement(b,null,(function(I){return i.createElement(D,{isDisabled:I.isDisabled,onClick:function(){I.onClick(),F.onClick()}})}))},GoToPreviousPage:M,GoToPreviousPageButton:function(){return i.createElement(M,null,(function(F){return i.createElement(j,o({},F))}))},GoToPreviousPageMenuItem:function(F){return i.createElement(M,null,(function(I){return i.createElement(N,{isDisabled:I.isDisabled,onClick:function(){I.onClick(),F.onClick()}})}))},NumberOfPages:function(F){return i.createElement(H,o({},F,{store:k}))}}},pageNavigation_min}var hasRequiredLib$9;function requireLib$9(){if(hasRequiredLib$9)return lib$7.exports;hasRequiredLib$9=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$7.exports=requirePageNavigation_min(),lib$7.exports}var lib$6={exports:{}},print_min={},hasRequiredPrint_min;function requirePrint_min(){if(hasRequiredPrint_min)return print_min;hasRequiredPrint_min=1;var r={},d=requireLib$h(),i=requireReact(),m=requireReactDom();function E(y){var g=Object.create(null);return y&&Object.keys(y).forEach((function(A){if(A!=="default"){var D=Object.getOwnPropertyDescriptor(y,A);Object.defineProperty(g,A,D.get?D:{enumerable:!0,get:function(){return y[A]}})}})),g.default=y,Object.freeze(g)}var o,x=E(i),z=function(){return x.createElement(d.Icon,{size:16},x.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},X=function(){return X=Object.assign||function(y){for(var g,A=1,D=arguments.length;A<D;A++)for(var P in g=arguments[A])Object.prototype.hasOwnProperty.call(g,P)&&(y[P]=g[P]);return y},X.apply(this,arguments)},h={left:0,top:8},n=function(y){var g=y.enableShortcuts,A=y.onClick,D=x.useContext(d.LocalizationContext).l10n,P=D&&D.print?D.print.print:"Print",R=g?d.isMac()?"Meta+P":"Ctrl+P":"";return x.createElement(d.Tooltip,{ariaControlsSuffix:"print",position:d.Position.BottomCenter,target:x.createElement(d.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:P,testId:"print__button",onClick:A},x.createElement(z,null)),content:function(){return P},offset:h})};(function(y){y.CheckingPermission="CheckingPermission",y.Inactive="Inactive",y.Preparing="Preparing",y.Cancelled="Cancelled",y.Ready="Ready"})(o||(o={}));var a=function(y){var g=y.children,A=y.enableShortcuts,D=y.store;return(g||n)({enableShortcuts:A,onClick:function(){D.update("printStatus",o.CheckingPermission)}})},u=function(y){var g=y.doc,A=y.store,D=x.useContext(d.LocalizationContext).l10n,P=x.useState(!0),R=P[0],j=P[1];return x.useEffect((function(){g.getPermissions().then((function(w){w===null||w.includes(4)||w.includes(2048)?A.update("printStatus",o.Preparing):j(!1)}))}),[]),R?x.createElement(x.Fragment,null):x.createElement(d.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(w){return x.createElement(x.Fragment,null,x.createElement("div",{className:"rpv-print__permission-body"},D&&D.print?D.print.disallowPrint:"The document does not allow to print"),x.createElement("div",{className:"rpv-print__permission-footer"},x.createElement(d.Button,{onClick:function(){w(),A.update("printStatus",o.Cancelled)}},D&&D.print?D.print.close:"Close")))},isOpened:!0})},c=function(y){var g=y.numLoadedPages,A=y.numPages,D=y.onCancel,P=x.useContext(d.LocalizationContext).l10n,R=x.useContext(d.ThemeContext).direction===d.TextDirection.RightToLeft,j=Math.floor(100*g/A);return x.createElement("div",{className:"rpv-print__progress"},x.createElement("div",{className:d.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":R})},x.createElement("div",{className:"rpv-print__progress-message"},P&&P.print?P.print.preparingDocument:"Preparing document ..."),x.createElement("div",{className:"rpv-print__progress-bar"},x.createElement(d.ProgressBar,{progress:j})),x.createElement(d.Button,{onClick:D},P&&P.print?P.print.cancel:"Cancel")))},e=function(y){var g=y.canvas,A=y.page,D=y.pageHeight,P=y.pageIndex,R=y.pageWidth,j=y.rotation,w=y.onLoad,N=d.useIsMounted(),H=x.useRef(),G=x.useState(""),$=G[0],W=G[1],k=x.useMemo((function(){return typeof process<"u"&&r.JEST_WORKER_ID!==void 0}),[]);return x.useEffect((function(){var _=H.current;_&&_.cancel();var p=150/72;g.height=Math.floor(D*p),g.width=Math.floor(R*p);var b=g.getContext("2d");b.save(),b.fillStyle="rgb(255, 255, 255)",b.fillRect(0,0,g.width,g.height),b.restore();var M=A.getViewport({rotation:j,scale:1});H.current=A.render({canvasContext:b,intent:"print",transform:[p,0,0,p,0,0],viewport:M}),H.current.promise.then((function(){"toBlob"in g&&"createObjectURL"in URL?g.toBlob((function(F){N.current&&W(URL.createObjectURL(F)),k&&w()})):(N.current&&W(g.toDataURL()),k&&w())}),(function(){}))}),[]),$&&x.createElement("div",{className:"rpv-print__page"},x.createElement("img",{"data-testid":"print__thumbnail-".concat(P),src:$,onLoad:function(){k||w()}}))},t=function(y){var g=y.canvas,A=y.doc,D=y.pageIndex,P=y.pageRotation,R=y.pageSize,j=y.rotation,w=y.shouldRender,N=y.onLoad,H=d.useIsMounted(),G=x.useState(null),$=G[0],W=G[1],k=Math.abs(j+P)%180==0;x.useEffect((function(){w&&d.getPage(A,D).then((function(p){H.current&&W(p)}))}),[w]);var _=(R.rotation+j+P)%360;return $&&x.createElement(e,{canvas:g,page:$,pageHeight:k?R.pageHeight:R.pageWidth,pageIndex:D,pageWidth:k?R.pageWidth:R.pageHeight,rotation:_,onLoad:N})},l=function(y){var g=y.doc,A=y.numLoadedPages,D=y.pagesRotation,P=y.pageSizes,R=y.printPages,j=y.printStatus,w=y.rotation,N=y.onCancel,H=y.onLoad,G=x.useMemo((function(){return document.createElement("canvas")}),[]),$=x.useMemo((function(){var _=document.querySelector(".rpv-print__zone");if(_)return _;var p=document.createElement("div");return p.classList.add("rpv-print__zone"),p.setAttribute("data-testid","print__zone"),document.body.appendChild(p),p}),[]);x.useEffect((function(){j===o.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var _=function(){if(j===o.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var p=document.querySelectorAll(".rpv-print__zone");p&&p.forEach((function(b){b.parentElement.removeChild(b)})),G.height=0,G.width=0,document.removeEventListener("mousemove",_),N()}};return document.addEventListener("mousemove",_),function(){return document.removeEventListener("mousemove",_)}}),[j]);var W=P[0].pageHeight,k=P[0].pageWidth;return m.createPortal(x.createElement(x.Fragment,null,R.map((function(_,p){return x.createElement(t,{key:_,canvas:G,doc:g,pageIndex:_,pageRotation:D.has(_)?D.get(_):0,pageSize:P[_],rotation:w,shouldRender:p===A,onLoad:H})})),x.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(k,"pt ").concat(W,"pt }")}})),$)},s=function(y){var g=y.doc,A=y.pagesRotation,D=y.pageSizes,P=y.renderProgressBar,R=y.rotation,j=y.setPages,w=y.store,N=x.useState(o.Inactive),H=N[0],G=N[1],$=x.useState(0),W=$[0],k=$[1],_=x.useMemo((function(){var F=g.numPages;return j(g).filter((function(I){return I>=0&&I<F}))}),[g,j]),p=_.length,b=function(){k(0),G(o.Inactive)},M=function(F){return G(F)};return x.useEffect((function(){return w.subscribe("printStatus",M),function(){w.unsubscribe("printStatus",M)}}),[]),x.createElement(x.Fragment,null,H===o.CheckingPermission&&x.createElement(u,{doc:g,store:w}),H===o.Preparing&&(P?P(W,p,b):x.createElement(c,{numLoadedPages:W,numPages:p,onCancel:b})),(H===o.Preparing||H===o.Ready)&&W<=p&&x.createElement(l,{doc:g,numLoadedPages:W,pagesRotation:A,pageSizes:D,printPages:_,printStatus:H,rotation:R,onCancel:b,onLoad:function(){var F=W+1;F<=p&&(k(F),F===p&&G(o.Ready))}}))},f=function(y){var g=y.onClick,A=x.useContext(d.LocalizationContext).l10n,D=A&&A.print?A.print.print:"Print";return x.createElement(d.MenuItem,{icon:x.createElement(z,null),testId:"print__menu",onClick:g},D)},T=function(y){var g=y.containerRef,A=y.store,D=function(P){if(!P.shiftKey&&!P.altKey&&P.key==="p"&&(d.isMac()?P.metaKey:P.ctrlKey)){var R=g.current;R&&document.activeElement&&R.contains(document.activeElement)&&(P.preventDefault(),A.update("printStatus",o.Preparing))}};return x.useEffect((function(){if(g.current)return document.addEventListener("keydown",D),function(){document.removeEventListener("keydown",D)}}),[g.current]),x.createElement(x.Fragment,null)};return print_min.PrintIcon=z,print_min.getAllPagesNumbers=function(y){return Array(y.numPages).fill(0).map((function(g,A){return A}))},print_min.getCustomPagesNumbers=function(y){return function(g){var A,D=[];return y.replace(/\s+/g,"").split(",").forEach((function(P){var R,j,w=P.split("-").map((function(N){return parseInt(N,10)})).filter((function(N){return Number.isInteger(N)}));w.length===1?D.push(w[0]-1):w.length===2&&D.push.apply(D,(R=w[0]-1,j=w[1]-1,Array(j-R+1).fill(0).map((function(N,H){return R+H}))))})),(A=D,A.filter((function(P){return A.indexOf(P)===A.lastIndexOf(P)}))).filter((function(P){return P>=0&&P<g.numPages}))}},print_min.getEvenPagesNumbers=function(y){return Array(y.numPages).fill(0).map((function(g,A){return A})).filter((function(g){return(g+1)%2==0}))},print_min.getOddPagesNumbers=function(y){return Array(y.numPages).fill(0).map((function(g,A){return A})).filter((function(g){return(g+1)%2==1}))},print_min.printPlugin=function(y){var g=x.useMemo((function(){return Object.assign({},{enableShortcuts:!0,setPages:function(P){return Array(P.numPages).fill(0).map((function(R,j){return j}))}},y)}),[]),A=x.useMemo((function(){return d.createStore({printStatus:o.Inactive})}),[]),D=function(P){return x.createElement(a,X({enableShortcuts:g.enableShortcuts},P,{store:A}))};return{print:function(){A.update("printStatus",o.CheckingPermission)},renderViewer:function(P){var R=P.slot,j={children:x.createElement(x.Fragment,null,g.enableShortcuts&&x.createElement(T,{containerRef:P.containerRef,store:A}),x.createElement(s,{doc:P.doc,pagesRotation:P.pagesRotation,pageSizes:P.pageSizes,renderProgressBar:y?.renderProgressBar,rotation:P.rotation,setPages:g.setPages,store:A}),R.children)};return X(X({},R),j)},Print:D,PrintButton:function(){return x.createElement(D,null,(function(P){return x.createElement(n,X({},P))}))},PrintMenuItem:function(P){return x.createElement(D,null,(function(R){return x.createElement(f,{onClick:function(){R.onClick(),P.onClick()}})}))},setPages:function(P){g.setPages=P}}},print_min}var hasRequiredLib$8;function requireLib$8(){if(hasRequiredLib$8)return lib$6.exports;hasRequiredLib$8=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$6.exports=requirePrint_min(),lib$6.exports}var lib$5={exports:{}},properties_min={},hasRequiredProperties_min;function requireProperties_min(){if(hasRequiredProperties_min)return properties_min;hasRequiredProperties_min=1;var r=requireLib$h();function d(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(l){if(l!=="default"){var s=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(t,l,s.get?s:{enumerable:!0,get:function(){return e[l]}})}})),t.default=e,Object.freeze(t)}var i=d(requireReact()),m=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},E=function(){return E=Object.assign||function(e){for(var t,l=1,s=arguments.length;l<s;l++)for(var f in t=arguments[l])Object.prototype.hasOwnProperty.call(t,f)&&(e[f]=t[f]);return e},E.apply(this,arguments)},o=function(e){var t=e.doc,l=e.render,s=i.useState(),f=s[0],T=s[1];return i.useEffect((function(){t.getMetadata().then((function(y){return Promise.resolve(y)})).then((function(y){return t.getDownloadInfo().then((function(g){return Promise.resolve({fileName:y.contentDispositionFilename||"",info:y.info,length:g.length})}))})).then((function(y){T(y)}))}),[]),f?l(f):i.createElement("div",{className:"rpv-properties__loader"},i.createElement(r.Spinner,null))},x=function(e){var t=e.label,l=e.value,s=i.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft;return i.createElement("dl",{className:r.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":s})},i.createElement("dt",{className:"rpv-properties__item-label"},t,":"),i.createElement("dd",{className:"rpv-properties__item-value"},l||"-"))},z=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),X=function(e,t,l,s){var f=parseInt(e,10);return f>=t&&f<=l?f:s},h=function(e){var t=e.doc,l=e.fileName,s=e.onToggle,f=i.useContext(r.LocalizationContext).l10n,T=function(y){var g=(function(A){var D=z.exec(A);if(!D)return null;var P=parseInt(D[1],10),R=X(D[2],1,12,1)-1,j=X(D[3],1,31,1),w=X(D[4],0,23,0),N=X(D[5],0,59,0),H=X(D[6],0,59,0),G=D[7]||"Z",$=X(D[8],0,23,0),W=X(D[9],0,59,0);switch(G){case"-":w+=$,N+=W;break;case"+":w-=$,N-=W}return new Date(Date.UTC(P,R,j,w,N,H))})(y);return g?"".concat(g.toLocaleDateString(),", ").concat(g.toLocaleTimeString()):""};return i.createElement("div",{className:"rpv-properties__modal"},i.createElement(o,{doc:t,render:function(y){return i.createElement(i.Fragment,null,i.createElement("div",{className:"rpv-properties__modal-section"},i.createElement(x,{label:f&&f.properties?f.properties.fileName:"File name",value:y.fileName||(D=l,P=D.split("/").pop(),P?P.split("#")[0].split("?")[0]:D)}),i.createElement(x,{label:f&&f.properties?f.properties.fileSize:"File size",value:(g=y.length,A=Math.floor(Math.log(g)/Math.log(1024)),"".concat((g/Math.pow(1024,A)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][A]))})),i.createElement(r.Separator,null),i.createElement("div",{className:"rpv-properties__modal-section"},i.createElement(x,{label:f&&f.properties?f.properties.title:"Title",value:y.info.Title}),i.createElement(x,{label:f&&f.properties?f.properties.author:"Author",value:y.info.Author}),i.createElement(x,{label:f&&f.properties?f.properties.subject:"Subject",value:y.info.Subject}),i.createElement(x,{label:f&&f.properties?f.properties.keywords:"Keywords",value:y.info.Keywords}),i.createElement(x,{label:f&&f.properties?f.properties.creator:"Creator",value:y.info.Creator}),i.createElement(x,{label:f&&f.properties?f.properties.creationDate:"Creation date",value:T(y.info.CreationDate)}),i.createElement(x,{label:f&&f.properties?f.properties.modificationDate:"Modification date",value:T(y.info.ModDate)})),i.createElement(r.Separator,null),i.createElement("div",{className:"rpv-properties__modal-section"},i.createElement(x,{label:f&&f.properties?f.properties.pdfProducer:"PDF producer",value:y.info.Producer}),i.createElement(x,{label:f&&f.properties?f.properties.pdfVersion:"PDF version",value:y.info.PDFFormatVersion}),i.createElement(x,{label:f&&f.properties?f.properties.pageCount:"Page count",value:"".concat(t.numPages)})));var g,A,D,P}}),i.createElement("div",{className:"rpv-properties__modal-footer"},i.createElement(r.Button,{onClick:s},f&&f.properties?f.properties.close:"Close")))},n={left:0,top:8},a=function(e){var t=e.onClick,l=i.useContext(r.LocalizationContext).l10n,s=l&&l.properties?l.properties.showProperties:"Show properties";return i.createElement(r.Tooltip,{ariaControlsSuffix:"properties",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:s,testId:"properties__button",onClick:t},i.createElement(m,null)),content:function(){return s},offset:n})},u=function(e){var t=e.children,l=e.store,s=(function(y){var g=i.useState(y.get("doc")),A=g[0],D=g[1],P=function(R){D(R)};return i.useEffect((function(){return y.subscribe("doc",P),function(){y.unsubscribe("doc",P)}}),[]),{currentDoc:A}})(l).currentDoc,f=l.get("fileName")||"",T=t||function(y){return i.createElement(a,E({},y))};return s?i.createElement(r.Modal,{ariaControlsSuffix:"properties",target:function(y){return T({onClick:y})},content:function(y){return i.createElement(h,{doc:s,fileName:f,onToggle:y})},closeOnClickOutside:!0,closeOnEscape:!0}):i.createElement(i.Fragment,null)},c=function(e){var t=e.onClick,l=i.useContext(r.LocalizationContext).l10n,s=l&&l.properties?l.properties.showProperties:"Show properties";return i.createElement(r.MenuItem,{icon:i.createElement(m,null),testId:"properties__menu",onClick:t},s)};return properties_min.InfoIcon=m,properties_min.propertiesPlugin=function(){var e=i.useMemo((function(){return r.createStore({fileName:""})}),[]),t=function(l){return i.createElement(u,E({},l,{store:e}))};return{onDocumentLoad:function(l){e.update("doc",l.doc)},onViewerStateChange:function(l){return e.update("fileName",l.file.name),l},ShowProperties:t,ShowPropertiesButton:function(){return i.createElement(u,{store:e})},ShowPropertiesMenuItem:function(l){return i.createElement(t,null,(function(s){return i.createElement(c,E({},s))}))}}},properties_min}var hasRequiredLib$7;function requireLib$7(){if(hasRequiredLib$7)return lib$5.exports;hasRequiredLib$7=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$5.exports=requireProperties_min(),lib$5.exports}var lib$4={exports:{}},rotate_min={},hasRequiredRotate_min;function requireRotate_min(){if(hasRequiredRotate_min)return rotate_min;hasRequiredRotate_min=1;var r=requireLib$h();function d(a){var u=Object.create(null);return a&&Object.keys(a).forEach((function(c){if(c!=="default"){var e=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(u,c,e.get?e:{enumerable:!0,get:function(){return a[c]}})}})),u.default=a,Object.freeze(u)}var i=d(requireReact()),m=function(){return i.createElement(r.Icon,{ignoreDirection:!0,size:16},i.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},E=function(){return i.createElement(r.Icon,{ignoreDirection:!0,size:16},i.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},o=function(){return o=Object.assign||function(a){for(var u,c=1,e=arguments.length;c<e;c++)for(var t in u=arguments[c])Object.prototype.hasOwnProperty.call(u,t)&&(a[t]=u[t]);return a},o.apply(this,arguments)},x={left:0,top:8},z=function(a){var u=a.direction,c=a.onClick,e=i.useContext(r.LocalizationContext).l10n,t=e&&e.rotate?e.rotate.rotateBackward:"Rotate counterclockwise",l=e&&e.rotate?e.rotate.rotateForward:"Rotate clockwise",s=u===r.RotateDirection.Backward?t:l,f=u===r.RotateDirection.Backward?i.createElement(m,null):i.createElement(E,null);return i.createElement(r.Tooltip,{ariaControlsSuffix:"rotate",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:s,testId:u===r.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:c},f),content:function(){return s},offset:x})},X=function(a){var u=a.children,c=a.direction,e=a.store;return(u||function(t){return i.createElement(z,{direction:t.direction,onClick:t.onClick})})({direction:c,onClick:function(){var t=e.get("rotate");t&&t(c)}})},h=function(a){var u=a.direction,c=a.onClick,e=i.useContext(r.LocalizationContext).l10n,t=e&&e.rotate?e.rotate.rotateBackward:"Rotate counterclockwise",l=e&&e.rotate?e.rotate.rotateForward:"Rotate clockwise",s=u===r.RotateDirection.Backward?t:l,f=u===r.RotateDirection.Backward?i.createElement(m,null):i.createElement(E,null);return i.createElement(r.MenuItem,{icon:f,testId:u===r.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:c},s)},n=function(a){var u=a.children,c=a.store;return u({onRotatePage:function(e,t){var l=c.get("rotatePage");l&&l(e,t)}})};return rotate_min.RotateBackwardIcon=m,rotate_min.RotateForwardIcon=E,rotate_min.rotatePlugin=function(){var a=i.useMemo((function(){return r.createStore()}),[]),u=function(c){return i.createElement(X,o({},c,{store:a}))};return{install:function(c){a.update("rotate",c.rotate),a.update("rotatePage",c.rotatePage)},Rotate:u,RotateBackwardButton:function(){return i.createElement(u,{direction:r.RotateDirection.Backward},(function(c){return i.createElement(z,o({},c))}))},RotateBackwardMenuItem:function(c){return i.createElement(u,{direction:r.RotateDirection.Backward},(function(e){return i.createElement(h,{direction:e.direction,onClick:function(){e.onClick(),c.onClick()}})}))},RotateForwardButton:function(){return i.createElement(u,{direction:r.RotateDirection.Forward},(function(c){return i.createElement(z,o({},c))}))},RotateForwardMenuItem:function(c){return i.createElement(u,{direction:r.RotateDirection.Forward},(function(e){return i.createElement(h,{direction:e.direction,onClick:function(){e.onClick(),c.onClick()}})}))},RotatePage:function(c){return i.createElement(n,o({},c,{store:a}))}}},rotate_min}var hasRequiredLib$6;function requireLib$6(){if(hasRequiredLib$6)return lib$4.exports;hasRequiredLib$6=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$4.exports=requireRotate_min(),lib$4.exports}var lib$3={exports:{}},scrollMode_min={},hasRequiredScrollMode_min;function requireScrollMode_min(){if(hasRequiredScrollMode_min)return scrollMode_min;hasRequiredScrollMode_min=1;var r=requireLib$h();function d(P){var R=Object.create(null);return P&&Object.keys(P).forEach((function(j){if(j!=="default"){var w=Object.getOwnPropertyDescriptor(P,j);Object.defineProperty(R,j,w.get?w:{enumerable:!0,get:function(){return P[j]}})}})),R.default=P,Object.freeze(R)}var i=d(requireReact()),m=function(){return i.createElement(r.Icon,{size:16},i.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),i.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),i.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},E=function(){return i.createElement(r.Icon,{size:16},i.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),i.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},o=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},x=function(){return i.createElement(r.Icon,{size:16},i.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},z=function(){return z=Object.assign||function(P){for(var R,j=1,w=arguments.length;j<w;j++)for(var N in R=arguments[j])Object.prototype.hasOwnProperty.call(R,N)&&(P[N]=R[N]);return P},z.apply(this,arguments)},X=function(P,R){P.get("switchScrollMode")(R);var j=P.get("viewMode");R!==r.ScrollMode.Horizontal&&R!==r.ScrollMode.Wrapped||j===r.ViewMode.SinglePage||P.get("switchViewMode")(r.ViewMode.SinglePage)},h=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},n=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},a=function(P){var R=P.children,j=P.mode,w=P.onClick,N=i.useContext(r.LocalizationContext).l10n,H="",G=i.createElement(h,null);switch(j){case r.ScrollMode.Horizontal:H=N&&N.scrollMode?N.scrollMode.horizontalScrolling:"Horizontal scrolling",G=i.createElement(o,null);break;case r.ScrollMode.Page:H=N&&N.scrollMode?N.scrollMode.pageScrolling:"Page scrolling",G=i.createElement(x,null);break;case r.ScrollMode.Wrapped:H=N&&N.scrollMode?N.scrollMode.wrappedScrolling:"Wrapped scrolling",G=i.createElement(n,null);break;case r.ScrollMode.Vertical:default:H=N&&N.scrollMode?N.scrollMode.verticalScrolling:"Vertical scrolling",G=i.createElement(h,null)}return R({icon:G,label:H,onClick:w})},u={left:0,top:8},c=function(P){var R=P.isDisabled,j=P.isSelected,w=P.mode,N=P.onClick,H="";switch(w){case r.ScrollMode.Horizontal:H="scroll-mode__horizontal-button";break;case r.ScrollMode.Page:H="scroll-mode__page-button";break;case r.ScrollMode.Wrapped:H="scroll-mode__wrapped-button";break;case r.ScrollMode.Vertical:default:H="scroll-mode__vertical-button"}return i.createElement(a,{mode:w,onClick:N},(function(G){return i.createElement(r.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:G.label,isDisabled:R,isSelected:j,testId:H,onClick:G.onClick},G.icon),content:function(){return G.label},offset:u})}))},e=function(P){var R=i.useState(P.get("scrollMode")||r.ScrollMode.Vertical),j=R[0],w=R[1],N=function(H){w(H)};return i.useEffect((function(){return P.subscribe("scrollMode",N),function(){P.unsubscribe("scrollMode",N)}}),[]),{scrollMode:j}},t=function(P){var R=i.useState(P.get("viewMode")||r.ViewMode.SinglePage),j=R[0],w=R[1],N=function(H){w(H)};return i.useEffect((function(){return P.subscribe("viewMode",N),function(){P.unsubscribe("viewMode",N)}}),[]),{viewMode:j}},l=function(P){var R=P.children,j=P.mode,w=P.store,N=t(w).viewMode,H=e(w).scrollMode===j,G=(j===r.ScrollMode.Horizontal||j===r.ScrollMode.Wrapped)&&N!==r.ViewMode.SinglePage;return(R||function($){return i.createElement(c,{isDisabled:G,isSelected:H,mode:$.mode,onClick:$.onClick})})({isDisabled:G,isSelected:H,mode:j,onClick:function(){X(w,j)}})},s=function(P){var R=P.isDisabled,j=P.isSelected,w=P.mode,N=P.onClick,H="";switch(w){case r.ScrollMode.Horizontal:H="scroll-mode__horizontal-menu";break;case r.ScrollMode.Page:H="scroll-mode__page-menu";break;case r.ScrollMode.Wrapped:H="scroll-mode__wrapped-menu";break;case r.ScrollMode.Vertical:default:H="scroll-mode__vertical-menu"}return i.createElement(a,{mode:w,onClick:N},(function(G){return i.createElement(r.MenuItem,{checked:j,icon:G.icon,isDisabled:R,testId:H,onClick:G.onClick},G.label)}))},f=function(P,R){P.get("switchViewMode")(R);var j=P.get("scrollMode");j!==r.ScrollMode.Horizontal&&j!==r.ScrollMode.Wrapped||R===r.ViewMode.SinglePage||P.get("switchScrollMode")(r.ScrollMode.Vertical)},T=function(P){var R=P.children,j=P.mode,w=P.onClick,N=i.useContext(r.LocalizationContext).l10n,H="",G=i.createElement(x,null);switch(j){case r.ViewMode.DualPage:H=N&&N.scrollMode?N.scrollMode.dualPage:"Dual page",G=i.createElement(E,null);break;case r.ViewMode.DualPageWithCover:H=N&&N.scrollMode?N.scrollMode.dualPageCover:"Dual page with cover",G=i.createElement(m,null);break;case r.ViewMode.SinglePage:default:H=N&&N.scrollMode?N.scrollMode.singlePage:"Single page",G=i.createElement(x,null)}return R({icon:G,label:H,onClick:w})},y={left:0,top:8},g=function(P){var R=P.isDisabled,j=P.isSelected,w=P.mode,N=P.onClick,H="";switch(w){case r.ViewMode.DualPage:H="view-mode__dual-button";break;case r.ViewMode.DualPageWithCover:H="view-mode__dual-cover-button";break;case r.ViewMode.SinglePage:default:H="view-mode__single-button"}return i.createElement(T,{mode:w,onClick:N},(function(G){return i.createElement(r.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:G.label,isDisabled:R,isSelected:j,testId:H,onClick:G.onClick},G.icon),content:function(){return G.label},offset:y})}))},A=function(P){var R=P.children,j=P.mode,w=P.store,N=t(w).viewMode,H=e(w).scrollMode,G=N===j,$=(H===r.ScrollMode.Horizontal||H===r.ScrollMode.Wrapped)&&j!==r.ViewMode.SinglePage;return(R||function(W){return i.createElement(g,{isDisabled:$,isSelected:G,mode:W.mode,onClick:W.onClick})})({isDisabled:$,isSelected:G,mode:j,onClick:function(){f(w,j)}})},D=function(P){var R=P.isDisabled,j=P.isSelected,w=P.mode,N=P.onClick,H="";switch(w){case r.ViewMode.DualPage:H="view-mode__dual-menu";break;case r.ViewMode.DualPageWithCover:H="view-mode__dual-cover-menu";break;case r.ViewMode.SinglePage:default:H="view-mode__single-menu"}return i.createElement(T,{mode:w,onClick:N},(function(G){return i.createElement(r.MenuItem,{checked:j,icon:G.icon,isDisabled:R,testId:H,onClick:G.onClick},G.label)}))};return scrollMode_min.DualPageCoverViewModeIcon=m,scrollMode_min.DualPageViewModeIcon=E,scrollMode_min.HorizontalScrollingIcon=o,scrollMode_min.PageScrollingIcon=x,scrollMode_min.VerticalScrollingIcon=h,scrollMode_min.WrappedScrollingIcon=n,scrollMode_min.scrollModePlugin=function(){var P=i.useMemo((function(){return r.createStore({scrollMode:r.ScrollMode.Vertical,viewMode:r.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})}),[]),R=function(w){return i.createElement(l,z({},w,{store:P}))},j=function(w){return i.createElement(A,z({},w,{store:P}))};return{install:function(w){P.update("switchScrollMode",w.switchScrollMode),P.update("switchViewMode",w.switchViewMode)},onViewerStateChange:function(w){return P.update("scrollMode",w.scrollMode),P.update("viewMode",w.viewMode),w},switchScrollMode:function(w){X(P,w)},switchViewMode:function(w){f(P,w)},SwitchScrollMode:R,SwitchScrollModeButton:function(w){return i.createElement(R,{mode:w.mode},(function(N){return i.createElement(c,{isDisabled:N.isDisabled,isSelected:N.isSelected,mode:N.mode,onClick:function(){N.onClick()}})}))},SwitchScrollModeMenuItem:function(w){return i.createElement(R,{mode:w.mode},(function(N){return i.createElement(s,{isDisabled:N.isDisabled,isSelected:N.isSelected,mode:N.mode,onClick:function(){N.onClick(),w.onClick()}})}))},SwitchViewMode:j,SwitchViewModeButton:function(w){return i.createElement(j,{mode:w.mode},(function(N){return i.createElement(g,{isDisabled:N.isDisabled,isSelected:N.isSelected,mode:N.mode,onClick:function(){N.onClick()}})}))},SwitchViewModeMenuItem:function(w){return i.createElement(j,{mode:w.mode},(function(N){return i.createElement(D,{isDisabled:N.isDisabled,isSelected:N.isSelected,mode:N.mode,onClick:function(){N.onClick(),w.onClick()}})}))}}},scrollMode_min}var hasRequiredLib$5;function requireLib$5(){if(hasRequiredLib$5)return lib$3.exports;hasRequiredLib$5=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$3.exports=requireScrollMode_min(),lib$3.exports}var lib$2={exports:{}},search_min={},hasRequiredSearch_min;function requireSearch_min(){if(hasRequiredSearch_min)return search_min;hasRequiredSearch_min=1;var r=requireLib$h();function d(w){var N=Object.create(null);return w&&Object.keys(w).forEach((function(H){if(H!=="default"){var G=Object.getOwnPropertyDescriptor(w,H);Object.defineProperty(N,H,G.get?G:{enumerable:!0,get:function(){return w[H]}})}})),N.default=w,Object.freeze(N)}var i=d(requireReact()),m=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},E=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},o=function(){return i.createElement(r.Icon,{ignoreDirection:!0,size:16},i.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},x=function(){return x=Object.assign||function(w){for(var N,H=1,G=arguments.length;H<G;H++)for(var $ in N=arguments[H])Object.prototype.hasOwnProperty.call(N,$)&&(w[$]=N[$]);return w},x.apply(this,arguments)},z={keyword:"",regExp:new RegExp(" "),wholeWords:!1},X=function(w){return{left:"".concat(w.left,"%"),top:"".concat(w.top,"%"),height:"".concat(w.height,"%"),width:"".concat(w.width,"%")}},h=function(w){var N=w.index,H=w.area,G=w.onHighlightKeyword,$=i.useRef();return r.useIsomorphicLayoutEffect((function(){var W=$.current;G&&W&&G({highlightEle:W,keyword:H.keyword})}),[]),i.createElement("div",{className:"rpv-search__highlight","data-index":N,ref:$,style:X(H),title:H.keywordStr.trim()})},n=function(w){var N=w.parentNode;N&&N.removeChild(w)},a=function(w){var N=w.parentNode;if(N){var H=document.createRange();H.selectNodeContents(w),(function(G,$){n(G);var W=$.parentNode;W&&W.insertBefore(G,$),n($)})(H.extractContents(),w),N.normalize()}},u=function(w,N){return w.top<N.top?-1:w.top>N.top?1:w.left<N.left?-1:w.left>N.left?1:0},c=function(w){var N=w.numPages,H=w.pageIndex,G=w.renderHighlights,$=w.store,W=w.onHighlightKeyword,k=i.useRef(),_=i.useCallback((function(ve){return i.createElement(i.Fragment,null,ve.highlightAreas.map((function(be,ke){return i.createElement(h,{index:ke,key:ke,area:be,onHighlightKeyword:W})})))}),[]),p=G||_,b=i.useState($.get("matchPosition")),M=b[0],F=b[1],I=i.useState($.get("keyword")||[z]),q=I[0],B=I[1],v=i.useState({pageIndex:H,scale:1,status:r.LayerRenderStatus.PreRender}),C=v[0],L=v[1],V=i.useRef(null),U=i.useRef([]),Y=i.useState([]),Q=Y[0],le=Y[1],_e=function(){return!0},de=i.useCallback((function(){return $.get("targetPageFilter")||_e}),[$.get("targetPageFilter")]),he=function(ve){var be=U.current;if(be.length===0)return[];var ke=[],Le=[].slice.call(ve.querySelectorAll(".rpv-core__text-layer-text")),We=be.map((function(tt){return tt.char})).join("");return q.forEach((function(tt){var Ze=tt.keyword;if(Ze.trim()){for(var gt,rt=tt.regExp.flags.indexOf("g")===-1?new RegExp(tt.regExp,"".concat(tt.regExp.flags,"g")):tt.regExp,ft=[];(gt=rt.exec(We))!==null;)ft.push({keyword:rt,startIndex:gt.index,endIndex:rt.lastIndex});ft.map((function(st){return{keyword:st.keyword,indexes:be.slice(st.startIndex,st.endIndex)}})).forEach((function(st){var jt=st.indexes.reduce((function(_t,Ee){return _t[Ee.spanIndex]=(_t[Ee.spanIndex]||[]).concat([Ee]),_t}),{});Object.values(jt).forEach((function(_t){if(_t.length!==1||_t[0].char.trim()!==""){var Ee=tt.wholeWords?_t.slice(1,-1):_t,ue=(function(se,Pe,it,He,Je){var zt=document.createRange(),Nt=He.firstChild;if(!Nt||Nt.nodeType!==Node.TEXT_NODE)return null;var Ht=Nt.textContent.length,xt=Je[0].charIndexInSpan,Vt=Je.length===1?xt:Je[Je.length-1].charIndexInSpan;if(xt>Ht||Vt+1>Ht)return null;zt.setStart(Nt,xt),zt.setEnd(Nt,Vt+1);var Bt=document.createElement("span");zt.surroundContents(Bt);var $t=Bt.getBoundingClientRect(),St=it.getBoundingClientRect(),Xt=St.height,Kt=St.width,an=100*($t.left-St.left)/Kt,on=100*($t.top-St.top)/Xt,Zt=100*$t.height/Xt,Dt=100*$t.width/Kt;return a(Bt),{keyword:Pe,keywordStr:se,numPages:N,pageIndex:H,left:an,top:on,height:Zt,width:Dt,pageHeight:Xt,pageWidth:Kt}})(Ze,st.keyword,ve,Le[Ee[0].spanIndex],Ee);ue&&ke.push(ue)}}))}))}})),ke.sort(u)},fe=function(ve){ve&&ve.length>0&&B(ve)},re=function(ve){return F(ve)},ce=function(ve){if(ve.has(H)){var be=ve.get(H);be&&L({ele:be.ele,pageIndex:H,scale:be.scale,status:be.status})}},Se=function(){return q.length===0||q.length===1&&q[0].keyword.trim()===""};return i.useEffect((function(){if(!Se()&&C.status===r.LayerRenderStatus.DidRender&&!U.current.length){var ve=C.ele,be=[].slice.call(ve.querySelectorAll(".rpv-core__text-layer-text")).map((function(ke){return ke.textContent})).reduce((function(ke,Le,We){return ke.concat(Le.split("").map((function(tt,Ze){return{char:tt,charIndexInSpan:Ze,spanIndex:We}})))}),[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);U.current=be}}),[q,C.status]),i.useEffect((function(){if(!Se()&&C.ele&&C.status===r.LayerRenderStatus.DidRender&&de()({pageIndex:H,numPages:N})){var ve=C.ele,be=he(ve);le(be)}}),[q,M,C.status,U.current]),i.useEffect((function(){Se()&&C.ele&&C.status===r.LayerRenderStatus.DidRender&&le([])}),[q,C.status]),i.useEffect((function(){if(Q.length!==0){var ve=k.current;if(M.pageIndex===H&&ve&&C.status===r.LayerRenderStatus.DidRender){var be=ve.querySelector('.rpv-search__highlight[data-index="'.concat(M.matchIndex,'"]'));if(be){var ke=(function(Ze,gt){for(var rt=Ze.offsetTop,ft=Ze.offsetLeft,st=Ze.parentElement;st&&st!==gt;)rt+=st.offsetTop,ft+=st.offsetLeft,st=st.parentElement;return{left:ft,top:rt}})(be,ve),Le=ke.left,We=ke.top,tt=$.get("jumpToDestination");tt&&(tt({pageIndex:H,bottomOffset:(ve.getBoundingClientRect().height-We)/C.scale,leftOffset:Le/C.scale,scaleTo:C.scale}),V.current&&V.current.classList.remove("rpv-search__highlight--current"),V.current=be,be.classList.add("rpv-search__highlight--current"))}}}}),[Q,M]),i.useEffect((function(){return $.subscribe("keyword",fe),$.subscribe("matchPosition",re),$.subscribe("renderStatus",ce),function(){$.unsubscribe("keyword",fe),$.unsubscribe("matchPosition",re),$.unsubscribe("renderStatus",ce)}}),[]),i.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(H),ref:k},p({getCssProperties:X,highlightAreas:Q}))},e=function(w){var N,H=w.wholeWords?" ".concat(w.keyword," "):w.keyword,G=w.matchCase?"g":"gi";return{keyword:w.keyword,regExp:new RegExp((N=H,N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),G),wholeWords:w.wholeWords||!1}},t=function(w,N,H){return w instanceof RegExp?{keyword:w.source,regExp:w,wholeWords:H||!1}:typeof w=="string"?w===""?z:e({keyword:w,matchCase:N||!1,wholeWords:H||!1}):(N!==void 0&&(w.matchCase=N),H!==void 0&&(w.wholeWords=H),e(w))},l=function(w){var N,H=w.get("initialKeyword"),G=i.useMemo((function(){if(H&&H.length===1){var re=t(H[0]);return{matchCase:re.regExp.flags.indexOf("i")===-1,wholeWords:re.wholeWords}}return{matchCase:!1,wholeWords:!1}}),[]),$=(function(re){var ce=i.useRef(re.get("doc")),Se=function(ve){ce.current=ve};return i.useEffect((function(){return re.subscribe("doc",Se),function(){re.unsubscribe("doc",Se)}}),[]),ce})(w),W=i.useState(H),k=W[0],_=W[1],p=i.useState([]),b=p[0],M=p[1],F=i.useState(0),I=F[0],q=F[1],B=i.useState(G.matchCase),v=B[0],C=B[1],L=i.useRef([]),V=i.useState(G.wholeWords),U=V[0],Y=V[1],Q=function(){return!0},le=i.useCallback((function(){return w.get("targetPageFilter")||Q}),[w.get("targetPageFilter")]),_e=function(re){var ce=b.length;if(k.length===0||ce===0)return null;var Se=re===ce+1?1:Math.max(1,Math.min(ce,re));return q(Se),he(b[Se-1])},de=function(re){return _(re===""?[]:[re])},he=function(re){var ce=w.get("jumpToPage");return ce&&ce(re.pageIndex),w.update("matchPosition",{matchIndex:re.matchIndex,pageIndex:re.pageIndex}),re},fe=function(re,ce,Se){var ve=$.current;if(!ve)return Promise.resolve([]);var be=ve.numPages,ke=re.map((function(Le){return t(Le,ce,Se)}));return w.update("keyword",ke),q(0),M([]),new Promise((function(Le,We){var tt=L.current.length===0?(function(){var Ze=$.current;if(!Ze)return Promise.resolve([]);var gt=Array(Ze.numPages).fill(0).map((function(rt,ft){return r.getPage(Ze,ft).then((function(st){return st.getTextContent()})).then((function(st){var jt=st.items.map((function(_t){return _t.str||""})).join("");return Promise.resolve({pageContent:jt,pageIndex:ft})}))}));return Promise.all(gt).then((function(rt){return rt.sort((function(ft,st){return ft.pageIndex-st.pageIndex})),Promise.resolve(rt.map((function(ft){return ft.pageContent})))}))})().then((function(Ze){return L.current=Ze,Promise.resolve(Ze)})):Promise.resolve(L.current);tt.then((function(Ze){var gt=[];Ze.forEach((function(rt,ft){le()({pageIndex:ft,numPages:be})&&ke.forEach((function(st){for(var jt,_t=0;(jt=st.regExp.exec(rt))!==null;)gt.push({keyword:st.regExp,matchIndex:_t,pageIndex:ft,pageText:rt,startIndex:jt.index,endIndex:st.regExp.lastIndex}),_t++}))})),M(gt),gt.length>0&&(q(1),he(gt[0])),Le(gt)}))}))};return i.useEffect((function(){L.current=[]}),[$.current]),{clearKeyword:function(){w.update("keyword",[z]),de(""),q(0),M([]),C(!1),Y(!1)},changeMatchCase:function(re){C(re),k.length>0&&fe(k,re,U)},changeWholeWords:function(re){Y(re),k.length>0&&fe(k,v,re)},currentMatch:I,jumpToMatch:_e,jumpToNextMatch:function(){return _e(I+1)},jumpToPreviousMatch:function(){return _e(I-1)},keywords:k,matchCase:v,numberOfMatches:b.length,wholeWords:U,search:function(){return fe(k,v,U)},searchFor:fe,setKeywords:_,keyword:k.length===0?"":(N=k[0],N instanceof RegExp?N.source:typeof N=="string"?N:N.keyword),setKeyword:de,setTargetPages:function(re){w.update("targetPageFilter",re)}}},s=function(w){var N=w.children,H=w.store,G=l(H),$=i.useState(!1),W=$[0],k=$[1],_=function(p){return k(!0)};return i.useEffect((function(){return H.subscribe("doc",_),function(){H.unsubscribe("doc",_)}}),[]),N(x(x({},G),{isDocumentLoaded:W}))},f=function(w){var N=w.containerRef,H=w.store,G=i.useRef(!1),$=function(){G.current=!0},W=function(){G.current=!1},k=function(_){var p=N.current;p&&(_.shiftKey||_.altKey||_.key!=="f"||(r.isMac()?_.metaKey&&!_.ctrlKey:_.ctrlKey)&&(G.current||document.activeElement&&p.contains(document.activeElement))&&(_.preventDefault(),H.update("areShortcutsPressed",!0)))};return i.useEffect((function(){var _=N.current;if(_)return document.addEventListener("keydown",k),_.addEventListener("mouseenter",$),_.addEventListener("mouseleave",W),function(){document.removeEventListener("keydown",k),_.removeEventListener("mouseenter",$),_.removeEventListener("mouseleave",W)}}),[N.current]),i.createElement(i.Fragment,null)},T={left:0,top:8},y=function(w){var N=w.store,H=w.onToggle,G=i.useContext(r.LocalizationContext).l10n,$=i.useContext(r.ThemeContext).direction,W=i.useState(!1),k=W[0],_=W[1],p=i.useState(!1),b=p[0],M=p[1],F=$===r.TextDirection.RightToLeft,I=l(N),q=I.clearKeyword,B=I.changeMatchCase,v=I.changeWholeWords,C=I.currentMatch,L=I.jumpToNextMatch,V=I.jumpToPreviousMatch,U=I.keyword,Y=I.matchCase,Q=I.numberOfMatches,le=I.wholeWords,_e=I.search,de=I.setKeyword,he=function(ve){_(!0),_e().then((function(be){_(!1),M(!0),ve&&ve()}))};i.useEffect((function(){var ve=N.get("initialKeyword");ve&&ve.length===1&&U&&he((function(){N.update("initialKeyword",[])}))}),[]);var fe=G&&G.search?G.search.enterToSearch:"Enter to search",re=G&&G.search?G.search.previousMatch:"Previous match",ce=G&&G.search?G.search.nextMatch:"Next match",Se=G&&G.search?G.search.close:"Close";return i.createElement("div",{className:"rpv-search__popover"},i.createElement("div",{className:"rpv-search__popover-input-counter"},i.createElement(r.TextBox,{ariaLabel:fe,autoFocus:!0,placeholder:fe,type:"text",value:U,onChange:function(ve){M(!1),de(ve)},onKeyDown:function(ve){ve.key==="Enter"&&U&&(b?L():he())}}),i.createElement("div",{className:r.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!F,"rpv-search__popover-counter--rtl":F})},k&&i.createElement(r.Spinner,{testId:"search__popover-searching",size:"1rem"}),!k&&i.createElement("span",{"data-testid":"search__popover-num-matches"},C,"/",Q))),i.createElement("label",{className:"rpv-search__popover-label"},i.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:Y,type:"checkbox",onChange:function(ve){M(!1),B(ve.target.checked)}})," ",G&&G.search?G.search.matchCase:"Match case"),i.createElement("label",{className:"rpv-search__popover-label"},i.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:le,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(ve){M(!1),v(ve.target.checked)}})," ",G&&G.search?G.search.wholeWords:"Whole words"),i.createElement("div",{className:"rpv-search__popover-footer"},i.createElement("div",{className:"rpv-search__popover-footer-item"},i.createElement(r.Tooltip,{ariaControlsSuffix:"search-previous-match",position:F?r.Position.BottomRight:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:re,isDisabled:C<=1,onClick:V},i.createElement(E,null)),content:function(){return re},offset:T})),i.createElement("div",{className:"rpv-search__popover-footer-item"},i.createElement(r.Tooltip,{ariaControlsSuffix:"search-next-match",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:ce,isDisabled:C>Q-1,onClick:L},i.createElement(m,null)),content:function(){return ce},offset:T})),i.createElement("div",{className:r.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!F,"rpv-search__popover-footer-button--rtl":F})},i.createElement(r.Button,{onClick:function(){H(),q()}},Se))))},g=function(w){var N=w.children,H=w.onClick,G=i.useContext(r.LocalizationContext).l10n,$=G&&G.search?G.search.search:"Search";return N({icon:i.createElement(o,null),label:$,onClick:H})},A={left:0,top:8},D=function(w){var N=w.enableShortcuts,H=w.store,G=w.onClick,$=N?r.isMac()?"Meta+F":"Ctrl+F":"",W=function(k){k&&G()};return i.useEffect((function(){return H.subscribe("areShortcutsPressed",W),function(){H.unsubscribe("areShortcutsPressed",W)}}),[]),i.createElement(g,{onClick:G},(function(k){return i.createElement(r.Tooltip,{ariaControlsSuffix:"search-popover",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaKeyShortcuts:$,ariaLabel:k.label,testId:"search__popover-button",onClick:G},k.icon),content:function(){return k.label},offset:A})}))},P={left:0,top:8},R=function(w){var N=w.children,H=w.enableShortcuts,G=w.store,$=i.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft?r.Position.BottomRight:r.Position.BottomLeft,W=N||function(k){return i.createElement(D,x({enableShortcuts:H,store:G},k))};return i.createElement(r.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:$,target:function(k){return W({onClick:k})},content:function(k){return i.createElement(y,{store:G,onToggle:k})},offset:P,closeOnClickOutside:!1,closeOnEscape:!0})},j=function(w){return Array.isArray(w)?w.map((function(N){return t(N)})):[t(w)]};return search_min.NextIcon=m,search_min.PreviousIcon=E,search_min.SearchIcon=o,search_min.searchPlugin=function(w){var N=i.useMemo((function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},w)}),[]),H=i.useMemo((function(){return r.createStore({initialKeyword:w&&w.keyword?Array.isArray(w.keyword)?w.keyword:[w.keyword]:[],keyword:w&&w.keyword?j(w.keyword):[z],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})}),[]),G=l(H),$=G.clearKeyword,W=G.jumpToMatch,k=G.jumpToNextMatch,_=G.jumpToPreviousMatch,p=G.searchFor,b=G.setKeywords,M=G.setTargetPages,F=function(I){return i.createElement(R,x({enableShortcuts:N.enableShortcuts},I,{store:H}))};return{install:function(I){var q=w&&w.keyword?Array.isArray(w.keyword)?w.keyword:[w.keyword]:[],B=w&&w.keyword?j(w.keyword):[z];H.update("initialKeyword",q),H.update("jumpToDestination",I.jumpToDestination),H.update("jumpToPage",I.jumpToPage),H.update("keyword",B)},renderPageLayer:function(I){return i.createElement(c,{key:I.pageIndex,numPages:I.doc.numPages,pageIndex:I.pageIndex,renderHighlights:w?.renderHighlights,store:H,onHighlightKeyword:N.onHighlightKeyword})},renderViewer:function(I){var q=I.slot;return q.subSlot&&(q.subSlot.children=i.createElement(i.Fragment,null,N.enableShortcuts&&i.createElement(f,{containerRef:I.containerRef,store:H}),q.subSlot.children)),q},uninstall:function(I){var q=H.get("renderStatus");q&&q.clear()},onDocumentLoad:function(I){H.update("doc",I.doc)},onTextLayerRender:function(I){var q=H.get("renderStatus");q&&(q=q.set(I.pageIndex,I),H.update("renderStatus",q))},Search:function(I){return i.createElement(s,x({},I,{store:H}))},ShowSearchPopover:F,ShowSearchPopoverButton:function(){return i.createElement(F,null,(function(I){return i.createElement(D,x({enableShortcuts:N.enableShortcuts,store:H},I))}))},clearHighlights:function(){$()},highlight:function(I){var q=Array.isArray(I)?I:[I];return b(q),p(q)},jumpToMatch:W,jumpToNextMatch:k,jumpToPreviousMatch:_,setTargetPages:M}},search_min}var hasRequiredLib$4;function requireLib$4(){if(hasRequiredLib$4)return lib$2.exports;hasRequiredLib$4=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$2.exports=requireSearch_min(),lib$2.exports}var lib$1={exports:{}},theme_min={},hasRequiredTheme_min;function requireTheme_min(){if(hasRequiredTheme_min)return theme_min;hasRequiredTheme_min=1;var r=requireLib$h();function d(n){var a=Object.create(null);return n&&Object.keys(n).forEach((function(u){if(u!=="default"){var c=Object.getOwnPropertyDescriptor(n,u);Object.defineProperty(a,u,c.get?c:{enumerable:!0,get:function(){return n[u]}})}})),a.default=n,Object.freeze(a)}var i=d(requireReact()),m=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),i.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},E=function(){return i.createElement(r.Icon,{size:16},i.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),i.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o=function(){return o=Object.assign||function(n){for(var a,u=1,c=arguments.length;u<c;u++)for(var e in a=arguments[u])Object.prototype.hasOwnProperty.call(a,e)&&(n[e]=a[e]);return n},o.apply(this,arguments)},x={left:0,top:8},z=function(n){var a=n.onClick,u=i.useContext(r.ThemeContext),c=i.useContext(r.LocalizationContext).l10n,e=u.currentTheme==="dark",t=c&&c.theme?e?c.theme.switchLightTheme:c.theme.switchDarkTheme:e?"Switch to the light theme":"Switch to the dark theme";return i.createElement(r.Tooltip,{ariaControlsSuffix:"theme-switch",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaLabel:t,testId:"theme__switch-button",onClick:a},e?i.createElement(E,null):i.createElement(m,null)),content:function(){return t},offset:x})},X=function(n){var a=n.children,u=i.useContext(r.ThemeContext);return(a||function(c){return i.createElement(z,{onClick:c.onClick})})({onClick:function(){return u.setCurrentTheme(u.currentTheme==="dark"?"light":"dark")}})},h=function(n){var a=n.onClick,u=i.useContext(r.ThemeContext),c=i.useContext(r.LocalizationContext).l10n,e=u.currentTheme==="dark",t=c&&c.theme?e?c.theme.switchLightTheme:c.theme.switchDarkTheme:e?"Switch to the light theme":"Switch to the dark theme";return i.createElement(r.MenuItem,{icon:e?i.createElement(E,null):i.createElement(m,null),testId:"theme__switch-menu",onClick:a},t)};return theme_min.DarkIcon=m,theme_min.LightIcon=E,theme_min.themePlugin=function(){var n=function(a){return i.createElement(X,o({},a))};return{SwitchTheme:n,SwitchThemeButton:function(){return i.createElement(n,null,(function(a){return i.createElement(z,o({},a))}))},SwitchThemeMenuItem:function(a){return i.createElement(n,null,(function(u){return i.createElement(h,{onClick:function(){u.onClick(),a.onClick()}})}))}}},theme_min}var hasRequiredLib$3;function requireLib$3(){if(hasRequiredLib$3)return lib$1.exports;hasRequiredLib$3=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$1.exports=requireTheme_min(),lib$1.exports}var lib={exports:{}},zoom_min={},hasRequiredZoom_min;function requireZoom_min(){if(hasRequiredZoom_min)return zoom_min;hasRequiredZoom_min=1;var r=requireLib$h();function d(w){var N=Object.create(null);return w&&Object.keys(w).forEach((function(H){if(H!=="default"){var G=Object.getOwnPropertyDescriptor(w,H);Object.defineProperty(N,H,G.get?G:{enumerable:!0,get:function(){return w[H]}})}})),N.default=w,Object.freeze(N)}var i=d(requireReact()),m=function(){return i.createElement(r.Icon,{ignoreDirection:!0,size:16},i.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},E=function(){return i.createElement(r.Icon,{ignoreDirection:!0,size:16},i.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},o=function(){return o=Object.assign||function(w){for(var N,H=1,G=arguments.length;H<G;H++)for(var $ in N=arguments[H])Object.prototype.hasOwnProperty.call(N,$)&&(w[$]=N[$]);return w},o.apply(this,arguments)},x=function(w){var N=i.useState(w.get("scale")||0),H=N[0],G=N[1],$=function(W){G(W)};return i.useEffect((function(){return w.subscribe("scale",$),function(){w.unsubscribe("scale",$)}}),[]),{scale:H}},z=function(w){var N=w.children,H=w.store;return(N||function(G){return i.createElement(i.Fragment,null,"".concat(Math.round(100*G.scale),"%"))})({scale:x(H).scale})},X={passive:!1},h=null,n=function(w){var N=w.pagesContainerRef,H=w.store,G=r.useDebounceCallback((function(W){var k=H.get("zoom");k&&k(W)}),40),$=function(W){if(W.ctrlKey){W.preventDefault();var k=W.target.getBoundingClientRect(),_=1-W.deltaY/100,p=W.clientX-k.left,b=W.clientY-k.top,M=H.get("scale"),F=(h||(h=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(p,b).scale(_).translate(-p,-b).scale(M);G(F.a)}};return r.useIsomorphicLayoutEffect((function(){var W=N.current;if(W)return W.addEventListener("wheel",$,X),function(){W.removeEventListener("wheel",$)}}),[]),i.createElement(i.Fragment,null)},a=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],u=function(w){return a.find((function(N){return N>w}))||w},c=function(w){var N=a.findIndex((function(H){return H>=w}));return N===-1||N===0?w:a[N-1]},e=function(w){var N=w.containerRef,H=w.store,G=function($){if(!$.shiftKey&&!$.altKey&&(r.isMac()?$.metaKey:$.ctrlKey)){var W=N.current;if(W&&document.activeElement&&W.contains(document.activeElement)){var k=H.get("zoom");if(k){var _=H.get("scale")||1,p=1;switch($.key){case"-":p=c(_);break;case"=":p=u(_);break;case"0":p=1;break;default:p=_}p!==_&&($.preventDefault(),k(p))}}}};return i.useEffect((function(){if(N.current)return document.addEventListener("keydown",G),function(){document.removeEventListener("keydown",G)}}),[N.current]),i.createElement(i.Fragment,null)},t=[.5,.75,1,1.25,1.5,2,3,4],l={left:0,top:8},s=function(w){var N=w.levels,H=N===void 0?t:N,G=w.scale,$=w.onZoom,W=i.useContext(r.LocalizationContext).l10n,k=i.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,_=W&&W.zoom?W.zoom.zoomDocument:"Zoom document";return i.createElement(r.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:r.Position.BottomCenter,target:function(p){return i.createElement(r.MinimalButton,{ariaLabel:_,testId:"zoom__popover-target",onClick:function(){p()}},i.createElement("span",{className:"rpv-zoom__popover-target"},i.createElement("span",{"data-testid":"zoom__popover-target-scale",className:r.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!k,"rpv-zoom__popover-target-scale--rtl":k})},Math.round(100*G),"%"),i.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(p){return i.createElement(r.Menu,null,Object.keys(r.SpecialZoomLevel).map((function(b){var M=b;return i.createElement(r.MenuItem,{key:M,onClick:function(){p(),$(M)}},(function(F){switch(F){case r.SpecialZoomLevel.ActualSize:return W&&W.zoom?W.zoom.actualSize:"Actual size";case r.SpecialZoomLevel.PageFit:return W&&W.zoom?W.zoom.pageFit:"Page fit";case r.SpecialZoomLevel.PageWidth:return W&&W.zoom?W.zoom.pageWidth:"Page width"}})(M))})),i.createElement(r.MenuDivider,null),H.map((function(b){return i.createElement(r.MenuItem,{key:b,onClick:function(){p(),$(b)}},"".concat(Math.round(100*b),"%"))})))},offset:l,closeOnClickOutside:!0,closeOnEscape:!0})},f=function(w){var N=w.children,H=w.levels,G=w.store;return(N||function($){return i.createElement(s,{levels:H,scale:$.scale,onZoom:$.onZoom})})({scale:x(G).scale,onZoom:function($){var W=G.get("zoom");W&&W($)}})},T={left:0,top:8},y=function(w){var N=w.enableShortcuts,H=w.onClick,G=i.useContext(r.LocalizationContext).l10n,$=G&&G.zoom?G.zoom.zoomIn:"Zoom in",W=N?r.isMac()?"Meta+=":"Ctrl+=":"";return i.createElement(r.Tooltip,{ariaControlsSuffix:"zoom-in",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaKeyShortcuts:W,ariaLabel:$,testId:"zoom__in-button",onClick:H},i.createElement(m,null)),content:function(){return $},offset:T})},g=function(w){var N=w.children,H=w.enableShortcuts,G=w.store,$=x(G).scale;return(N||y)({enableShortcuts:H,onClick:function(){var W=G.get("zoom");W&&W(u($))}})},A=function(w){var N=w.onClick,H=i.useContext(r.LocalizationContext).l10n,G=H&&H.zoom?H.zoom.zoomIn:"Zoom in";return i.createElement(r.MenuItem,{icon:i.createElement(m,null),testId:"zoom__in-menu",onClick:N},G)},D={left:0,top:8},P=function(w){var N=w.enableShortcuts,H=w.onClick,G=i.useContext(r.LocalizationContext).l10n,$=G&&G.zoom?G.zoom.zoomOut:"Zoom out",W=N?r.isMac()?"Meta+-":"Ctrl+-":"";return i.createElement(r.Tooltip,{ariaControlsSuffix:"zoom-out",position:r.Position.BottomCenter,target:i.createElement(r.MinimalButton,{ariaKeyShortcuts:W,ariaLabel:$,testId:"zoom__out-button",onClick:H},i.createElement(E,null)),content:function(){return $},offset:D})},R=function(w){var N=w.children,H=w.enableShortcuts,G=w.store,$=x(G).scale;return(N||P)({enableShortcuts:H,onClick:function(){var W=G.get("zoom");W&&W(c($))}})},j=function(w){var N=w.onClick,H=i.useContext(r.LocalizationContext).l10n,G=H&&H.zoom?H.zoom.zoomOut:"Zoom out";return i.createElement(r.MenuItem,{icon:i.createElement(E,null),testId:"zoom__out-menu",onClick:N},G)};return zoom_min.ZoomInIcon=m,zoom_min.ZoomOutIcon=E,zoom_min.zoomPlugin=function(w){var N=i.useMemo((function(){return Object.assign({},{enableShortcuts:!0},w)}),[]),H=i.useMemo((function(){return r.createStore({})}),[]),G=function(k){return i.createElement(g,o({enableShortcuts:N.enableShortcuts},k,{store:H}))},$=function(k){return i.createElement(R,o({enableShortcuts:N.enableShortcuts},k,{store:H}))},W=function(k){return i.createElement(f,o({},k,{store:H}))};return{renderViewer:function(k){var _=k.slot;if(!N.enableShortcuts)return _;var p={children:i.createElement(i.Fragment,null,i.createElement(e,{containerRef:k.containerRef,store:H}),i.createElement(n,{pagesContainerRef:k.pagesContainerRef,store:H}),_.children)};return o(o({},_),p)},install:function(k){H.update("zoom",k.zoom)},onViewerStateChange:function(k){return H.update("scale",k.scale),k},zoomTo:function(k){var _=H.get("zoom");_&&_(k)},CurrentScale:function(k){return i.createElement(z,o({},k,{store:H}))},ZoomIn:G,ZoomInButton:function(){return i.createElement(G,null,(function(k){return i.createElement(y,o({},k))}))},ZoomInMenuItem:function(k){return i.createElement(G,null,(function(_){return i.createElement(A,{onClick:function(){_.onClick(),k.onClick()}})}))},ZoomOut:$,ZoomOutButton:function(){return i.createElement($,null,(function(k){return i.createElement(P,o({},k))}))},ZoomOutMenuItem:function(k){return i.createElement($,null,(function(_){return i.createElement(j,{onClick:function(){_.onClick(),k.onClick()}})}))},Zoom:W,ZoomPopover:function(k){return i.createElement(W,null,(function(_){return i.createElement(s,o({levels:k?.levels},_))}))}}},zoom_min}var hasRequiredLib$2;function requireLib$2(){if(hasRequiredLib$2)return lib.exports;hasRequiredLib$2=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib.exports=requireZoom_min(),lib.exports}var hasRequiredToolbar_min;function requireToolbar_min(){if(hasRequiredToolbar_min)return toolbar_min;hasRequiredToolbar_min=1;var r=requireLib$h(),d=requireLib$d(),i=requireReact(),m=requireLib$c(),E=requireLib$b(),o=requireLib$a(),x=requireLib$9(),z=requireLib$8(),X=requireLib$7(),h=requireLib$6(),n=requireLib$5(),a=requireLib$4(),u=requireLib$3(),c=requireLib$2();function e(P){var R=Object.create(null);return P&&Object.keys(P).forEach((function(j){if(j!=="default"){var w=Object.getOwnPropertyDescriptor(P,j);Object.defineProperty(R,j,w.get?w:{enumerable:!0,get:function(){return P[j]}})}})),R.default=P,Object.freeze(R)}var t=e(i),l=function(){return t.createElement(r.Icon,{size:16},t.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},s={left:0,top:8},f=function(P){var R=P.toolbarSlot,j=t.useContext(r.LocalizationContext).l10n,w=t.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft?r.Position.BottomLeft:r.Position.BottomRight,N=R.DownloadMenuItem,H=R.EnterFullScreenMenuItem,G=R.GoToFirstPageMenuItem,$=R.GoToLastPageMenuItem,W=R.GoToNextPageMenuItem,k=R.GoToPreviousPageMenuItem,_=R.OpenMenuItem,p=R.PrintMenuItem,b=R.RotateBackwardMenuItem,M=R.RotateForwardMenuItem,F=R.ShowPropertiesMenuItem,I=R.SwitchScrollModeMenuItem,q=R.SwitchSelectionModeMenuItem,B=R.SwitchViewModeMenuItem,v=R.SwitchThemeMenuItem;return t.createElement(r.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:w,target:function(C,L){var V=j&&j.toolbar?j.toolbar.moreActions:"More actions";return t.createElement(r.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:w,target:t.createElement(r.MinimalButton,{ariaLabel:V,isSelected:L,testId:"toolbar__more-actions-popover-target",onClick:C},t.createElement(l,null)),content:function(){return V},offset:s})},content:function(C){return t.createElement(r.Menu,null,t.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},t.createElement(v,{onClick:C})),t.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},t.createElement(H,{onClick:C})),t.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},t.createElement(_,null)),t.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},t.createElement(p,{onClick:C})),t.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},t.createElement(N,{onClick:C})),t.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},t.createElement(r.MenuDivider,null)),t.createElement(G,{onClick:C}),t.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},t.createElement(k,{onClick:C})),t.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},t.createElement(W,{onClick:C})),t.createElement($,{onClick:C}),t.createElement(r.MenuDivider,null),t.createElement(M,{onClick:C}),t.createElement(b,{onClick:C}),t.createElement(r.MenuDivider,null),t.createElement(q,{mode:d.SelectionMode.Text,onClick:C}),t.createElement(q,{mode:d.SelectionMode.Hand,onClick:C}),t.createElement(r.MenuDivider,null),t.createElement(I,{mode:r.ScrollMode.Page,onClick:C}),t.createElement(I,{mode:r.ScrollMode.Vertical,onClick:C}),t.createElement(I,{mode:r.ScrollMode.Horizontal,onClick:C}),t.createElement(I,{mode:r.ScrollMode.Wrapped,onClick:C}),t.createElement(r.MenuDivider,null),t.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},t.createElement(B,{mode:r.ViewMode.SinglePage,onClick:C})),t.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},t.createElement(B,{mode:r.ViewMode.DualPage,onClick:C})),t.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},t.createElement(B,{mode:r.ViewMode.DualPageWithCover,onClick:C})),t.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},t.createElement(r.MenuDivider,null)),t.createElement(F,{onClick:C}))},offset:s,closeOnClickOutside:!0,closeOnEscape:!0})},T=function(){return T=Object.assign||function(P){for(var R,j=1,w=arguments.length;j<w;j++)for(var N in R=arguments[j])Object.prototype.hasOwnProperty.call(R,N)&&(P[N]=R[N]);return P},T.apply(this,arguments)},y=function(P){return function(R){var j=t.useMemo((function(){return P(R)}),[]),w=t.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,N=j.CurrentPageInput,H=j.Download,G=j.EnterFullScreen,$=j.GoToNextPage,W=j.GoToPreviousPage,k=j.NumberOfPages,_=j.Open,p=j.Print,b=j.ShowSearchPopover,M=j.SwitchTheme,F=j.Zoom,I=j.ZoomIn,q=j.ZoomOut;return t.createElement("div",{"data-testid":"toolbar",className:r.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":w}),role:"toolbar","aria-orientation":"horizontal"},t.createElement("div",{className:"rpv-toolbar__left"},t.createElement("div",{className:"rpv-toolbar__item"},t.createElement(b,null)),t.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},t.createElement("div",{className:"rpv-toolbar__item"},t.createElement(W,null))),t.createElement("div",{className:"rpv-toolbar__item"},t.createElement(N,null),t.createElement("span",{className:"rpv-toolbar__label"},t.createElement(k,null))),t.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},t.createElement("div",{className:"rpv-toolbar__item"},t.createElement($,null)))),t.createElement("div",{className:"rpv-toolbar__center"},t.createElement("div",{className:"rpv-toolbar__item"},t.createElement(q,null)),t.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},t.createElement("div",{className:"rpv-toolbar__item"},t.createElement(F,null))),t.createElement("div",{className:"rpv-toolbar__item"},t.createElement(I,null))),t.createElement("div",{className:"rpv-toolbar__right"},t.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},t.createElement("div",{className:"rpv-toolbar__item"},t.createElement(M,null))),t.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},t.createElement("div",{className:"rpv-toolbar__item"},t.createElement(G,null))),t.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},t.createElement("div",{className:"rpv-toolbar__item"},t.createElement(_,null))),t.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},t.createElement("div",{className:"rpv-toolbar__item"},t.createElement(H,null))),t.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},t.createElement("div",{className:"rpv-toolbar__item"},t.createElement(p,null))),t.createElement("div",{className:"rpv-toolbar__item"},t.createElement(f,{toolbarSlot:j}))))}},g=function(P){var R=P.NumberOfPages;return Object.assign({},P,{NumberOfPages:function(){return t.createElement(t.Fragment,null,"/ ",t.createElement(R,null))}})},A=function(P){return y(g)(P)},D=function(P){var R=P.children,j=P.slot;return(R||A)(j)};return toolbar_min.MoreActionsPopover=f,toolbar_min.MoreIcon=l,toolbar_min.toolbarPlugin=function(P){var R=m.fullScreenPlugin(P?P.fullScreenPlugin:{}),j=E.getFilePlugin(P?P.getFilePlugin:{}),w=o.openPlugin(P?P.openPlugin:{}),N=x.pageNavigationPlugin(P?P.pageNavigationPlugin:{}),H=z.printPlugin(P?P.printPlugin:{}),G=X.propertiesPlugin(),$=h.rotatePlugin(),W=n.scrollModePlugin(),k=a.searchPlugin(P?P.searchPlugin:{}),_=d.selectionModePlugin(P?P.selectionModePlugin:{}),p=u.themePlugin(),b=c.zoomPlugin(P?P.zoomPlugin:{}),M=[R,j,w,N,H,G,$,W,k,_,p,b],F=t.useCallback((function(I){var q=R.EnterFullScreen,B=R.EnterFullScreenMenuItem,v=j.Download,C=j.DownloadMenuItem,L=w.Open,V=w.OpenMenuItem,U=N.CurrentPageInput,Y=N.CurrentPageLabel,Q=N.GoToFirstPage,le=N.GoToFirstPageMenuItem,_e=N.GoToLastPage,de=N.GoToLastPageMenuItem,he=N.GoToNextPage,fe=N.GoToNextPageMenuItem,re=N.GoToPreviousPage,ce=N.GoToPreviousPageMenuItem,Se=N.NumberOfPages,ve=H.Print,be=H.PrintMenuItem,ke=G.ShowProperties,Le=G.ShowPropertiesMenuItem,We=$.Rotate,tt=$.RotateBackwardMenuItem,Ze=$.RotateForwardMenuItem,gt=W.SwitchScrollMode,rt=W.SwitchScrollModeMenuItem,ft=W.SwitchViewMode,st=W.SwitchViewModeMenuItem,jt=k.Search,_t=k.ShowSearchPopover,Ee=_.SwitchSelectionMode,ue=_.SwitchSelectionModeMenuItem,se=p.SwitchTheme,Pe=p.SwitchThemeMenuItem,it=b.CurrentScale,He=b.Zoom,Je=b.ZoomIn,zt=b.ZoomInMenuItem,Nt=b.ZoomOut,Ht=b.ZoomOutMenuItem;return t.createElement(D,T({},I,{slot:{CurrentPageInput:U,CurrentPageLabel:Y,CurrentScale:it,Download:v,DownloadMenuItem:C,EnterFullScreen:q,EnterFullScreenMenuItem:B,GoToFirstPage:Q,GoToFirstPageMenuItem:le,GoToLastPage:_e,GoToLastPageMenuItem:de,GoToNextPage:he,GoToNextPageMenuItem:fe,GoToPreviousPage:re,GoToPreviousPageMenuItem:ce,NumberOfPages:Se,Open:L,OpenMenuItem:V,Print:ve,PrintMenuItem:be,Rotate:We,RotateBackwardMenuItem:tt,RotateForwardMenuItem:Ze,Search:jt,ShowProperties:ke,ShowPropertiesMenuItem:Le,ShowSearchPopover:_t,SwitchScrollMode:gt,SwitchScrollModeMenuItem:rt,SwitchSelectionMode:Ee,SwitchSelectionModeMenuItem:ue,SwitchViewMode:ft,SwitchViewModeMenuItem:st,SwitchTheme:se,SwitchThemeMenuItem:Pe,Zoom:He,ZoomIn:Je,ZoomInMenuItem:zt,ZoomOut:Nt,ZoomOutMenuItem:Ht}}))}),[]);return{fullScreenPluginInstance:R,getFilePluginInstance:j,openPluginInstance:w,pageNavigationPluginInstance:N,printPluginInstance:H,propertiesPluginInstance:G,rotatePluginInstance:$,scrollModePluginInstance:W,searchPluginInstance:k,selectionModePluginInstance:_,themePluginInstance:p,zoomPluginInstance:b,install:function(I){M.forEach((function(q){q.install&&q.install(I)}))},renderPageLayer:function(I){return t.createElement(t.Fragment,null,M.map((function(q,B){return q.renderPageLayer?t.createElement(t.Fragment,{key:B},q.renderPageLayer(I)):t.createElement(t.Fragment,{key:B})})))},renderViewer:function(I){var q=I.slot;return M.forEach((function(B){B.renderViewer&&(q=B.renderViewer(T(T({},I),{slot:q})))})),q},uninstall:function(I){M.forEach((function(q){q.uninstall&&q.uninstall(I)}))},onDocumentLoad:function(I){M.forEach((function(q){q.onDocumentLoad&&q.onDocumentLoad(I)}))},onAnnotationLayerRender:function(I){M.forEach((function(q){q.onAnnotationLayerRender&&q.onAnnotationLayerRender(I)}))},onTextLayerRender:function(I){M.forEach((function(q){q.onTextLayerRender&&q.onTextLayerRender(I)}))},onViewerStateChange:function(I){var q=I;return M.forEach((function(B){B.onViewerStateChange&&(q=B.onViewerStateChange(q))})),q},renderDefaultToolbar:y,Toolbar:F}},toolbar_min}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$c.exports;hasRequiredLib$1=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$c.exports=requireToolbar_min(),lib$c.exports}var hasRequiredDefaultLayout_min;function requireDefaultLayout_min(){if(hasRequiredDefaultLayout_min)return defaultLayout_min;hasRequiredDefaultLayout_min=1;var r=requireLib$h(),d=requireReact(),i=requireLib$g(),m=requireLib$f(),E=requireLib$e(),o=requireLib$1();function x(t){var l=Object.create(null);return t&&Object.keys(t).forEach((function(s){if(s!=="default"){var f=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(l,s,f.get?f:{enumerable:!0,get:function(){return t[s]}})}})),l.default=t,Object.freeze(l)}var z=x(d),X=function(){return z.createElement(r.Icon,{size:16},z.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},h=function(){return h=Object.assign||function(t){for(var l,s=1,f=arguments.length;s<f;s++)for(var T in l=arguments[s])Object.prototype.hasOwnProperty.call(l,T)&&(t[T]=l[T]);return t},h.apply(this,arguments)},n=function(){return z.createElement(r.Icon,{size:16},z.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},a=function(){return z.createElement(r.Icon,{size:16},z.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u={left:8,top:0},c={left:-8,top:0},e=function(t){var l=t.attachmentTabContent,s=t.bookmarkTabContent,f=t.store,T=t.thumbnailTabContent,y=t.tabs,g=z.useRef(),A=z.useContext(r.LocalizationContext).l10n,D=z.useState(f.get("isCurrentTabOpened")||!1),P=D[0],R=D[1],j=z.useState(Math.max(f.get("currentTab")||0,0)),w=j[0],N=j[1],H=z.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft,G=[{content:T,icon:z.createElement(a,null),title:A&&A.defaultLayout?A.defaultLayout.thumbnail:"Thumbnail"},{content:s,icon:z.createElement(X,null),title:A&&A.defaultLayout?A.defaultLayout.bookmark:"Bookmark"},{content:l,icon:z.createElement(n,null),title:A&&A.defaultLayout?A.defaultLayout.attachment:"Attachment"}],$=y?y(G):G,W=function(_){_>=0&&_<=$.length-1&&(f.update("isCurrentTabOpened",!0),N(_))},k=function(_){R(_)};return z.useEffect((function(){return f.subscribe("currentTab",W),f.subscribe("isCurrentTabOpened",k),function(){f.unsubscribe("currentTab",W),f.unsubscribe("isCurrentTabOpened",k)}}),[]),$.length===0?z.createElement(z.Fragment,null):z.createElement(z.Fragment,null,z.createElement("div",{"data-testid":"default-layout__sidebar",className:r.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":P,"rpv-default-layout__sidebar--ltr":!H,"rpv-default-layout__sidebar--rtl":H}),ref:g},z.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},z.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},$.map((function(_,p){return z.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":w===p,key:p,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(p),role:"tab"},z.createElement(r.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(p),position:H?r.Position.LeftCenter:r.Position.RightCenter,target:z.createElement(r.MinimalButton,{ariaLabel:_.title,isSelected:w===p,onClick:function(){return(function(b){if(w===b){f.update("isCurrentTabOpened",!f.get("isCurrentTabOpened"));var M=g.current;M&&M.style.width&&M.style.removeProperty("width")}else f.update("currentTab",b)})(p)}},_.icon),content:function(){return _.title},offset:H?c:u}))}))),z.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(w),id:"rpv-default-layout__sidebar-content",className:r.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":P,"rpv-default-layout__sidebar-content--ltr":!H,"rpv-default-layout__sidebar-content--rtl":H}),role:"tabpanel",tabIndex:-1},$[w].content))),P&&z.createElement(r.Splitter,{constrain:function(_){return _.firstHalfPercentage>=20&&_.firstHalfPercentage<=80}}))};return defaultLayout_min.BookmarkIcon=X,defaultLayout_min.FileIcon=n,defaultLayout_min.ThumbnailIcon=a,defaultLayout_min.defaultLayoutPlugin=function(t){var l=z.useMemo((function(){return r.createStore({isCurrentTabOpened:!1,currentTab:0})}),[]),s=i.attachmentPlugin(),f=m.bookmarkPlugin(),T=E.thumbnailPlugin(t?t.thumbnailPlugin:{}),y=o.toolbarPlugin(t?t.toolbarPlugin:{}),g=s.Attachments,A=f.Bookmarks,D=T.Thumbnails,P=y.Toolbar,R=t?t.sidebarTabs:function(w){return w},j=[s,f,T,y];return{attachmentPluginInstance:s,bookmarkPluginInstance:f,thumbnailPluginInstance:T,toolbarPluginInstance:y,activateTab:function(w){l.update("currentTab",w)},toggleTab:function(w){var N=l.get("currentTab");l.update("isCurrentTabOpened",!l.get("isCurrentTabOpened")),N!==w&&l.update("currentTab",w)},install:function(w){j.forEach((function(N){N.install&&N.install(w)}))},renderPageLayer:function(w){return z.createElement(z.Fragment,null,j.map((function(N,H){return N.renderPageLayer?z.createElement(z.Fragment,{key:H},N.renderPageLayer(w)):z.createElement(z.Fragment,{key:H},z.createElement(z.Fragment,null))})))},renderViewer:function(w){var N=w.slot;j.forEach((function(G){G.renderViewer&&(N=G.renderViewer(h(h({},w),{slot:N})))}));var H=N.subSlot&&N.subSlot.attrs?{className:N.subSlot.attrs.className,"data-testid":N.subSlot.attrs["data-testid"],ref:N.subSlot.attrs.ref,style:N.subSlot.attrs.style}:{};return N.children=z.createElement("div",{className:"rpv-default-layout__container"},z.createElement("div",{"data-testid":"default-layout__main",className:r.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":w.themeContext.direction===r.TextDirection.RightToLeft})},z.createElement(e,{attachmentTabContent:z.createElement(g,null),bookmarkTabContent:z.createElement(A,null),store:l,thumbnailTabContent:z.createElement(D,null),tabs:R}),z.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},z.createElement("div",{className:"rpv-default-layout__toolbar"},t&&t.renderToolbar?t.renderToolbar(P):z.createElement(P,null)),z.createElement("div",h({},H),N.subSlot.children))),N.children),N.subSlot.attrs={},N.subSlot.children=z.createElement(z.Fragment,null),N},uninstall:function(w){j.forEach((function(N){N.uninstall&&N.uninstall(w)}))},onDocumentLoad:function(w){j.forEach((function(N){N.onDocumentLoad&&N.onDocumentLoad(w)})),t&&t.setInitialTab&&t.setInitialTab(w.doc).then((function(N){l.update("currentTab",N),l.update("isCurrentTabOpened",!0)}))},onAnnotationLayerRender:function(w){j.forEach((function(N){N.onAnnotationLayerRender&&N.onAnnotationLayerRender(w)}))},onTextLayerRender:function(w){j.forEach((function(N){N.onTextLayerRender&&N.onTextLayerRender(w)}))},onViewerStateChange:function(w){var N=w;return j.forEach((function(H){H.onViewerStateChange&&(N=H.onViewerStateChange(N))})),N}}},defaultLayout_min.setInitialTabFromPageMode=function(t){return new Promise((function(l,s){t.getPageMode().then((function(f){if(f)switch(f){case r.PageMode.Attachments:l(2);break;case r.PageMode.Bookmarks:l(1);break;case r.PageMode.Thumbnails:l(0);break;default:l(-1)}else l(-1)}))}))},defaultLayout_min}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib$h.exports;hasRequiredLib=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$h.exports=requireDefaultLayout_min(),lib$h.exports}var libExports$1=requireLib(),libExports=requireLib$h();const ProtectedView=({passwordStatus:r,verifyPassword:d})=>{const[i,m]=reactExports.useState(""),E=()=>d(i);return jsxRuntimeExports.jsx("div",{style:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",width:"100%"},children:jsxRuntimeExports.jsxs("div",{style:{width:"20rem"},children:[jsxRuntimeExports.jsx("div",{style:{marginBottom:"0.5rem"},children:jsxRuntimeExports.jsx(libExports.TextBox,{placeholder:"Enter the password ...",type:"password",value:i,onChange:m})}),r===libExports.PasswordStatus.WrongPassword&&jsxRuntimeExports.jsx("div",{style:{color:"#c02424",marginBottom:"0.5rem"},children:"The password is invalid. Please try again!"}),jsxRuntimeExports.jsx(libExports.PrimaryButton,{onClick:E,children:"Submit"})]})})},ProtectedPDF=({fileUrl:r})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(libExports.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.js",children:jsxRuntimeExports.jsx(libExports.Viewer,{fileUrl:r,renderProtectedView:d=>jsxRuntimeExports.jsx(ProtectedView,{...d})})})}),KorikiPamphlet=()=>(libExports$1.defaultLayoutPlugin(),jsxRuntimeExports.jsxs("div",{className:"min-h-screen print:hidden",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("main",{children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto py-16 px-6 mt-16 max-w-3xl",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Koriki Pamphlet"}),jsxRuntimeExports.jsx(ProtectedPDF,{fileUrl:"/assets/Koriki_Pamphlet.pdf"})]})}),jsxRuntimeExports.jsx(Footer,{}),jsxRuntimeExports.jsx(CookieConsent,{}),jsxRuntimeExports.jsx(Toaster,{})]}));export{KorikiPamphlet as default};
